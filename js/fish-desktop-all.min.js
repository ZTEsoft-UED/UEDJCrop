/*! fish-desktop 2014-09-30 Copyright 2014 ZTESOFT, Inc.All rights reserved. */
!function(){var a=window.fish={version:"1.0.0",language:"en",locale:{},getResource:function(a){if(!a)return"";for(var b=this.locale[this.language],c=a.split("."),d=0,e=c.length;e>d;d++)if(b=b[c[d]],!b){b="UNKNOWN_KEY_"+a;break}return b}};return a.store={length:function(){return localStorage.length},set:function(a,b){localStorage.setItem(a,b)},get:function(a){return localStorage.getItem(a)},remove:function(a){localStorage.removeItem(a)},clear:function(){localStorage.clear()},each:function(a){for(var b=localStorage.length,c=0,a=a||function(){};b>c;c++){var d=localStorage.key(c);if(a.call(this,d,this.get(d))===!1)break;localStorage.length<b&&(b--,c--)}}},a}(),!function(a){"function"==typeof define&&define.amd?define("fish.browser",a):a()}(function(){var a=navigator.userAgent.toLowerCase(),b=window.opera,c={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(a),opera:!!b&&b.version,webkit:a.indexOf(" applewebkit/")>-1,mac:a.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode};c.gecko="Gecko"==navigator.product&&!c.webkit&&!c.opera&&!c.ie;var d=0;if(c.ie){var e=a.match(/(?:msie\s([\w.]+))/),f=a.match(/(?:trident.*rv:([\w.]+))/);d=e&&f&&e[1]&&f[1]?Math.max(1*e[1],1*f[1]):e&&e[1]?1*e[1]:f&&f[1]?1*f[1]:0,c.ie11Compat=11==document.documentMode,c.ie9Compat=9==document.documentMode,c.ie8Compat=8==document.documentMode,c.ie7Compat=7==d&&!document.documentMode||7==document.documentMode,c.ie6Compat=7>d||c.quirks,c.isIE6=7>d,c.isIE7=7==d,c.isIE8=8==d,c.isIE9=9==d,c.isIE10=10==d,c.isIE11=11==d}if(c.gecko){var g=a.match(/rv:([\d\.]+)/);g&&(g=g[1].split("."),d=1e4*g[0]+100*(g[1]||0)+1*(g[2]||0))}/chrome\/(\d+\.\d)/i.test(a)&&(c.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a)&&(c.safari=+(RegExp.$1||RegExp.$2)),c.opera&&(d=parseFloat(b.version())),c.webkit&&(d=parseFloat(a.match(/ applewebkit\/(\d+)/)[1])),c.version=d,window.fish||(window.fish={}),window.fish.browser=c});var Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},Handlebars=l();return Handlebars.create=l,f=Handlebars}(d,a,c,b,e),g=function(a){"use strict";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type="program",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type="mustache",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped="{"!==h&&"&"!==h}else this.escaped=!!d;this.sexpr=a instanceof e.SexprNode?a:new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type="sexpr",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type="partial",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type="content",this.string=a},HashNode:function(a,c){b.call(this,c),this.type="hash",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type="ID";for(var e="",f=[],g=0,h=0,i=a.length;i>h;h++){var j=a[h].part;if(e+=(a[h].separator||"")+j,".."===j||"."===j||"this"===j){if(f.length>0)throw new d("Invalid path: "+e,this);".."===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join("."),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type="PARTIAL_NAME",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type="DATA",this.id=a},StringNode:function(a,c){b.call(this,c),this.type="STRING",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c),this.type="comment",this.comment=a}};return c=e}(c),h=function(){"use strict";var a,b=function(){function a(a,b){return{left:"~"===a.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g){var h=g.length-1;switch(f){case 1:return new e.ProgramNode(g[h-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[h-1],g[h],this._$);break;case 4:this.$=new e.ProgramNode(g[h-2],g[h-1],g[h],this._$);break;case 5:this.$=new e.ProgramNode(g[h-1],g[h],[],this._$);break;case 6:this.$=new e.ProgramNode(g[h],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[h]];break;case 10:g[h-1].push(g[h]),this.$=g[h-1];break;case 11:this.$=new e.BlockNode(g[h-2],g[h-1].inverse,g[h-1],g[h],this._$);break;case 12:this.$=new e.BlockNode(g[h-2],g[h-1],g[h-1].inverse,g[h],this._$);break;case 13:this.$=g[h];break;case 14:this.$=g[h];break;case 15:this.$=new e.ContentNode(g[h],this._$);break;case 16:this.$=new e.CommentNode(g[h],this._$);break;case 17:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 18:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 19:this.$={path:g[h-1],strip:a(g[h-2],g[h])};break;case 20:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 21:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 22:this.$=new e.PartialNode(g[h-2],g[h-1],a(g[h-3],g[h]),this._$);break;case 23:this.$=a(g[h-1],g[h]);break;case 24:this.$=new e.SexprNode([g[h-2]].concat(g[h-1]),g[h],this._$);break;case 25:this.$=new e.SexprNode([g[h]],null,this._$);break;case 26:this.$=g[h];break;case 27:this.$=new e.StringNode(g[h],this._$);break;case 28:this.$=new e.IntegerNode(g[h],this._$);break;case 29:this.$=new e.BooleanNode(g[h],this._$);break;case 30:this.$=g[h];break;case 31:g[h-1].isHelper=!0,this.$=g[h-1];break;case 32:this.$=new e.HashNode(g[h],this._$);break;case 33:this.$=[g[h-2],g[h]];break;case 34:this.$=new e.PartialNameNode(g[h],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[h],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[h],this._$));break;case 37:this.$=new e.DataNode(g[h],this._$);break;case 38:this.$=new e.IdNode(g[h],this._$);break;case 39:g[h-2].push({part:g[h],separator:g[h-1]}),this.$=g[h-2];break;case 40:this.$=[{part:g[h]}];break;case 43:this.$=[];break;case 44:g[h-1].push(g[h]);break;case 47:this.$=[g[h]];break;case 48:g[h-1].push(g[h])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\"/g,'"'),32;case 24:return b.yytext=e(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){"use strict";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){"use strict";function b(){}function c(a,b,c){if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode("strip"),b=this[a.type](a),c.right&&this.opcode("strip"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);"helper"===f?this.helperSexpr(e,c,d):"simple"===f?(this.simpleSexpr(e),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(e,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr),this.opcode(a.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new f("You specified knownHelpersOnly, but used the unknown helper "+e,a);this.opcode("invokeHelper",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f("Scoped data references are not supported: "+a.original,a);this.opcode("lookupData");for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode("lookup",b[c])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)
},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){"use strict";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf("depth")&&(c=!0),e=/^[0-9]+$/.test(b)?a+"["+b+"]":d.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']",c?"("+a+" && "+e+")":e},compilerInfo:function(){var a=f,b=g[a];return"this.compilerInfo = ["+a+",'"+b+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a,this.options=b||{},h("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);var e,f=a.opcodes;this.i=0;for(var g=f.length;this.i<g;this.i++)e=f[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i("Compile completed with content left on stack");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}a.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", ")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var d=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],e=0,f=this.environment.depths.list.length;f>e;e++)d.push("depth"+this.environment.depths.list[e]);var g=this.mergeSource();if(this.isChild||(g=this.compilerInfo()+g),a)return d.push(g),Function.apply(this,d);var i="function "+(this.name||"")+"("+d.join(",")+") {\n  "+g+"}";return h("debug",i+"\n\n"),i},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\s+/,"")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"sexpr"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){this.pushStackLiteral(null!=a?this.programExpression(a):null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup("depth"+this.lastContext,b,"context"),f="helper = "+d.name+" || "+e;d.paramsInit&&(f+=","+d.paramsInit),this.push("("+f+",helper ? helper.call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+"))"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource("if (helper = "+d+") { "+f+" = helper.call("+c.callParams+"); }"),this.pushSource("else { helper = "+e+"; "+f+" = typeof helper === functionType ? helper.call("+c.callParams+") : helper; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],e.push(1===b?"depth0":"depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f="",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f="("+this.push(i)+" = "+h+"),",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push("("+f+j+")")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+" = ("+f+j+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i("Invalid stack pop");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[],e=this.setupParams(a,d,c),f=this.nameLookup("helpers",b,"helper");return{params:d,paramsInit:e,name:f,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push("hash:"+this.popStack()),this.options.stringParams&&(f.push("hashTypes:"+this.popStack()),f.push("hashContexts:"+this.popStack())),d=this.popStack(),e=this.popStack(),(e||d)&&(e||(this.context.aliases.self="this",e="self.noop"),d||(this.context.aliases.self="this",d="self.noop"),f.push("inverse:"+d),f.push("fn:"+e));for(var i=0;a>i;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push("contexts:["+g.join(",")+"]"),f.push("types:["+h.join(",")+"]")),this.options.data&&f.push("data:data"),f},setupParams:function(a,b,c){var d="{"+this.setupOptions(a,b).join(",")+"}";return c?(this.useRegister("options"),b.push("options"),"options="+d):(b.push(d),"")}};for(var j="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1},e=d}(d,c),l=function(a,b,c,d,e){"use strict";var f,Handlebars=a,g=b,h=c.parser,i=c.parse,j=d.Compiler,k=d.compile,l=d.precompile,m=e,n=Handlebars.create,o=function(){var a=n();return a.compile=function(b,c){return k(b,c,a)},a.precompile=function(b,c){return l(b,c,a)},a.AST=g,a.Compiler=j,a.JavaScriptCompiler=m,a.Parser=h,a.parse=i,a};return Handlebars=o(),Handlebars.create=o,f=Handlebars}(f,g,i,j,k);return l}();!function(a,b){function c(a){var b=pb[a]={};return jQuery.each(a.split(cb),function(_,a){b[a]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(rb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:qb.test(d)?jQuery.parseJSON(d):d}catch(f){}jQuery.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!jQuery.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,jQuery.isFunction(b))return jQuery.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return jQuery.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=jQuery.grep(a,function(a){return 1===a.nodeType});if(Lb.test(b))return jQuery.filter(b,d,!c);b=jQuery.filter(b,d)}return jQuery.grep(a,function(a){return jQuery.inArray(a,b)>=0===c})}function k(a){var b=Ob.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&jQuery.hasData(a)){var c,d,e,f=jQuery._data(a),g=jQuery._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)jQuery.event.add(b,c,h[c][d])}g.data&&(g.data=jQuery.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),jQuery.support.html5Clone&&a.innerHTML&&!jQuery.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Yb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(jQuery.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Yb.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=sc.length;e--;)if(b=sc[e]+c,b in a)return b;return d}function r(a,b){return a=b||a,"none"===jQuery.css(a,"display")||!jQuery.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)c=a[f],c.style&&(e[f]=jQuery._data(c,"olddisplay"),b?(e[f]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=jQuery._data(c,"olddisplay",w(c.nodeName)))):(d=dc(c,"display"),e[f]||"none"===d||jQuery._data(c,"olddisplay",d)));for(f=0;g>f;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=lc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>e;e+=2)"margin"===c&&(f+=jQuery.css(a,c+rc[e],!0)),d?("content"===c&&(f-=parseFloat(dc(a,"padding"+rc[e]))||0),"margin"!==c&&(f-=parseFloat(dc(a,"border"+rc[e]+"Width"))||0)):(f+=parseFloat(dc(a,"padding"+rc[e]))||0,"padding"!==c&&(f+=parseFloat(dc(a,"border"+rc[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=jQuery.support.boxSizing&&"border-box"===jQuery.css(a,"boxSizing");if(0>=d||null==d){if(d=dc(a,b),(0>d||null==d)&&(d=a.style[b]),mc.test(d))return d;e=f&&(jQuery.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(oc[a])return oc[a];var b=jQuery("<"+a+">").appendTo(P.body),c=b.css("display");return b.remove(),("none"===c||""===c)&&(ec=P.body.appendChild(ec||jQuery.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),fc&&ec.createElement||(fc=(ec.contentWindow||ec.contentDocument).document,fc.write("<!doctype html><html><body>"),fc.close()),b=fc.body.appendChild(fc.createElement(a)),c=dc(b,"display"),P.body.removeChild(ec)),oc[a]=c,c}function x(a,b,c,d){var e;if(jQuery.isArray(b))jQuery.each(b,function(b,e){c||vc.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==jQuery.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(cb),h=0,i=g.length;if(jQuery.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Lc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return!l&&h||g["*"]||(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=jQuery.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&jQuery.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(b){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function F(){return setTimeout(function(){Wc=b},0),Wc=jQuery.now()}function G(a,b){jQuery.each(b,function(b,c){for(var d=(ad[b]||[]).concat(ad["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=_c.length,g=jQuery.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Wc||F(),c=Math.max(0,i.startTime+i.duration-b),d=c/i.duration||0,e=1-d,f=0,h=i.tweens.length;h>f;f++)i.tweens[f].run(e);return g.notifyWith(a,[i,e,c]),1>e&&h?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:jQuery.extend({},b),opts:jQuery.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Wc||F(),duration:c.duration,tweens:[],createTween:function(b,c){var d=jQuery.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(d),d},stop:function(b){for(var c=0,d=b?i.tweens.length:0;d>c;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(I(j,i.opts.specialEasing);f>e;e++)if(d=_c[e].call(i,a,j,i.opts))return d;return G(i,j),jQuery.isFunction(i.opts.start)&&i.opts.start.call(a,i),jQuery.fx.timer(jQuery.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a)if(d=jQuery.camelCase(c),e=b[d],f=a[c],jQuery.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=jQuery.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&r(a);c.queue||(k=jQuery._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,jQuery.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===jQuery.css(a,"display")&&"none"===jQuery.css(a,"float")&&(jQuery.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",jQuery.support.shrinkWrapBlocks||m.done(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],Yc.exec(f)){if(delete b[d],i=i||"toggle"===f,f===(q?"hide":"show"))continue;p.push(d)}if(g=p.length){h=jQuery._data(a,"fxshow")||jQuery._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?jQuery(a).show():m.done(function(){jQuery(a).hide()}),m.done(function(){var b;jQuery.removeData(a,"fxshow",!0);for(b in o)jQuery.style(a,b,o[b])});for(d=0;g>d;d++)e=p[d],j=m.createTween(e,q?h[e]:0),o[e]=h[e]||jQuery.style(a,e),e in h||(h[e]=j.start,q&&(j.end=j.start,j.start="width"===e||"height"===e?1:0))}}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=rc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return jQuery.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,jQuery=function(a,b){return new jQuery.fn.init(a,b,N)},ab=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,bb=/\S/,cb=/\s+/,db=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,eb=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,fb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gb=/^[\],:{}\s]*$/,hb=/(?:^|:|,)(?:\s*\[)+/g,ib=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,jb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,kb=/^-ms-/,lb=/-([\da-z])/gi,mb=function(a,b){return(b+"").toUpperCase()},nb=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",nb,!1),jQuery.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",nb),jQuery.ready())},ob={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:eb.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1])return c=c instanceof jQuery?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=jQuery.parseHTML(e[1],g,!0),fb.test(e[1])&&jQuery.isPlainObject(c)&&this.attr.call(a,c,!0),jQuery.merge(this,a);if(f=P.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return jQuery.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),jQuery.makeArray(a,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=jQuery.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return jQuery.each(this,a,b)},ready:function(a){return jQuery.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack(jQuery.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||jQuery.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(jQuery.isPlainObject(e)||(f=jQuery.isArray(e)))?(f?(f=!1,g=d&&jQuery.isArray(d)?d:[]):g=d&&jQuery.isPlainObject(d)?d:{},h[c]=jQuery.extend(k,g,e)):e!==b&&(h[c]=e));return h},jQuery.extend({noConflict:function(b){return a.$===jQuery&&(a.$=T),b&&a.jQuery===jQuery&&(a.jQuery=S),jQuery},isReady:!1,readyWait:1,holdReady:function(a){a?jQuery.readyWait++:jQuery.ready(!0)},ready:function(a){if(a===!0?!--jQuery.readyWait:!jQuery.isReady){if(!P.body)return setTimeout(jQuery.ready,1);jQuery.isReady=!0,a!==!0&&--jQuery.readyWait>0||(O.resolveWith(P,[jQuery]),jQuery.fn.trigger&&jQuery(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===jQuery.type(a)},isArray:Array.isArray||function(a){return"array"===jQuery.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):ob[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==jQuery.type(a)||a.nodeType||jQuery.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Y.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=fb.exec(a))?[b.createElement(d[1])]:(d=jQuery.buildFragment([a],b,c?null:[]),jQuery.merge([],(d.cacheable?jQuery.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=jQuery.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):gb.test(b.replace(ib,"@").replace(jb,"]").replace(hb,""))?new Function("return "+b)():void jQuery.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&bb.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(kb,"ms-").replace(lb,mb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||jQuery.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:Z&&!Z.call("")?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":(a+"").replace(db,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=jQuery.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||jQuery.isWindow(a)?U.call(d,a):jQuery.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof jQuery||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||jQuery.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),jQuery.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||jQuery.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)jQuery.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&jQuery.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(jQuery(a),c)}):(c.call(a,e),c=null)),c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),jQuery.ready.promise=function(b){if(!O)if(O=jQuery.Deferred(),"complete"===P.readyState)setTimeout(jQuery.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",nb,!1),a.addEventListener("load",jQuery.ready,!1);else{P.attachEvent("onreadystatechange",nb),a.attachEvent("onload",jQuery.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!jQuery.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}jQuery.ready()}}()}return O.promise(b)},jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){ob["[object "+b+"]"]=b.toLowerCase()}),N=jQuery(P);var pb={};jQuery.Callbacks=function(a){a="string"==typeof a?pb[a]||c(a):jQuery.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){jQuery.each(b,function(_,b){var d=jQuery.type(b);"function"===d?a.unique&&m.has(b)||j.push(b):b&&b.length&&"string"!==d&&c(b)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&jQuery.each(arguments,function(_,a){for(var b;(b=jQuery.inArray(a,j,b))>-1;)j.splice(b,1),f&&(h>=b&&h--,i>=b&&i--)}),this},has:function(a){return jQuery.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||e&&!k||(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},jQuery.extend({Deferred:function(a){var b=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return jQuery.Deferred(function(c){jQuery.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](jQuery.isFunction(g)?function(){var a=g.apply(this,arguments);a&&jQuery.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?jQuery.extend(a,d):d
}},e={};return d.pipe=d.then,jQuery.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&jQuery.isFunction(a.promise)?g:0,i=1===h?a:jQuery.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&jQuery.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),jQuery.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],!c||!d||!c.length)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return jQuery(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var qb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rb=/([A-Z])/g;jQuery.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?jQuery.cache[a[jQuery.expando]]:a[jQuery.expando],!!a&&!e(a)},data:function(a,c,d,e){if(jQuery.acceptData(a)){var f,g,h=jQuery.expando,i="string"==typeof c,j=a.nodeType,k=j?jQuery.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=jQuery.deletedIds.pop()||jQuery.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=jQuery.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=jQuery.extend(k[l],c):k[l].data=jQuery.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[jQuery.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[jQuery.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if(jQuery.acceptData(a)){var d,f,g,h=a.nodeType,i=h?jQuery.cache:a,j=h?a[jQuery.expando]:jQuery.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){jQuery.isArray(b)||(b in d?b=[b]:(b=jQuery.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:jQuery.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?jQuery.cleanData([a],!0):jQuery.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return jQuery.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&jQuery.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),jQuery.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=jQuery.data(j),1===j.nodeType&&!jQuery._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;i>k;k++)h=g[k].name,h.indexOf("data-")||(h=jQuery.camelCase(h.substring(5)),d(j,h,l[h]));jQuery._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){jQuery.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",jQuery.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=jQuery.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,void this.each(function(){var b=jQuery(this);b.triggerHandler("setData"+f,e),jQuery.data(this,a,c),b.triggerHandler("changeData"+f,e)}))},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){jQuery.removeData(this,a)})}}),jQuery.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=jQuery._data(a,b),c&&(!d||jQuery.isArray(c)?d=jQuery._data(a,b,jQuery.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=jQuery.queue(a,b),d=c.length,e=c.shift(),f=jQuery._queueHooks(a,b),g=function(){jQuery.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return jQuery._data(a,c)||jQuery._data(a,c,{empty:jQuery.Callbacks("once memory").add(function(){jQuery.removeData(a,b+"queue",!0),jQuery.removeData(a,c,!0)})})}}),jQuery.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?jQuery.queue(this[0],a):c===b?this:this.each(function(){var b=jQuery.queue(this,a,c);jQuery._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&jQuery.dequeue(this,a)})},dequeue:function(a){return this.each(function(){jQuery.dequeue(this,a)})},delay:function(a,b){return a=jQuery.fx?jQuery.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=jQuery.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=jQuery._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var sb,tb,ub,vb=/[\t\r\n]/g,wb=/\r/g,xb=/^(?:button|input)$/i,yb=/^(?:button|input|object|select|textarea)$/i,zb=/^a(?:rea|)$/i,Ab=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Bb=jQuery.support.getSetAttribute;jQuery.fn.extend({attr:function(a,b){return jQuery.access(this,jQuery.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){jQuery.removeAttr(this,a)})},prop:function(a,b){return jQuery.access(this,jQuery.prop,a,b,arguments.length>1)},removeProp:function(a){return a=jQuery.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(cb),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=jQuery.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(cb),h=0,i=this.length;i>h;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(vb," "),f=0,g=c.length;g>f;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?jQuery.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each(jQuery.isFunction(a)?function(c){jQuery(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=jQuery(this),h=b,i=a.split(cb);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||a===!1?"":jQuery._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(vb," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=jQuery.isFunction(a),this.each(function(d){var f,g=jQuery(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":jQuery.isArray(f)&&(f=jQuery.map(f,function(a){return null==a?"":a+""})),c=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=jQuery.valHooks[f.type]||jQuery.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(wb,""):null==d?"":d)}}}),jQuery.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(jQuery.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&jQuery.nodeName(c.parentNode,"optgroup"))){if(b=jQuery(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c=jQuery.makeArray(b);return jQuery(a).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&jQuery.isFunction(jQuery.fn[c])?jQuery(a)[c](d):"undefined"==typeof a.getAttribute?jQuery.prop(a,c,d):(h=1!==i||!jQuery.isXMLDoc(a),h&&(c=c.toLowerCase(),g=jQuery.attrHooks[c]||(Ab.test(c)?tb:sb)),d!==b?null===d?void jQuery.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(cb);g<d.length;g++)e=d[g],e&&(c=jQuery.propFix[e]||e,f=Ab.test(e),f||jQuery.attr(a,e,""),a.removeAttribute(Bb?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(xb.test(a.nodeName)&&a.parentNode)jQuery.error("type property can't be changed");else if(!jQuery.support.radioValue&&"radio"===b&&jQuery.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return sb&&jQuery.nodeName(a,"button")?sb.get(a,b):b in a?a.value:null},set:function(a,b,c){return sb&&jQuery.nodeName(a,"button")?sb.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!jQuery.isXMLDoc(a),g&&(c=jQuery.propFix[c]||c,f=jQuery.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):yb.test(a.nodeName)||zb.test(a.nodeName)&&a.href?0:b}}}}),tb={get:function(a,c){var d,e=jQuery.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?jQuery.removeAttr(a,c):(d=jQuery.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Bb||(ub={name:!0,id:!0,coords:!0},sb=jQuery.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(ub[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=P.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},jQuery.each(["width","height"],function(a,b){jQuery.attrHooks[b]=jQuery.extend(jQuery.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),jQuery.attrHooks.contenteditable={get:sb.get,set:function(a,b,c){""===b&&(b="false"),sb.set(a,b,c)}}),jQuery.support.hrefNormalized||jQuery.each(["href","src","width","height"],function(a,c){jQuery.attrHooks[c]=jQuery.extend(jQuery.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),jQuery.support.style||(jQuery.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),jQuery.support.optSelected||(jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),jQuery.support.enctype||(jQuery.propFix.enctype="encoding"),jQuery.support.checkOn||jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(a,b){return jQuery.isArray(b)?a.checked=jQuery.inArray(jQuery(a).val(),b)>=0:void 0}})});var Cb=/^(?:textarea|input|select)$/i,Db=/^([^\.]*|)(?:\.(.+)|)$/,Eb=/(?:^|\s)hover(\.\S+|)\b/,Fb=/^key/,Gb=/^(?:mouse|contextmenu)|click/,Hb=/^(?:focusinfocus|focusoutblur)$/,Ib=function(a){return jQuery.event.special.hover?a:a.replace(Eb,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=jQuery._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=jQuery.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof jQuery||a&&jQuery.event.triggered===a.type?b:jQuery.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=jQuery.trim(Ib(c)).split(" "),j=0;j<c.length;j++)k=Db.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=jQuery.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=jQuery.event.special[l]||{},n=jQuery.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&jQuery.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),jQuery.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=jQuery.hasData(a)&&jQuery._data(a);if(q&&(m=q.events)){for(b=jQuery.trim(Ib(b||"")).split(" "),f=0;f<b.length;f++)if(g=Db.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=jQuery.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));0===o.length&&k!==o.length&&(n.teardown&&n.teardown.call(a,j,q.handle)!==!1||jQuery.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)jQuery.event.remove(a,h+b[f],c,d,!0);jQuery.isEmptyObject(m)&&(delete q.handle,jQuery.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(!Hb.test(q+jQuery.event.triggered)&&(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),e&&!jQuery.event.customEvent[q]||jQuery.event.global[q]))if(c="object"==typeof c?c[jQuery.expando]?c:new jQuery.Event(q,c):new jQuery.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?jQuery.makeArray(d):[],d.unshift(c),m=jQuery.event.special[q]||{},!m.trigger||m.trigger.apply(e,d)!==!1){if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!jQuery.isWindow(e)){for(p=m.delegateType||q,j=Hb.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=(jQuery._data(j,"events")||{})[c.type]&&jQuery._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&jQuery.acceptData(j)&&n.apply&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&jQuery.nodeName(e,"a")||!jQuery.acceptData(e)||l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!jQuery.isWindow(e)&&(k=e[l],k&&(e[l]=null),jQuery.event.triggered=q,e[q](),jQuery.event.triggered=b,k&&(e[l]=k)),c.result}}else{g=jQuery.cache;for(i in g)g[i].events&&g[i].events[q]&&jQuery.event.trigger(c,d,g[i].handle.elem,!0)}}},dispatch:function(c){c=jQuery.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m=(jQuery._data(this,"events")||{})[c.type]||[],n=m.delegateCount,o=V.call(arguments),p=!c.exclusive&&!c.namespace,q=jQuery.event.special[c.type]||{},r=[];if(o[0]=c,c.delegateTarget=this,!q.preDispatch||q.preDispatch.call(this,c)!==!1){if(n&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(h={},j=[],d=0;n>d;d++)k=m[d],l=k.selector,h[l]===b&&(h[l]=k.needsContext?jQuery(l,this).index(f)>=0:jQuery.find(l,this,null,[f]).length),h[l]&&j.push(k);j.length&&r.push({elem:f,matches:j})}for(m.length>n&&r.push({elem:this,matches:m.slice(n)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(i=r[d],c.currentTarget=i.elem,e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++)k=i.matches[e],(p||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))&&(c.data=k.data,c.handleObj=k,g=((jQuery.event.special[k.origType]||{}).handle||k.handler).apply(i.elem,o),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return q.postDispatch&&q.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[jQuery.expando])return a;var b,c,d=a,e=jQuery.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=jQuery.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){jQuery.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=jQuery.extend(new jQuery.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?jQuery.event.trigger(e,null,b):jQuery.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},jQuery.event.handle=jQuery.event.dispatch,jQuery.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},jQuery.Event=function(a,b){return this instanceof jQuery.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&jQuery.extend(this,b),this.timeStamp=a&&a.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(a,b)},jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){jQuery.event.special[a]={delegateType:b,bindType:b,handle:function(a){{var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector}return(!e||e!==d&&!jQuery.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),jQuery.support.submitBubbles||(jQuery.event.special.submit={setup:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=jQuery.nodeName(c,"input")||jQuery.nodeName(c,"button")?c.form:b;d&&!jQuery._data(d,"_submit_attached")&&(jQuery.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),jQuery._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&jQuery.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.remove(this,"._submit")}}),jQuery.support.changeBubbles||(jQuery.event.special.change={setup:function(){return Cb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(jQuery.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),jQuery.event.simulate("change",this,a,!0)})),!1):void jQuery.event.add(this,"beforeactivate._change",function(a){var b=a.target;Cb.test(b.nodeName)&&!jQuery._data(b,"_change_attached")&&(jQuery.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||jQuery.event.simulate("change",this.parentNode,a,!0)}),jQuery._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return jQuery.event.remove(this,"._change"),!Cb.test(this.nodeName)}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){jQuery.event.simulate(b,a.target,jQuery.event.fix(a),!0)};jQuery.event.special[b]={setup:function(){0===c++&&P.addEventListener(a,d,!0)},teardown:function(){0===--c&&P.removeEventListener(a,d,!0)}}}),jQuery.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return jQuery().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,jQuery(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=f),this.each(function(){jQuery.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return jQuery(this.context).on(a,this.selector,b,c),this},die:function(a,b){return jQuery(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){jQuery.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?jQuery.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||jQuery.guid++,d=0,e=function(c){var e=(jQuery._data(this,"lastToggle"+a.guid)||0)%d;return jQuery._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){jQuery.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Fb.test(b)&&(jQuery.event.fixHooks[b]=jQuery.event.keyHooks),Gb.test(b)&&(jQuery.event.fixHooks[b]=jQuery.event.mouseHooks)}),function(a,b){function c(a,b,c,d){c=c||[],b=b||F;var e,f,g,h,i=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==i&&9!==i)return[];if(g=v(b),!g&&!d&&(e=db.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&w(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return K.apply(c,L.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&nb&&b.getElementsByClassName)return K.apply(c,L.call(b.getElementsByClassName(h),0)),c}return p(a.replace(Z,"$1"),b,c,d,g)}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return N(function(b){return b=+b,N(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function g(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function h(a,b){var d,e,f,g,h,i,j,k=Q[D][a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=t.preFilter;h;){(!d||(e=ab.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=bb.exec(h))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=e[0].replace(Z," "));for(g in t.filter)!(e=ib[g].exec(h))||j[g]&&!(e=j[g](e))||(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=g,d.matches=e);if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function i(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,f=I++;return b.first?function(b,c,f){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,f)}:function(b,c,g){if(g){for(;b=b[d];)if((e||1===b.nodeType)&&a(b,c,g))return b}else for(var h,i=H+" "+f+" ",j=i+r;b=b[d];)if(e||1===b.nodeType){if((h=b[D])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{if(b[D]=j,a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function j(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function l(a,b,c,d,e,f){return d&&!d[D]&&(d=l(d)),e&&!e[D]&&(e=l(e,f)),N(function(f,g,h,i){var j,l,m,n=[],p=[],q=g.length,r=f||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!f&&b?r:k(r,n,a,h,i),t=c?e||(f?a:q||d)?[]:g:s;if(c&&c(s,t,h,i),d)for(j=k(t,p),d(j,[],h,i),l=j.length;l--;)(m=j[l])&&(t[p[l]]=!(s[p[l]]=m));if(f){if(e||a){if(e){for(j=[],l=t.length;l--;)(m=t[l])&&j.push(s[l]=m);e(null,t=[],j,i)}for(l=t.length;l--;)(m=t[l])&&(j=e?M.call(f,m):n[l])>-1&&(f[j]=!(g[j]=m))}}else t=k(t===g?t.splice(q,t.length):t),e?e(null,g,t,i):K.apply(g,t)})}function m(a){for(var b,c,d,e=a.length,f=t.relative[a[0].type],g=f||t.relative[" "],h=f?1:0,k=i(function(a){return a===b},g,!0),n=i(function(a){return M.call(b,a)>-1},g,!0),o=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?k(a,c,d):n(a,c,d))}];e>h;h++)if(c=t.relative[a[h].type])o=[i(j(o),c)];else{if(c=t.filter[a[h].type].apply(null,a[h].matches),c[D]){for(d=++h;e>d&&!t.relative[a[d].type];d++);return l(h>1&&j(o),h>1&&a.slice(0,h-1).join("").replace(Z,"$1"),c,d>h&&m(a.slice(h,d)),e>d&&m(a=a.slice(d)),e>d&&a.join(""))}o.push(c)}return j(o)}function n(a,b){var d=b.length>0,e=a.length>0,f=function(g,h,i,j,l){var m,n,o,p=[],q=0,s="0",u=g&&[],v=null!=l,w=A,x=g||e&&t.find.TAG("*",l&&h.parentNode||h),y=H+=null==w?1:Math.E;for(v&&(A=h!==F&&h,r=f.el);null!=(m=x[s]);s++){if(e&&m){for(n=0;o=a[n];n++)if(o(m,h,i)){j.push(m);break}v&&(H=y,r=++f.el)}d&&((m=!o&&m)&&q--,g&&u.push(m))}if(q+=s,d&&s!==q){for(n=0;o=b[n];n++)o(u,p,h,i);if(g){if(q>0)for(;s--;)u[s]||p[s]||(p[s]=J.call(j));p=k(p)}K.apply(j,p),v&&!g&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return v&&(H=y,A=w),u};return f.el=0,d?N(f):f}function o(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function p(a,b,c,d,e){{var f,g,i,j,k,l=h(a);l.length}if(!d&&1===l.length){if(g=l[0]=l[0].slice(0),g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!e&&t.relative[g[1].type]){if(b=t.find.ID(i.matches[0].replace(hb,""),b,e)[0],!b)return c;
a=a.slice(g.shift().length)}for(f=ib.POS.test(a)?-1:g.length-1;f>=0&&(i=g[f],!t.relative[j=i.type]);f--)if((k=t.find[j])&&(d=k(i.matches[0].replace(hb,""),eb.test(g[0].type)&&b.parentNode||b,e))){if(g.splice(f,1),a=d.length&&g.join(""),!a)return K.apply(c,L.call(d,0)),c;break}}return x(a,l)(d,b,e,c,eb.test(a)),c}function q(){}var r,s,t,u,v,w,x,y,z,A,B=!0,C="undefined",D=("sizcache"+Math.random()).replace(".",""),E=String,F=a.document,G=F.documentElement,H=0,I=0,J=[].pop,K=[].push,L=[].slice,M=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},N=function(a,b){return a[D]=null==b||b,a},O=function(){var a={},b=[];return N(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c+" "]=d},a)},P=O(),Q=O(),R=O(),S="[\\x20\\t\\r\\n\\f]",T="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=T.replace("w","w#"),V="([*^$|!~]?=)",W="\\["+S+"*("+T+")"+S+"*(?:"+V+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+S+"*\\]",X=":("+T+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",Y=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+S+"*((?:-\\d)?\\d*)"+S+"*\\)|)(?=[^-]|$)",Z=new RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),ab=new RegExp("^"+S+"*,"+S+"*"),bb=new RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),cb=new RegExp(X),db=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,eb=/[\x20\t\r\n\f]*[+~]/,fb=/h\d/i,gb=/input|select|textarea|button/i,hb=/\\(?!\\)/g,ib={ID:new RegExp("^#("+T+")"),CLASS:new RegExp("^\\.("+T+")"),NAME:new RegExp("^\\[name=['\"]?("+T+")['\"]?\\]"),TAG:new RegExp("^("+T.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+X),POS:new RegExp(Y,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),needsContext:new RegExp("^"+S+"*[>+~]|"+Y,"i")},jb=function(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},kb=jb(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),lb=jb(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")}),mb=jb(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),nb=jb(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),ob=jb(function(a){a.id=D+0,a.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",G.insertBefore(a,G.firstChild);var b=F.getElementsByName&&F.getElementsByName(D).length===2+F.getElementsByName(D+0).length;return s=!F.getElementById(D),G.removeChild(a),b});try{L.call(G.childNodes,0)[0].nodeType}catch(pb){L=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0},u=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=u(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c},v=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},w=c.contains=G.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:G.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.attr=function(a,b){var c,d=v(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||mb?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},t=c.selectors={cacheLength:50,createPseudo:N,match:ib,attrHandle:lb?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:s?function(a,b,c){if(typeof b.getElementById!==C&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==C&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==C&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:kb?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:ob&&function(a,b){return typeof b.getElementsByName!==C?b.getElementsByName(name):void 0},CLASS:nb&&function(a,b,c){return typeof b.getElementsByClassName===C||c?void 0:b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(hb,""),a[3]=(a[4]||a[5]||"").replace(hb,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;return ib.CHILD.test(a[0])?null:(a[3]?a[2]=a[3]:(b=a[4])&&(cb.test(b)&&(c=h(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b),a.slice(0,3))}},filter:{ID:s?function(a){return a=a.replace(hb,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(hb,""),function(b){var c=typeof b.getAttributeNode!==C&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(hb,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=P[D][a+" "];return b||(b=new RegExp("(^|"+S+")"+a+"("+S+"|$)"))&&P(a,function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.substr(f.length-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f)for(e=0,b=f.firstChild;b&&(1!==b.nodeType||(e++,a!==b));b=b.nextSibling);return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var d,e=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[D]?e(b):e.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?N(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=M.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:N(function(a){var b=[],c=[],d=x(a.replace(Z,"$1"));return d[D]?N(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:N(function(a){return function(b){return c(a,b).length>0}}),contains:N(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return fb.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return gb.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y=G.compareDocumentPosition?function(a,b){return a===b?(z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return g(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return g(e[k],f[k]);return k===c?g(a,f[k],-1):g(e[k],b,1)},[0,0].sort(y),B=!z,c.uniqueSort=function(a){var b,c=[],d=1,e=0;if(z=B,a.sort(y),z){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},x=c.compile=function(a,b){var c,d=[],e=[],f=R[D][a+" "];if(!f){for(b||(b=h(a)),c=b.length;c--;)f=m(b[c]),f[D]?d.push(f):e.push(f);f=R(a,n(e,d))}return f},F.querySelectorAll&&!function(){var a,b=p,d=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],g=[":active"],i=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector;jb(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||f.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||f.push(":checked")}),jb(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&f.push("[*^$]="+S+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),p=function(a,c,e,g,i){if(!g&&!i&&!f.test(a)){var j,k,l=!0,m=D,n=c,o=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){for(j=h(a),(l=c.getAttribute("id"))?m=l.replace(d,"\\$&"):c.setAttribute("id",m),m="[id='"+m+"'] ",k=j.length;k--;)j[k]=m+j[k].join("");n=eb.test(a)&&c.parentNode||c,o=j.join(",")}if(o)try{return K.apply(e,L.call(n.querySelectorAll(o),0)),e}catch(p){}finally{l||c.removeAttribute("id")}}return b(a,c,e,g,i)},i&&(jb(function(b){a=i.call(b,"div");try{i.call(b,"[test!='']:sizzle"),g.push("!=",X)}catch(c){}}),g=new RegExp(g.join("|")),c.matchesSelector=function(b,d){if(d=d.replace(e,"='$1']"),!v(b)&&!g.test(d)&&!f.test(d))try{var h=i.call(b,d);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return c(d,null,null,[b]).length>0})}(),t.pseudos.nth=t.pseudos.eq,t.filters=q.prototype=t.pseudos,t.setFilters=new q,c.attr=jQuery.attr,jQuery.find=c,jQuery.expr=c.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=c.uniqueSort,jQuery.text=c.getText,jQuery.isXMLDoc=c.isXML,jQuery.contains=c.contains}(a);var Jb=/Until$/,Kb=/^(?:parents|prev(?:Until|All))/,Lb=/^.[^:#\[\.,]*$/,Mb=jQuery.expr.match.needsContext,Nb={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return jQuery(a).filter(function(){for(b=0,c=h.length;c>b;b++)if(jQuery.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;c>b;b++)if(d=g.length,jQuery.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;d>f;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=jQuery(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(jQuery.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Mb.test(a)?jQuery(a,this.context).index(this[0])>=0:jQuery.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Mb.test(a)||"string"!=typeof a?jQuery(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:jQuery.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?jQuery.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?jQuery.inArray(this[0],jQuery(a)):jQuery.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?jQuery(a,b):jQuery.makeArray(a&&a.nodeType?[a]:a),d=jQuery.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:jQuery.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),jQuery.fn.andSelf=jQuery.fn.addBack,jQuery.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return jQuery.dir(a,"parentNode")},parentsUntil:function(a,b,c){return jQuery.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return jQuery.dir(a,"nextSibling")},prevAll:function(a){return jQuery.dir(a,"previousSibling")},nextUntil:function(a,b,c){return jQuery.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return jQuery.dir(a,"previousSibling",c)},siblings:function(a){return jQuery.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return jQuery.sibling(a.firstChild)},contents:function(a){return jQuery.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:jQuery.merge([],a.childNodes)}},function(a,b){jQuery.fn[a]=function(c,d){var e=jQuery.map(this,b,c);return Jb.test(a)||(d=c),d&&"string"==typeof d&&(e=jQuery.filter(d,e)),e=this.length>1&&!Nb[a]?jQuery.unique(e):e,this.length>1&&Kb.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))}}),jQuery.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?jQuery.find.matchesSelector(b[0],a)?[b[0]]:[]:jQuery.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!jQuery(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ob="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pb=/ jQuery\d+="(?:null|\d+)"/g,Qb=/^\s+/,Rb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Sb=/<([\w:]+)/,Tb=/<tbody/i,Ub=/<|&#?\w+;/,Vb=/<(?:script|style|link)/i,Wb=/<(?:script|object|embed|option|style)/i,Xb=new RegExp("<(?:"+Ob+")[\\s/>]","i"),Yb=/^(?:checkbox|radio)$/,Zb=/checked\s*(?:[^=]|=\s*.checked.)/i,$b=/\/(java|ecma)script/i,_b=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,ac={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bc=k(P),cc=bc.appendChild(P.createElement("div"));ac.optgroup=ac.option,ac.tbody=ac.tfoot=ac.colgroup=ac.caption=ac.thead,ac.th=ac.td,jQuery.support.htmlSerialize||(ac._default=[1,"X<div>","</div>"]),jQuery.fn.extend({text:function(a){return jQuery.access(this,function(a){return a===b?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).wrapAll(a.call(this,b))});if(this[0]){var b=jQuery(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(jQuery.isFunction(a)?function(b){jQuery(this).wrapInner(a.call(this,b))}:function(){var b=jQuery(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=jQuery.isFunction(a);return this.each(function(c){jQuery(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=jQuery.clean(arguments);return this.pushStack(jQuery.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=jQuery.clean(arguments);return this.pushStack(jQuery.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||jQuery.filter(a,[c]).length)&&(b||1!==c.nodeType||(jQuery.cleanData(c.getElementsByTagName("*")),jQuery.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&jQuery.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return jQuery.clone(this,a,b)})},html:function(a){return jQuery.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Pb,""):b;if(!("string"!=typeof a||Vb.test(a)||!jQuery.support.htmlSerialize&&Xb.test(a)||!jQuery.support.leadingWhitespace&&Qb.test(a)||ac[(Sb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Rb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(jQuery.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack(jQuery(jQuery.isFunction(a)?a():a),"replaceWith",a):this:jQuery.isFunction(a)?this.each(function(b){var c=jQuery(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=jQuery(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;jQuery(this).remove(),b?jQuery(b).before(a):jQuery(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!jQuery.support.checkClone&&m>1&&"string"==typeof j&&Zb.test(j))return this.each(function(){jQuery(this).domManip(a,c,d)});if(jQuery.isFunction(j))return this.each(function(e){var f=jQuery(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=jQuery.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&jQuery.nodeName(f,"tr"),h=e.cacheable||m-1;m>i;i++)d.call(c&&jQuery.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:jQuery.clone(g,!0,!0));g=f=null,k.length&&jQuery.each(k,function(a,b){b.src?jQuery.ajax?jQuery.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):jQuery.error("no ajax"):jQuery.globalEval((b.text||b.textContent||b.innerHTML||"").replace(_b,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),jQuery.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,!(1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0))||Wb.test(h)||!jQuery.support.checkClone&&Zb.test(h)||!jQuery.support.html5Clone&&Xb.test(h)||(f=!0,e=jQuery.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),jQuery.clean(a,c,e,d),f&&(jQuery.fragments[h]=g&&e)),{fragment:e,cacheable:f}},jQuery.fragments={},jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){jQuery.fn[a]=function(c){var d,e=0,f=[],g=jQuery(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;h>e;e++)d=(e>0?this.clone(!0):this).get(),jQuery(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),jQuery.extend({clone:function(a,b,c){var d,e,f,g;if(jQuery.support.html5Clone||jQuery.isXMLDoc(a)||!Xb.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(cc.innerHTML=a.outerHTML,cc.removeChild(g=cc.firstChild)),!(jQuery.support.noCloneEvent&&jQuery.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||jQuery.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=b===P&&bc,s=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=P),e=0;null!=(g=a[e]);e++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Ub.test(g)){for(r=r||k(b),l=b.createElement("div"),r.appendChild(l),g=g.replace(Rb,"<$1></$2>"),h=(Sb.exec(g)||["",""])[1].toLowerCase(),i=ac[h]||ac._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!jQuery.support.tbody)for(m=Tb.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,f=n.length-1;f>=0;--f)jQuery.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f]);!jQuery.support.leadingWhitespace&&Qb.test(g)&&l.insertBefore(b.createTextNode(Qb.exec(g)[0]),l.firstChild),g=l.childNodes,l.parentNode.removeChild(l)}else g=b.createTextNode(g);g.nodeType?s.push(g):jQuery.merge(s,g)}if(l&&(g=l=r=null),!jQuery.support.appendChecked)for(e=0;null!=(g=s[e]);e++)jQuery.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&jQuery.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){return!a.type||$b.test(a.type)?d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a):void 0},e=0;null!=(g=s[e]);e++)jQuery.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=jQuery.grep(jQuery.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[e+1,0].concat(q)),e+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=jQuery.expando,i=jQuery.cache,j=jQuery.support.deleteExpando,k=jQuery.event.special;null!=(e=a[g]);g++)if((b||jQuery.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?jQuery.event.remove(e,f):jQuery.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,jQuery.deletedIds.push(d))}}}),function(){var a,b;jQuery.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=jQuery.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),jQuery.browser=b,jQuery.sub=function(){function a(b,c){return new a.fn.init(b,c)}jQuery.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof jQuery&&!(d instanceof a)&&(d=a(d)),jQuery.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var dc,ec,fc,gc=/alpha\([^)]*\)/i,hc=/opacity=([^)]*)/,ic=/^(top|right|bottom|left)$/,jc=/^(none|table(?!-c[ea]).+)/,kc=/^margin/,lc=new RegExp("^("+ab+")(.*)$","i"),mc=new RegExp("^("+ab+")(?!px)[a-z%]+$","i"),nc=new RegExp("^([-+])=("+ab+")","i"),oc={BODY:"block"},pc={position:"absolute",visibility:"hidden",display:"block"},qc={letterSpacing:0,fontWeight:400},rc=["Top","Right","Bottom","Left"],sc=["Webkit","O","Moz","ms"],tc=jQuery.fn.toggle;jQuery.fn.extend({css:function(a,c){return jQuery.access(this,function(a,c,d){return d!==b?jQuery.style(a,c,d):jQuery.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return jQuery.isFunction(a)&&jQuery.isFunction(b)?tc.apply(this,arguments):this.each(function(){(c?a:r(this))?jQuery(this).show():jQuery(this).hide()})}}),jQuery.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=dc(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=jQuery.camelCase(c),j=a.style;if(c=jQuery.cssProps[i]||(jQuery.cssProps[i]=q(j,i)),h=jQuery.cssHooks[c]||jQuery.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=nc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(jQuery.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||jQuery.cssNumber[i]||(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=jQuery.camelCase(c);return c=jQuery.cssProps[i]||(jQuery.cssProps[i]=q(a.style,i)),h=jQuery.cssHooks[c]||jQuery.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=dc(a,c)),"normal"===f&&c in qc&&(f=qc[c]),d||e!==b?(g=parseFloat(f),d||jQuery.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?dc=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h.getPropertyValue(c)||h[c],""!==d||jQuery.contains(b.ownerDocument,b)||(d=jQuery.style(b,c)),mc.test(d)&&kc.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:P.documentElement.currentStyle&&(dc=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),mc.test(e)&&!ic.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),jQuery.each(["height","width"],function(a,b){jQuery.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&jc.test(dc(a,"display"))?jQuery.swap(a,pc,function(){return v(a,b,d)}):v(a,b,d):void 0},set:function(a,c,d){return t(a,c,d?u(a,b,d,jQuery.support.boxSizing&&"border-box"===jQuery.css(a,"boxSizing")):0)}}}),jQuery.support.opacity||(jQuery.cssHooks.opacity={get:function(a,b){return hc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=jQuery.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===jQuery.trim(f.replace(gc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=gc.test(f)?f.replace(gc,e):f+" "+e)}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(a,b){return jQuery.swap(a,{display:"inline-block"},function(){return b?dc(a,"marginRight"):void 0})}}),!jQuery.support.pixelPosition&&jQuery.fn.position&&jQuery.each(["top","left"],function(a,b){jQuery.cssHooks[b]={get:function(a,c){if(c){var d=dc(a,b);return mc.test(d)?jQuery(a).position()[b]+"px":d}}}})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!jQuery.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||dc(a,"display"))},jQuery.expr.filters.visible=function(a){return!jQuery.expr.filters.hidden(a)}),jQuery.each({margin:"",padding:"",border:"Width"},function(a,b){jQuery.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+rc[d]+b]=e[d]||e[d-2]||e[0];return f}},kc.test(a)||(jQuery.cssHooks[a+b].set=t)});var uc=/%20/g,vc=/\[\]$/,wc=/\r?\n/g,xc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,yc=/^(?:select|textarea)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||yc.test(this.nodeName)||xc.test(this.type))}).map(function(a,b){var c=jQuery(this).val();return null==c?null:jQuery.isArray(c)?jQuery.map(c,function(a){return{name:b.name,value:a.replace(wc,"\r\n")}}):{name:b.name,value:c.replace(wc,"\r\n")}}).get()}}),jQuery.param=function(a,c){var d,e=[],f=function(a,b){b=jQuery.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(uc,"+")};var zc,Ac,Bc=/#.*$/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/\?/,Hc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ic=/([?&])_=[^&]*/,Jc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Kc=jQuery.fn.load,Lc={},Mc={},Nc=["*/"]+["*"];try{Ac=Q.href}catch(Oc){Ac=P.createElement("a"),Ac.href="",Ac=Ac.href}zc=Jc.exec(Ac.toLowerCase())||[],jQuery.fn.load=function(a,c,d){if("string"!=typeof a&&Kc)return Kc.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),jQuery.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),jQuery.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?jQuery("<div>").append(a.replace(Hc,"")).find(e):a)}),this},jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){jQuery.fn[b]=function(a){return this.on(b,a)}}),jQuery.each(["get","post"],function(a,c){jQuery[c]=function(a,d,e,f){return jQuery.isFunction(d)&&(f=f||e,e=d,d=b),jQuery.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),jQuery.extend({getScript:function(a,c){return jQuery.get(a,b,c,"script")},getJSON:function(a,b,c){return jQuery.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,jQuery.ajaxSettings):(b=a,a=jQuery.ajaxSettings),A(a,b),a},ajaxSettings:{url:Ac,isLocal:Dc.test(zc[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Nc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Lc),ajaxTransport:y(Mc),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;
2!==u&&(u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(jQuery.lastModified[e]=v),v=w.getResponseHeader("Etag"),v&&(jQuery.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s)):(s=x,(!x||a)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=jQuery.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof jQuery)?jQuery(n):jQuery.event,p=jQuery.Deferred(),q=jQuery.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g)for(g={};c=Cc.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(2>u)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(Bc,"").replace(Fc,zc[1]+"//"),m.dataTypes=jQuery.trim(m.dataType||"*").toLowerCase().split(cb),null==m.crossDomain&&(j=Jc.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===zc[1]&&j[2]===zc[2]&&(j[3]||("http:"===j[1]?80:443))==(zc[3]||("http:"===zc[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=jQuery.param(m.data,m.traditional)),z(Lc,m,c,w),2===u)return w;if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Ec.test(m.type),k&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Gc.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,m.cache===!1)){var x=jQuery.now(),y=m.url.replace(Ic,"$1_="+x);m.url=y+(y===m.url?(Gc.test(m.url)?"&":"?")+"_="+x:"")}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,jQuery.lastModified[e]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[e]),jQuery.etag[e]&&w.setRequestHeader("If-None-Match",jQuery.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Nc+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=z(Mc,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(A){if(!(2>u))throw A;d(-1,A)}}else d(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Pc=[],Qc=/\?/,Rc=/(=)\?(?=&|$)|\?\?/,Sc=jQuery.now();jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Pc.pop()||jQuery.expando+"_"+Sc++;return this[a]=!0,a}}),jQuery.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&Rc.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rc.test(i);return"jsonp"===c.dataTypes[0]||l||m?(f=c.jsonpCallback=jQuery.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Rc,"$1"+f):m?c.data=i.replace(Rc,"$1"+f):k&&(c.url+=(Qc.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||jQuery.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Pc.push(f)),h&&jQuery.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return jQuery.globalEval(a),a}}}),jQuery.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),jQuery.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(_,e){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(_,a){(a||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,a||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Tc,Uc=a.ActiveXObject?function(){for(var a in Tc)Tc[a](0,1)}:!1,Vc=0;jQuery.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){jQuery.extend(jQuery.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(jQuery.ajaxSettings.xhr()),jQuery.support.ajax&&jQuery.ajaxTransport(function(c){if(!c.crossDomain||jQuery.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(_){}i.send(c.hasContent&&c.data||null),d=function(_,a){var e,h,j,k,l;try{if(d&&(a||4===i.readyState))if(d=b,g&&(i.onreadystatechange=jQuery.noop,Uc&&delete Tc[g]),a)4!==i.readyState&&i.abort();else{e=i.status,j=i.getAllResponseHeaders(),k={},l=i.responseXML,l&&l.documentElement&&(k.xml=l);try{k.text=i.responseText}catch(m){}try{h=i.statusText}catch(m){h=""}e||!c.isLocal||c.crossDomain?1223===e&&(e=204):e=k.text?200:404}}catch(n){a||f(-1,n)}k&&f(e,h,k,j)},c.async?4===i.readyState?setTimeout(d,0):(g=++Vc,Uc&&(Tc||(Tc={},jQuery(a).unload(Uc)),Tc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Wc,Xc,Yc=/^(?:toggle|show|hide)$/,Zc=new RegExp("^(?:([-+])=|)("+ab+")([a-z%]*)$","i"),$c=/queueHooks$/,_c=[J],ad={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=Zc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||(jQuery.cssNumber[a]?"":"px"),"px"!==d&&h){h=jQuery.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,jQuery.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};jQuery.Animation=jQuery.extend(H,{tweener:function(a,b){jQuery.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ad[c]=ad[c]||[],ad[c].unshift(b)},prefilter:function(a,b){b?_c.unshift(a):_c.push(a)}}),jQuery.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(jQuery.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.pos=b=this.options.duration?jQuery.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=jQuery.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){jQuery.fx.step[a.prop]?jQuery.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[jQuery.cssProps[a.prop]]||jQuery.cssHooks[a.prop])?jQuery.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},jQuery.each(["toggle","show","hide"],function(a,b){var c=jQuery.fn[b];jQuery.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&jQuery.isFunction(d)&&jQuery.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),jQuery.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=jQuery.isEmptyObject(a),f=jQuery.speed(b,c,d),g=function(){var b=H(this,jQuery.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=jQuery.timers,g=jQuery._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&$c.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&jQuery.dequeue(this,a)})}}),jQuery.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){jQuery.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),jQuery.speed=function(a,b,c){var d=a&&"object"==typeof a?jQuery.extend({},a):{complete:c||!c&&b||jQuery.isFunction(a)&&a,duration:a,easing:c&&b||b&&!jQuery.isFunction(b)&&b};return d.duration=jQuery.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in jQuery.fx.speeds?jQuery.fx.speeds[d.duration]:jQuery.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){jQuery.isFunction(d.old)&&d.old.call(this),d.queue&&jQuery.dequeue(this,d.queue)},d},jQuery.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},jQuery.timers=[],jQuery.fx=K.prototype.init,jQuery.fx.tick=function(){var a,c=jQuery.timers,d=0;for(Wc=jQuery.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||jQuery.fx.stop(),Wc=b},jQuery.fx.timer=function(a){a()&&jQuery.timers.push(a)&&!Xc&&(Xc=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.interval=13,jQuery.fx.stop=function(){clearInterval(Xc),Xc=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fx.step={},jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(a){return jQuery.grep(jQuery.timers,function(b){return a===b.elem}).length});var bd=/^(?:body|html)$/i;jQuery.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){jQuery.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(l)return(d=l.body)===k?jQuery.offset.bodyOffset(k):(c=l.documentElement,jQuery.contains(c,k)?("undefined"!=typeof k.getBoundingClientRect&&(j=k.getBoundingClientRect()),e=M(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},jQuery.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return jQuery.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(jQuery.css(a,"marginTop"))||0,c+=parseFloat(jQuery.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=jQuery.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=jQuery(a),h=g.offset(),i=jQuery.css(a,"top"),j=jQuery.css(a,"left"),k=("absolute"===d||"fixed"===d)&&jQuery.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),jQuery.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},jQuery.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=bd.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(jQuery.css(a,"marginTop"))||0,c.left-=parseFloat(jQuery.css(a,"marginLeft"))||0,d.top+=parseFloat(jQuery.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(jQuery.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!bd.test(a.nodeName)&&"static"===jQuery.css(a,"position");)a=a.offsetParent;return a||P.body})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);jQuery.fn[a]=function(e){return jQuery.access(this,function(a,e,f){var g=M(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?jQuery(g).scrollLeft():f,d?f:jQuery(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),jQuery.each({Height:"height",Width:"width"},function(a,c){jQuery.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){jQuery.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return jQuery.access(this,function(c,d,e){var f;return jQuery.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?jQuery.css(c,d,e,h):jQuery.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=jQuery,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return jQuery})}(window),function($,a){function b(a,b){var d,e,f,g=a.nodeName.toLowerCase();return"area"===g?(d=a.parentNode,e=d.name,a.href&&e&&"map"===d.nodeName.toLowerCase()?(f=$("img[usemap=#"+e+"]")[0],!!f&&c(f)):!1):(/input|select|textarea|button|object/.test(g)?!a.disabled:"a"===g?a.href||b:b)&&c(a)}function c(a){return $.expr.filters.visible(a)&&!$(a).parents().andSelf().filter(function(){return"hidden"===$.css(this,"visibility")}).length}var d=0,e=/^ui-id-\d+$/;$.ui=$.ui||{},$.ui.version||($.extend($.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),$.fn.extend({_focus:$.fn.focus,focus:function(a,b){return"number"==typeof a?this.each(function(){var c=this;setTimeout(function(){$(c).focus(),b&&b.call(c)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return a=$.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))&&/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?$(document):a},zIndex:function(b){if(b!==a)return this.css("zIndex",b);if(this.length)for(var c,d,e=$(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(a){return function(b){return!!$.data(b,a)}}):function(a,b,c){return!!$.data(a,c[3])},focusable:function(a){return b(a,!isNaN($.attr(a,"tabindex")))},tabbable:function(a){var c=$.attr(a,"tabindex"),d=isNaN(c);return(d||c>=0)&&b(a,!d)}}),$(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));b.offsetHeight,$.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),$.support.minHeight=100===b.offsetHeight,$.support.selectstart="onselectstart"in b,a.removeChild(b).style.display="none"}),function(){var a=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];$.ui.ie=a.length?!0:!1,$.ui.ie6=6===parseFloat(a[1],10)}(),$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),$.extend($.ui,{plugin:{add:function(a,b,c){var d,e=$.ui[a].prototype;for(d in c)e.plugins[d]=e.plugins[d]||[],e.plugins[d].push([b,c[d]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},contains:$.contains,hasScroll:function(a,b){if("hidden"===$(a).css("overflow"))return!1;var c=b&&"left"===b?"scrollLeft":"scrollTop",d=!1;return a[c]>0?!0:(a[c]=1,d=a[c]>0,a[c]=0,d)},isOverAxis:function(a,b,c){return a>b&&b+c>a},isOver:function(a,b,c,d,e,f){return $.ui.isOverAxis(a,c,e)&&$.ui.isOverAxis(b,d,f)}}),$.support.offsetFractions=!0)}(jQuery),function($,a){var b=0,c=Array.prototype.slice,d=$.cleanData;$.cleanData=function(a){for(var b,c=0;null!=(b=a[c]);c++)try{$(b).triggerHandler("remove")}catch(e){}d(a)},$.widget=function(a,b,c){var d,e,f,g,h=a.split(".")[0];a=a.split(".")[1],d=h+"-"+a,c||(c=b,b=$.Widget),$.expr[":"][d.toLowerCase()]=function(a){return!!$.data(a,d)},$[h]=$[h]||{},e=$[h][a],f=$[h][a]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new f(a,b)},$.extend(f,e,{version:c.version,_proto:$.extend({},c),_childConstructors:[]}),g=new b,g.options=$.widget.extend({},g.options),$.each(c,function(a,d){$.isFunction(d)&&(c[a]=function(){var c=function(){return b.prototype[a].apply(this,arguments)},e=function(c){return b.prototype[a].apply(this,c)};return function(){var a,b=this._super,f=this._superApply;return this._super=c,this._superApply=e,a=d.apply(this,arguments),this._super=b,this._superApply=f,a}}())}),f.prototype=$.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix:a},c,{constructor:f,namespace:h,widgetName:a,widgetBaseClass:d,widgetFullName:d}),e?($.each(e._childConstructors,function(a,b){var c=b.prototype;$.widget(c.namespace+"."+c.widgetName,f,b._proto)}),delete e._childConstructors):b._childConstructors.push(f),$.widget.bridge(a,f)},$.widget.extend=function(b){for(var d,e,f=c.call(arguments,1),g=0,h=f.length;h>g;g++)for(d in f[g])e=f[g][d],f[g].hasOwnProperty(d)&&e!==a&&(b[d]=$.isPlainObject(e)?$.isPlainObject(b[d])?$.widget.extend({},b[d],e):$.widget.extend({},e):e);return b},$.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;$.fn[b]=function(f){var g="string"==typeof f,h=c.call(arguments,1),i=this;return f=!g&&h.length?$.widget.extend.apply(null,[f].concat(h)):f,this.each(g?function(){var c,d=$.data(this,e);return d?$.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&c!==a?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):$.error("no such method '"+f+"' for "+b+" widget instance"):$.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}:function(){var a=$.data(this,e);a?a.option(f||{})._init():$.data(this,e,new d(f,this))}),i}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,c){c=$(c||this.defaultElement||this)[0],this.element=$(c),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=$.widget.extend({},this.options,this._getCreateOptions(),a),this.bindings=$(),this.hoverable=$(),this.focusable=$(),c!==this&&($.data(c,this.widgetName,this),$.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=$(c.style?c.ownerDocument:c.document||c),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=$.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),c===a)return e[b]===a?null:e[b];e[b]=c}else{if(c===a)return this.options[b]===a?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,b,c){var d,e=this;"boolean"!=typeof a&&(c=b,b=a,a=!1),c?(b=d=$(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element,d=this.widget()),$.each(c,function(c,f){function g(){return a||e.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled")?("string"==typeof f?e[f]:f).apply(e,arguments):void 0}"string"!=typeof f&&(g.guid=f.guid=f.guid||g.guid||$.guid++);var h=c.match(/^(\w+)\s*(.*)$/),i=h[1]+e.eventNamespace,j=h[2];j?d.delegate(j,i,g):b.bind(i,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(a){$(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){$(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(a){$(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){$(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,b,c){var d,e,f=this.options[a];if(c=c||{},b=$.Event(b),b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),b.target=this.element[0],e=b.originalEvent)for(d in e)d in b||(b[d]=e[d]);return this.element.trigger(b,c),!($.isFunction(f)&&f.apply(this.element[0],[b].concat(c))===!1||b.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(a,b){$.Widget.prototype["_"+a]=function(c,d,e){"string"==typeof d&&(d={effect:d});var f,g=d?d===!0||"number"==typeof d?b:d.effect||b:a;d=d||{},"number"==typeof d&&(d={duration:d}),f=!$.isEmptyObject(d),d.complete=e,d.delay&&c.delay(d.delay),f&&$.effects&&($.effects.effect[g]||$.uiBackCompat!==!1&&$.effects[g])?c[a](d):g!==a&&c[g]?c[g](d.duration,d.easing,e):c.queue(function(b){$(this)[a](),e&&e.call(c[0]),b()})}}),$.uiBackCompat!==!1&&($.Widget.prototype._getCreateOptions=function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function($){var a=!1;$(document).mouseup(function(){a=!1}),$.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){return!0===$.data(b.target,a.widgetName+".preventClickEvent")?($.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!a){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=1===b.which,e="string"==typeof this.options.cancel&&b.target.nodeName?$(b.target).closest(this.options.cancel).length:!1;return d&&!e&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===$.data(b.target,this.widgetName+".preventClickEvent")&&$.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(a){return!$.ui.ie||document.documentMode>=9||a.button?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&$.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function($,a){function b(a,b,c){return[parseInt(a[0],10)*(l.test(a[0])?b/100:1),parseInt(a[1],10)*(l.test(a[1])?c/100:1)]}function c(a,b){return parseInt($.css(a,b),10)||0}$.ui=$.ui||{};var d,e=Math.max,f=Math.abs,g=Math.round,h=/left|center|right/,i=/top|center|bottom/,j=/[\+\-]\d+%?/,k=/^\w+/,l=/%$/,m=$.fn.position;$.position={scrollbarWidth:function(){if(d!==a)return d;var b,c,e=$("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=e.children()[0];return $("body").append(e),b=f.offsetWidth,e.css("overflow","scroll"),c=f.offsetWidth,b===c&&(c=e[0].clientWidth),e.remove(),d=b-c},getScrollInfo:function(a){var b=a.isWindow?"":a.element.css("overflow-x"),c=a.isWindow?"":a.element.css("overflow-y"),d="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth,e="scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight;return{width:d?$.position.scrollbarWidth():0,height:e?$.position.scrollbarWidth():0}},getWithinInfo:function(a){var b=$(a||window),c=$.isWindow(b[0]);return{element:b,isWindow:c,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}},$.fn.position=function(a){if(!a||!a.of)return m.apply(this,arguments);a=$.extend({},a);var d,l,n,o,p,q=$(a.of),r=$.position.getWithinInfo(a.within),s=$.position.getScrollInfo(r),t=q[0],u=(a.collision||"flip").split(" "),v={};return 9===t.nodeType?(l=q.width(),n=q.height(),o={top:0,left:0}):$.isWindow(t)?(l=q.width(),n=q.height(),o={top:q.scrollTop(),left:q.scrollLeft()}):t.preventDefault?(a.at="left top",l=n=0,o={top:t.pageY,left:t.pageX}):(l=q.outerWidth(),n=q.outerHeight(),o=q.offset()),p=$.extend({},o),$.each(["my","at"],function(){var b,c,d=(a[this]||"").split(" ");1===d.length&&(d=h.test(d[0])?d.concat(["center"]):i.test(d[0])?["center"].concat(d):["center","center"]),d[0]=h.test(d[0])?d[0]:"center",d[1]=i.test(d[1])?d[1]:"center",b=j.exec(d[0]),c=j.exec(d[1]),v[this]=[b?b[0]:0,c?c[0]:0],a[this]=[k.exec(d[0])[0],k.exec(d[1])[0]]}),1===u.length&&(u[1]=u[0]),"right"===a.at[0]?p.left+=l:"center"===a.at[0]&&(p.left+=l/2),"bottom"===a.at[1]?p.top+=n:"center"===a.at[1]&&(p.top+=n/2),d=b(v.at,l,n),p.left+=d[0],p.top+=d[1],this.each(function(){var h,i,j=$(this),k=j.outerWidth(),m=j.outerHeight(),t=c(this,"marginLeft"),w=c(this,"marginTop"),x=k+t+c(this,"marginRight")+s.width,y=m+w+c(this,"marginBottom")+s.height,z=$.extend({},p),A=b(v.my,j.outerWidth(),j.outerHeight());"right"===a.my[0]?z.left-=k:"center"===a.my[0]&&(z.left-=k/2),"bottom"===a.my[1]?z.top-=m:"center"===a.my[1]&&(z.top-=m/2),z.left+=A[0],z.top+=A[1],$.support.offsetFractions||(z.left=g(z.left),z.top=g(z.top)),h={marginLeft:t,marginTop:w},$.each(["left","top"],function(b,c){$.ui.position[u[b]]&&$.ui.position[u[b]][c](z,{targetWidth:l,targetHeight:n,elemWidth:k,elemHeight:m,collisionPosition:h,collisionWidth:x,collisionHeight:y,offset:[d[0]+A[0],d[1]+A[1]],my:a.my,at:a.at,within:r,elem:j})}),$.fn.bgiframe&&j.bgiframe(),a.using&&(i=function(b){var c=o.left-z.left,d=c+l-k,g=o.top-z.top,h=g+n-m,i={target:{element:q,left:o.left,top:o.top,width:l,height:n},element:{element:j,left:z.left,top:z.top,width:k,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>h?"top":g>0?"bottom":"middle"};k>l&&f(c+d)<l&&(i.horizontal="center"),m>n&&f(g+h)<n&&(i.vertical="middle"),i.important=e(f(c),f(d))>e(f(g),f(h))?"horizontal":"vertical",a.using.call(this,b,i)}),j.offset($.extend(z,{using:i}))})},$.ui.position={fit:{left:function(a,b){var c,d=b.within,f=d.isWindow?d.scrollLeft:d.offset.left,g=d.width,h=a.left-b.collisionPosition.marginLeft,i=f-h,j=h+b.collisionWidth-g-f;b.collisionWidth>g?i>0&&0>=j?(c=a.left+i+b.collisionWidth-g-f,a.left+=i-c):a.left=j>0&&0>=i?f:i>j?f+g-b.collisionWidth:f:i>0?a.left+=i:j>0?a.left-=j:a.left=e(a.left-h,a.left)},top:function(a,b){var c,d=b.within,f=d.isWindow?d.scrollTop:d.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,i=f-h,j=h+b.collisionHeight-g-f;b.collisionHeight>g?i>0&&0>=j?(c=a.top+i+b.collisionHeight-g-f,a.top+=i-c):a.top=j>0&&0>=i?f:i>j?f+g-b.collisionHeight:f:i>0?a.top+=i:j>0?a.top-=j:a.top=e(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,g=e.offset.left+e.scrollLeft,h=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-h-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-h-g,(0>c||c<f(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||f(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,g=e.offset.top+e.scrollTop,h=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-h-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-h-g,a.top+n+o+p>k&&(0>d||d<f(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||f(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}},function(){var a,b,c,d,e,f=document.getElementsByTagName("body")[0],g=document.createElement("div");a=document.createElement(f?"div":"body"),c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},f&&$.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});
for(e in c)a.style[e]=c[e];a.appendChild(g),b=f||document.documentElement,b.insertBefore(a,b.firstChild),g.style.cssText="position: absolute; left: 10.7432222px;",d=$(g).offset().left,$.support.offsetFractions=d>10&&11>d,a.innerHTML="",b.removeChild(a)}(),$.uiBackCompat!==!1&&!function($){var b=$.fn.position;$.fn.position=function(c){if(!c||!c.offset)return b.call(this,c);var d=c.offset.split(" "),e=c.at.split(" ");return 1===d.length&&(d[1]=d[0]),/^\d/.test(d[0])&&(d[0]="+"+d[0]),/^\d/.test(d[1])&&(d[1]="+"+d[1]),1===e.length&&(/left|center|right/.test(e[0])?e[1]="center":(e[1]=e[0],e[0]="center")),b.call(this,$.extend(c,{at:e[0]+d[0]+" "+e[1]+d[1],offset:a}))}}(jQuery)}(jQuery),function($){$.widget("ui.draggable",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(a){var b=this.options;return this.helper||b.disabled||$(a.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(a),this.handle?($(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css($(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(a){var b=this.options;return this.helper=this._createHelper(a),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),b.containment&&this._setContainment(),this._trigger("start",a)===!1?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!b.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,a),!0)},_mouseDrag:function(a,b){if(this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),!b){var c=this._uiHash();if(this._trigger("drag",a,c)===!1)return this._mouseUp({}),!1;this.position=c.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),$.ui.ddmanager&&$.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var b=!1;$.ui.ddmanager&&!this.options.dropBehaviour&&(b=$.ui.ddmanager.drop(this,a)),this.dropped&&(b=this.dropped,this.dropped=!1);for(var c=this.element[0],d=!1;c&&(c=c.parentNode);)c==document&&(d=!0);if(!d&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!b||"valid"==this.options.revert&&b||this.options.revert===!0||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)){var e=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",a)!==!1&&e._clear()})}else this._trigger("stop",a)!==!1&&this._clear();return!1},_mouseUp:function(a){return $("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,a),$.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){var b=this.options.handle&&$(this.options.handle,this.element).length?!1:!0;return $(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(b=!0)}),b},_createHelper:function(a){var b=this.options,c=$.isFunction(b.helper)?$(b.helper.apply(this.element[0],[a])):"clone"==b.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"==b.appendTo?this.element[0].parentNode:b.appendTo),c[0]==this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),$.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if("parent"==a.containment&&(a.containment=this.helper[0].parentNode),("document"==a.containment||"window"==a.containment)&&(this.containment=["document"==a.containment?0:$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==a.containment?0:$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==a.containment?0:$(window).scrollLeft())+$("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==a.containment?0:$(window).scrollTop())+($("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||a.containment.constructor==Array)a.containment.constructor==Array&&(this.containment=a.containment);else{var b=$(a.containment),c=b[0];if(!c)return;var d=(b.offset(),"hidden"!=$(c).css("overflow"));this.containment=[(parseInt($(c).css("borderLeftWidth"),10)||0)+(parseInt($(c).css("paddingLeft"),10)||0),(parseInt($(c).css("borderTopWidth"),10)||0)+(parseInt($(c).css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt($(c).css("borderLeftWidth"),10)||0)-(parseInt($(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt($(c).css("borderTopWidth"),10)||0)-(parseInt($(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b}},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"==a?1:-1,d=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),e=/(html|body)/i.test(d[0].tagName);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*c}},_generatePosition:function(a){var b=this.options,c="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(c[0].tagName),e=a.pageX,f=a.pageY;if(this.originalPosition){var g;if(this.containment){if(this.relative_container){var h=this.relative_container.offset();g=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]}else g=this.containment;a.pageX-this.offset.click.left<g[0]&&(e=g[0]+this.offset.click.left),a.pageY-this.offset.click.top<g[1]&&(f=g[1]+this.offset.click.top),a.pageX-this.offset.click.left>g[2]&&(e=g[2]+this.offset.click.left),a.pageY-this.offset.click.top>g[3]&&(f=g[3]+this.offset.click.top)}if(b.grid){var i=b.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/b.grid[1])*b.grid[1]:this.originalPageY;f=g&&(i-this.offset.click.top<g[1]||i-this.offset.click.top>g[3])?i-this.offset.click.top<g[1]?i+b.grid[1]:i-b.grid[1]:i;var j=b.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0]:this.originalPageX;e=g&&(j-this.offset.click.left<g[0]||j-this.offset.click.left>g[2])?j-this.offset.click.left<g[0]?j+b.grid[0]:j-b.grid[0]:j}}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():d?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():d?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(a,b,c){return c=c||this._uiHash(),$.ui.plugin.call(this,a,[b,c]),"drag"==a&&(this.positionAbs=this._convertPositionTo("absolute")),$.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(a,b){var c=$(this).data("draggable"),d=c.options,e=$.extend({},b,{item:c.element});c.sortables=[],$(d.connectToSortable).each(function(){var b=$.data(this,"sortable");b&&!b.options.disabled&&(c.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",a,e))})},stop:function(a,b){var c=$(this).data("draggable"),d=$.extend({},b,{item:c.element});$.each(c.sortables,function(){this.instance.isOver?(this.instance.isOver=0,c.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,"original"==c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,d))})},drag:function(a,b){var c=$(this).data("draggable"),d=this;$.each(c.sortables,function(){var e=!1,f=this;this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,$.each(c.sortables,function(){return this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this!=f&&this.instance._intersectsWith(this.instance.containerCache)&&$.ui.contains(f.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=$(d).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",a),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),c._trigger("fromSortable",a),c.dropped=!1)})}}),$.ui.plugin.add("draggable","cursor",{start:function(){var a=$("body"),b=$(this).data("draggable").options;a.css("cursor")&&(b._cursor=a.css("cursor")),a.css("cursor",b.cursor)},stop:function(){var a=$(this).data("draggable").options;a._cursor&&$("body").css("cursor",a._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(a,b){var c=$(b.helper),d=$(this).data("draggable").options;c.css("opacity")&&(d._opacity=c.css("opacity")),c.css("opacity",d.opacity)},stop:function(a,b){var c=$(this).data("draggable").options;c._opacity&&$(b.helper).css("opacity",c._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(){var a=$(this).data("draggable");a.scrollParent[0]!=document&&"HTML"!=a.scrollParent[0].tagName&&(a.overflowOffset=a.scrollParent.offset())},drag:function(a){var b=$(this).data("draggable"),c=b.options,d=!1;b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName?(c.axis&&"x"==c.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity?b.scrollParent[0].scrollTop=d=b.scrollParent[0].scrollTop+c.scrollSpeed:a.pageY-b.overflowOffset.top<c.scrollSensitivity&&(b.scrollParent[0].scrollTop=d=b.scrollParent[0].scrollTop-c.scrollSpeed)),c.axis&&"y"==c.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity?b.scrollParent[0].scrollLeft=d=b.scrollParent[0].scrollLeft+c.scrollSpeed:a.pageX-b.overflowOffset.left<c.scrollSensitivity&&(b.scrollParent[0].scrollLeft=d=b.scrollParent[0].scrollLeft-c.scrollSpeed))):(c.axis&&"x"==c.axis||(a.pageY-$(document).scrollTop()<c.scrollSensitivity?d=$(document).scrollTop($(document).scrollTop()-c.scrollSpeed):$(window).height()-(a.pageY-$(document).scrollTop())<c.scrollSensitivity&&(d=$(document).scrollTop($(document).scrollTop()+c.scrollSpeed))),c.axis&&"y"==c.axis||(a.pageX-$(document).scrollLeft()<c.scrollSensitivity?d=$(document).scrollLeft($(document).scrollLeft()-c.scrollSpeed):$(window).width()-(a.pageX-$(document).scrollLeft())<c.scrollSensitivity&&(d=$(document).scrollLeft($(document).scrollLeft()+c.scrollSpeed)))),d!==!1&&$.ui.ddmanager&&!c.dropBehaviour&&$.ui.ddmanager.prepareOffsets(b,a)}}),$.ui.plugin.add("draggable","snap",{start:function(){var a=$(this).data("draggable"),b=a.options;a.snapElements=[],$(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var b=$(this),c=b.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(a,b){for(var c=$(this).data("draggable"),d=c.options,e=d.snapTolerance,f=b.offset.left,g=f+c.helperProportions.width,h=b.offset.top,i=h+c.helperProportions.height,j=c.snapElements.length-1;j>=0;j--){var k=c.snapElements[j].left,l=k+c.snapElements[j].width,m=c.snapElements[j].top,n=m+c.snapElements[j].height;if(f>k-e&&l+e>f&&h>m-e&&n+e>h||f>k-e&&l+e>f&&i>m-e&&n+e>i||g>k-e&&l+e>g&&h>m-e&&n+e>h||g>k-e&&l+e>g&&i>m-e&&n+e>i){if("inner"!=d.snapMode){var o=Math.abs(m-i)<=e,p=Math.abs(n-h)<=e,q=Math.abs(k-g)<=e,r=Math.abs(l-f)<=e;o&&(b.position.top=c._convertPositionTo("relative",{top:m-c.helperProportions.height,left:0}).top-c.margins.top),p&&(b.position.top=c._convertPositionTo("relative",{top:n,left:0}).top-c.margins.top),q&&(b.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left-c.margins.left),r&&(b.position.left=c._convertPositionTo("relative",{top:0,left:l}).left-c.margins.left)}var s=o||p||q||r;if("outer"!=d.snapMode){var o=Math.abs(m-h)<=e,p=Math.abs(n-i)<=e,q=Math.abs(k-f)<=e,r=Math.abs(l-g)<=e;o&&(b.position.top=c._convertPositionTo("relative",{top:m,left:0}).top-c.margins.top),p&&(b.position.top=c._convertPositionTo("relative",{top:n-c.helperProportions.height,left:0}).top-c.margins.top),q&&(b.position.left=c._convertPositionTo("relative",{top:0,left:k}).left-c.margins.left),r&&(b.position.left=c._convertPositionTo("relative",{top:0,left:l-c.helperProportions.width}).left-c.margins.left)}!c.snapElements[j].snapping&&(o||p||q||r||s)&&c.options.snap.snap&&c.options.snap.snap.call(c.element,a,$.extend(c._uiHash(),{snapItem:c.snapElements[j].item})),c.snapElements[j].snapping=o||p||q||r||s}else c.snapElements[j].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,$.extend(c._uiHash(),{snapItem:c.snapElements[j].item})),c.snapElements[j].snapping=!1}}}),$.ui.plugin.add("draggable","stack",{start:function(){var a=$(this).data("draggable").options,b=$.makeArray($(a.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;$(b).each(function(a){this.style.zIndex=c+a}),this[0].style.zIndex=c+b.length}}}),$.ui.plugin.add("draggable","zIndex",{start:function(a,b){var c=$(b.helper),d=$(this).data("draggable").options;c.css("zIndex")&&(d._zIndex=c.css("zIndex")),c.css("zIndex",d.zIndex)},stop:function(a,b){var c=$(this).data("draggable").options;c._zIndex&&$(b.helper).css("zIndex",c._zIndex)}})}(jQuery),function($){$.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,b=a.accept;this.isover=0,this.isout=1,this.accept=$.isFunction(b)?b:function(a){return a.is(b)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},$.ui.ddmanager.droppables[a.scope]=$.ui.ddmanager.droppables[a.scope]||[],$.ui.ddmanager.droppables[a.scope].push(this),a.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var a=$.ui.ddmanager.droppables[this.options.scope],b=0;b<a.length;b++)a[b]==this&&a.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,b){"accept"==a&&(this.accept=$.isFunction(b)?b:function(a){return a.is(b)}),$.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var b=$.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=$.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=$.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!=this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(b)))},_out:function(a){var b=$.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!=this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(b)))},_drop:function(a,b){var c=b||$.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return!1;var d=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var a=$.data(this,"droppable");return a.options.greedy&&!a.options.disabled&&a.options.scope==c.options.scope&&a.accept.call(a.element[0],c.currentItem||c.element)&&$.ui.intersect(c,$.extend(a,{offset:a.element.offset()}),a.options.tolerance)?(d=!0,!1):void 0}),d?!1:this.accept.call(this.element[0],c.currentItem||c.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(c)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),$.ui.intersect=function(a,b,c){if(!b.offset)return!1;var d=(a.positionAbs||a.position.absolute).left,e=d+a.helperProportions.width,f=(a.positionAbs||a.position.absolute).top,g=f+a.helperProportions.height,h=b.offset.left,i=h+b.proportions.width,j=b.offset.top,k=j+b.proportions.height;switch(c){case"fit":return d>=h&&i>=e&&f>=j&&k>=g;case"intersect":return h<d+a.helperProportions.width/2&&e-a.helperProportions.width/2<i&&j<f+a.helperProportions.height/2&&g-a.helperProportions.height/2<k;case"pointer":var l=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,m=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,n=$.ui.isOver(m,l,j,h,b.proportions.height,b.proportions.width);return n;case"touch":return(f>=j&&k>=f||g>=j&&k>=g||j>f&&g>k)&&(d>=h&&i>=d||e>=h&&i>=e||h>d&&e>i);default:return!1}},$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c=$.ui.ddmanager.droppables[a.options.scope]||[],d=b?b.type:null,e=(a.currentItem||a.element).find(":data(droppable)").andSelf();a:for(var f=0;f<c.length;f++)if(!(c[f].options.disabled||a&&!c[f].accept.call(c[f].element[0],a.currentItem||a.element))){for(var g=0;g<e.length;g++)if(e[g]==c[f].element[0]){c[f].proportions.height=0;continue a}c[f].visible="none"!=c[f].element.css("display"),c[f].visible&&("mousedown"==d&&c[f]._activate.call(c[f],b),c[f].offset=c[f].element.offset(),c[f].proportions={width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight})}},drop:function(a,b){var c=!1;return $.each($.ui.ddmanager.droppables[a.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(a,this,this.options.tolerance)&&(c=this._drop.call(this,b)||c),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,b)))}),c},dragStart:function(a,b){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||$.ui.ddmanager.prepareOffsets(a,b)})},drag:function(a,b){a.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(a,b),$.each($.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var c=$.ui.intersect(a,this,this.options.tolerance),d=c||1!=this.isover?c&&0==this.isover?"isover":null:"isout";if(d){var e;if(this.options.greedy){var f=this.options.scope,g=this.element.parents(":data(droppable)").filter(function(){return $.data(this,"droppable").options.scope===f});g.length&&(e=$.data(g[0],"droppable"),e.greedyChild="isover"==d?1:0)}e&&"isover"==d&&(e.isover=0,e.isout=1,e._out.call(e,b)),this[d]=1,this["isout"==d?"isover":"isout"]=0,this["isover"==d?"_over":"_out"].call(this,b),e&&"isout"==d&&(e.isout=0,e.isover=1,e._over.call(e,b))}}})},dragStop:function(a,b){a.element.parentsUntil("body").unbind("scroll.droppable"),a.options.refreshPositions||$.ui.ddmanager.prepareOffsets(a,b)}}}(jQuery),function($){$.widget("ui.resizable",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var a=this,b=this.options;if(this.element.addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!b.aspectRatio,aspectRatio:b.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:b.helper||b.ghost||b.animate?b.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap($('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=b.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var c=this.handles.split(",");this.handles={};for(var d=0;d<c.length;d++){var e=$.trim(c[d]),f="ui-resizable-"+e,g=$('<div class="ui-resizable-handle '+f+'"></div>');g.css({zIndex:b.zIndex}),"se"==e&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[e]=".ui-resizable-"+e,this.element.append(g)}}this._renderAxis=function(a){a=a||this.element;for(var b in this.handles){if(this.handles[b].constructor==String&&(this.handles[b]=$(this.handles[b],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var c=$(this.handles[b],this.element),d=0;d=/sw|ne|nw|se|n|s/.test(b)?c.outerHeight():c.outerWidth();var e=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join("");a.css(e,d),this._proportionallyResize()}$(this.handles[b]).length}},this._renderAxis(this.element),this._handles=$(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!a.resizing){if(this.className)var b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);a.axis=b&&b[1]?b[1]:"se"}}),b.autoHide&&(this._handles.hide(),$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){b.disabled||($(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){b.disabled||a.resizing||($(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var a=function(a){$(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){a(this.element);var b=this.element;this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()}return this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(a){var b=!1;for(var c in this.handles)$(this.handles[c])[0]==a.target&&(b=!0);return!this.options.disabled&&b},_mouseStart:function(b){var c=this.options,d=this.element.position(),e=this.element;this.resizing=!0,this.documentScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},(e.is(".ui-draggable")||/absolute/.test(e.css("position")))&&e.css({position:"absolute",top:d.top,left:d.left}),this._renderProxy();var f=a(this.helper.css("left")),g=a(this.helper.css("top"));c.containment&&(f+=$(c.containment).scrollLeft()||0,g+=$(c.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:g},this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()},this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()},this.originalPosition={left:f,top:g},this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof c.aspectRatio?c.aspectRatio:this.originalSize.width/this.originalSize.height||1;var h=$(".ui-resizable-"+this.axis).css("cursor");return $("body").css("cursor","auto"==h?this.axis+"-resize":h),e.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(a){var b=this.helper,c=(this.options,this.originalMousePosition),d=this.axis,e=a.pageX-c.left||0,f=a.pageY-c.top||0,g=this._change[d];if(!g)return!1;var h=g.apply(this,[a,e,f]);return this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(h=this._updateRatio(h,a)),h=this._respectSize(h,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(h),this._trigger("resize",a,this.ui()),!1},_mouseStop:function(a){this.resizing=!1;var b=this.options,c=this;if(this._helper){var d=this._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),f=e&&$.ui.hasScroll(d[0],"left")?0:c.sizeDiff.height,g=e?0:c.sizeDiff.width,h={width:c.helper.width()-g,height:c.helper.height()-f},i=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,j=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;b.animate||this.element.css($.extend(h,{top:j,left:i})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!b.animate&&this._proportionallyResize()}return $("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var c,d,e,f,g,h=this.options;g={minWidth:b(h.minWidth)?h.minWidth:0,maxWidth:b(h.maxWidth)?h.maxWidth:1/0,minHeight:b(h.minHeight)?h.minHeight:0,maxHeight:b(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(c=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,c>g.minWidth&&(g.minWidth=c),e>g.minHeight&&(g.minHeight=e),d<g.maxWidth&&(g.maxWidth=d),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.options;this.offset=this.helper.offset(),b(a.left)&&(this.position.left=a.left),b(a.top)&&(this.position.top=a.top),b(a.height)&&(this.size.height=a.height),b(a.width)&&(this.size.width=a.width)
},_updateRatio:function(a){var c=(this.options,this.position),d=this.size,e=this.axis;return b(a.height)?a.width=a.height*this.aspectRatio:b(a.width)&&(a.height=a.width/this.aspectRatio),"sw"==e&&(a.left=c.left+(d.width-a.width),a.top=null),"nw"==e&&(a.top=c.top+(d.height-a.height),a.left=c.left+(d.width-a.width)),a},_respectSize:function(a,c){var d=(this.helper,this._vBoundaries),e=(this._aspectRatio||c.shiftKey,this.axis),f=b(a.width)&&d.maxWidth&&d.maxWidth<a.width,g=b(a.height)&&d.maxHeight&&d.maxHeight<a.height,h=b(a.width)&&d.minWidth&&d.minWidth>a.width,i=b(a.height)&&d.minHeight&&d.minHeight>a.height;h&&(a.width=d.minWidth),i&&(a.height=d.minHeight),f&&(a.width=d.maxWidth),g&&(a.height=d.maxHeight);var j=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,l=/sw|nw|w/.test(e),m=/nw|ne|n/.test(e);h&&l&&(a.left=j-d.minWidth),f&&l&&(a.left=j-d.maxWidth),i&&m&&(a.top=k-d.minHeight),g&&m&&(a.top=k-d.maxHeight);var n=!a.width&&!a.height;return n&&!a.left&&a.top?a.top=null:n&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var a=this.helper||this.element,b=0;b<this._proportionallyResizeElements.length;b++){var c=this._proportionallyResizeElements[b];if(!this.borderDif){var d=[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")],e=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];this.borderDif=$.map(d,function(a,b){var c=parseInt(a,10)||0,d=parseInt(e[b],10)||0;return c+d})}c.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var a=this.element,b=this.options;if(this.elementOffset=a.offset(),this._helper){this.helper=this.helper||$('<div style="overflow:hidden;"></div>');var c=$.ui.ie6?1:0,d=$.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+d,height:this.element.outerHeight()+d,position:"absolute",left:this.elementOffset.left-c+"px",top:this.elementOffset.top-c+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=(this.options,this.originalSize),d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=(this.options,this.originalSize),e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},sw:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,b,c]))},ne:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},nw:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,c]))}},_propagate:function(a,b){$.ui.plugin.call(this,a,[b,this.ui()]),"resize"!=a&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.ui.plugin.add("resizable","alsoResize",{start:function(){var a=$(this).data("resizable"),b=a.options,c=function(a){$(a).each(function(){var a=$(this);a.data("resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?c(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):$.each(b.alsoResize,function(a){c(a)})},resize:function(a,b){var c=$(this).data("resizable"),d=c.options,e=c.originalSize,f=c.originalPosition,g={height:c.size.height-e.height||0,width:c.size.width-e.width||0,top:c.position.top-f.top||0,left:c.position.left-f.left||0},h=function(a,c){$(a).each(function(){var a=$(this),d=$(this).data("resizable-alsoresize"),e={},f=c&&c.length?c:a.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(f,function(a,b){var c=(d[b]||0)+(g[b]||0);c&&c>=0&&(e[b]=c||null)}),a.css(e)})};"object"!=typeof d.alsoResize||d.alsoResize.nodeType?h(d.alsoResize):$.each(d.alsoResize,function(a,b){h(a,b)})},stop:function(){$(this).removeData("resizable-alsoresize")}}),$.ui.plugin.add("resizable","animate",{stop:function(a){var b=$(this).data("resizable"),c=b.options,d=b._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),f=e&&$.ui.hasScroll(d[0],"left")?0:b.sizeDiff.height,g=e?0:b.sizeDiff.width,h={width:b.size.width-g,height:b.size.height-f},i=parseInt(b.element.css("left"),10)+(b.position.left-b.originalPosition.left)||null,j=parseInt(b.element.css("top"),10)+(b.position.top-b.originalPosition.top)||null;b.element.animate($.extend(h,j&&i?{top:j,left:i}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var c={width:parseInt(b.element.css("width"),10),height:parseInt(b.element.css("height"),10),top:parseInt(b.element.css("top"),10),left:parseInt(b.element.css("left"),10)};d&&d.length&&$(d[0]).css({width:c.width,height:c.height}),b._updateCache(c),b._propagate("resize",a)}})}}),$.ui.plugin.add("resizable","containment",{start:function(){var b=$(this).data("resizable"),c=b.options,d=b.element,e=c.containment,f=e instanceof $?e.get(0):/parent/.test(e)?d.parent().get(0):e;if(f)if(b.containerElement=$(f),/document/.test(e)||e==document)b.containerOffset={left:0,top:0},b.containerPosition={left:0,top:0},b.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};else{var g=$(f),h=[];$(["Top","Right","Left","Bottom"]).each(function(b,c){h[b]=a(g.css("padding"+c))}),b.containerOffset=g.offset(),b.containerPosition=g.position(),b.containerSize={height:g.innerHeight()-h[3],width:g.innerWidth()-h[1]};var i=b.containerOffset,j=b.containerSize.height,k=b.containerSize.width,l=$.ui.hasScroll(f,"left")?f.scrollWidth:k,m=$.ui.hasScroll(f)?f.scrollHeight:j;b.parentData={element:f,left:i.left,top:i.top,width:l,height:m}}},resize:function(a){var b=$(this).data("resizable"),c=b.options,d=(b.containerSize,b.containerOffset),e=(b.size,b.position),f=b._aspectRatio||a.shiftKey,g={top:0,left:0},h=b.containerElement;h[0]!=document&&/static/.test(h.css("position"))&&(g=d),e.left<(b._helper?d.left:0)&&(b.size.width=b.size.width+(b._helper?b.position.left-d.left:b.position.left-g.left),f&&(b.size.height=b.size.width/b.aspectRatio),b.position.left=c.helper?d.left:0),e.top<(b._helper?d.top:0)&&(b.size.height=b.size.height+(b._helper?b.position.top-d.top:b.position.top),f&&(b.size.width=b.size.height*b.aspectRatio),b.position.top=b._helper?d.top:0),b.offset.left=b.parentData.left+b.position.left,b.offset.top=b.parentData.top+b.position.top;var i=Math.abs((b._helper?b.offset.left-g.left:b.offset.left-g.left)+b.sizeDiff.width),j=Math.abs((b._helper?b.offset.top-g.top:b.offset.top-d.top)+b.sizeDiff.height),k=b.containerElement.get(0)==b.element.parent().get(0),l=/relative|absolute/.test(b.containerElement.css("position"));k&&l&&(i-=b.parentData.left),i+b.size.width>=b.parentData.width&&(b.size.width=b.parentData.width-i,f&&(b.size.height=b.size.width/b.aspectRatio)),j+b.size.height>=b.parentData.height&&(b.size.height=b.parentData.height-j,f&&(b.size.width=b.size.height*b.aspectRatio))},stop:function(){var a=$(this).data("resizable"),b=a.options,c=(a.position,a.containerOffset),d=a.containerPosition,e=a.containerElement,f=$(a.helper),g=f.offset(),h=f.outerWidth()-a.sizeDiff.width,i=f.outerHeight()-a.sizeDiff.height;a._helper&&!b.animate&&/relative/.test(e.css("position"))&&$(this).css({left:g.left-d.left-c.left,width:h,height:i}),a._helper&&!b.animate&&/static/.test(e.css("position"))&&$(this).css({left:g.left-d.left-c.left,width:h,height:i})}}),$.ui.plugin.add("resizable","ghost",{start:function(){var a=$(this).data("resizable"),b=a.options,c=a.size;a.ghost=a.originalElement.clone(),a.ghost.css({opacity:.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof b.ghost?b.ghost:""),a.ghost.appendTo(a.helper)},resize:function(){{var a=$(this).data("resizable");a.options}a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){{var a=$(this).data("resizable");a.options}a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(a){{var b=$(this).data("resizable"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis;c._aspectRatio||a.shiftKey}c.grid="number"==typeof c.grid?[c.grid,c.grid]:c.grid;var h=Math.round((d.width-e.width)/(c.grid[0]||1))*(c.grid[0]||1),i=Math.round((d.height-e.height)/(c.grid[1]||1))*(c.grid[1]||1);/^(se|s|e)$/.test(g)?(b.size.width=e.width+h,b.size.height=e.height+i):/^(ne)$/.test(g)?(b.size.width=e.width+h,b.size.height=e.height+i,b.position.top=f.top-i):/^(sw)$/.test(g)?(b.size.width=e.width+h,b.size.height=e.height+i,b.position.left=f.left-h):(b.size.width=e.width+h,b.size.height=e.height+i,b.position.top=f.top-i,b.position.left=f.left-h)}});var a=function(a){return parseInt(a,10)||0},b=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function($){$.widget("ui.selectable",$.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var a=this;this.element.addClass("ui-selectable"),this.dragged=!1;var b;this.refresh=function(){b=$(a.options.filter,a.element[0]),b.addClass("ui-selectee"),b.each(function(){var a=$(this),b=a.offset();$.data(this,"selectable-item",{element:this,$element:a,left:b.left,top:b.top,right:b.left+a.outerWidth(),bottom:b.top+a.outerHeight(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=$("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(a){var b=this;if(this.opos=[a.pageX,a.pageY],!this.options.disabled){var c=this.options;this.selectees=$(c.filter,this.element[0]),this._trigger("start",a),$(c.appendTo).append(this.helper),this.helper.css({left:a.clientX,top:a.clientY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var c=$.data(this,"selectable-item");c.startselected=!0,a.metaKey||a.ctrlKey||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,b._trigger("unselecting",a,{unselecting:c.element}))}),$(a.target).parents().andSelf().each(function(){var c=$.data(this,"selectable-item");if(c){var d=!a.metaKey&&!a.ctrlKey||!c.$element.hasClass("ui-selected");return c.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),c.unselecting=!d,c.selecting=d,c.selected=d,d?b._trigger("selecting",a,{selecting:c.element}):b._trigger("unselecting",a,{unselecting:c.element}),!1}})}},_mouseDrag:function(a){var b=this;if(this.dragged=!0,!this.options.disabled){var c=this.options,d=this.opos[0],e=this.opos[1],f=a.pageX,g=a.pageY;if(d>f){var h=f;f=d,d=h}if(e>g){var h=g;g=e,e=h}return this.helper.css({left:d,top:e,width:f-d,height:g-e}),this.selectees.each(function(){var h=$.data(this,"selectable-item");if(h&&h.element!=b.element[0]){var i=!1;"touch"==c.tolerance?i=!(h.left>f||h.right<d||h.top>g||h.bottom<e):"fit"==c.tolerance&&(i=h.left>d&&h.right<f&&h.top>e&&h.bottom<g),i?(h.selected&&(h.$element.removeClass("ui-selected"),h.selected=!1),h.unselecting&&(h.$element.removeClass("ui-unselecting"),h.unselecting=!1),h.selecting||(h.$element.addClass("ui-selecting"),h.selecting=!0,b._trigger("selecting",a,{selecting:h.element}))):(h.selecting&&((a.metaKey||a.ctrlKey)&&h.startselected?(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.$element.addClass("ui-selected"),h.selected=!0):(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.startselected&&(h.$element.addClass("ui-unselecting"),h.unselecting=!0),b._trigger("unselecting",a,{unselecting:h.element}))),h.selected&&(a.metaKey||a.ctrlKey||h.startselected||(h.$element.removeClass("ui-selected"),h.selected=!1,h.$element.addClass("ui-unselecting"),h.unselecting=!0,b._trigger("unselecting",a,{unselecting:h.element}))))}}),!1}},_mouseStop:function(a){var b=this;this.dragged=!1;this.options;return $(".ui-unselecting",this.element[0]).each(function(){var c=$.data(this,"selectable-item");c.$element.removeClass("ui-unselecting"),c.unselecting=!1,c.startselected=!1,b._trigger("unselected",a,{unselected:c.element})}),$(".ui-selecting",this.element[0]).each(function(){var c=$.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected"),c.selecting=!1,c.selected=!0,c.startselected=!0,b._trigger("selected",a,{selected:c.element})}),this._trigger("stop",a),this.helper.remove(),!1}})}(jQuery),function($){$.widget("ui.sortable",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(a,b){"disabled"===a?(this.options[a]=b,this.widget().toggleClass("ui-sortable-disabled",!!b)):$.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,b){var c=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(a);{var d=null;$(a.target).parents().each(function(){return $.data(this,c.widgetName+"-item")==c?(d=$(this),!1):void 0})}if($.data(a.target,c.widgetName+"-item")==c&&(d=$(a.target)),!d)return!1;if(this.options.handle&&!b){var e=!1;if($(this.options.handle,d).find("*").andSelf().each(function(){this==a.target&&(e=!0)}),!e)return!1}return this.currentItem=d,this._removeCurrentsFromItems(),!0},_mouseStart:function(a,b,c){var d=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),d.containment&&this._setContainment(),d.cursor&&($("body").css("cursor")&&(this._storedCursor=$("body").css("cursor")),$("body").css("cursor",d.cursor)),d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",d.opacity)),d.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",d.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!c)for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",a,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!d.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){if(this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var b=this.options,c=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed:a.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity?this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+b.scrollSpeed:a.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-b.scrollSpeed)):(a.pageY-$(document).scrollTop()<b.scrollSensitivity?c=$(document).scrollTop($(document).scrollTop()-b.scrollSpeed):$(window).height()-(a.pageY-$(document).scrollTop())<b.scrollSensitivity&&(c=$(document).scrollTop($(document).scrollTop()+b.scrollSpeed)),a.pageX-$(document).scrollLeft()<b.scrollSensitivity?c=$(document).scrollLeft($(document).scrollLeft()-b.scrollSpeed):$(window).width()-(a.pageX-$(document).scrollLeft())<b.scrollSensitivity&&(c=$(document).scrollLeft($(document).scrollLeft()+b.scrollSpeed))),c!==!1&&$.ui.ddmanager&&!b.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var d=this.items.length-1;d>=0;d--){var e=this.items[d],f=e.item[0],g=this._intersectsWithPointer(e);if(g&&e.instance===this.currentContainer&&f!=this.currentItem[0]&&this.placeholder[1==g?"next":"prev"]()[0]!=f&&!$.contains(this.placeholder[0],f)&&("semi-dynamic"==this.options.type?!$.contains(this.element[0],f):!0)){if(this.direction=1==g?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(e))break;this._rearrange(a,e),this._trigger("change",a,this._uiHash());break}}return this._contactContainers(a),$.ui.ddmanager&&$.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,b){if(a){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,a),this.options.revert){var c=this,d=this.placeholder.offset();this.reverting=!0,$(this.helper).animate({left:d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:d.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},$(b).each(function(){var b=($(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);b&&c.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))}),!c.length&&a.key&&c.push(a.key+"="),c.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},b.each(function(){c.push($(a.item||this).attr(a.attribute||"id")||"")}),c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&i>d+j&&b+k>f&&g>b+k;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.options.axis||$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),c="y"===this.options.axis||$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),d=b&&c,e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return d?this.floating?f&&"right"==f||"down"==e?2:1:e&&("down"==e?2:1):!1},_intersectsWithSides:function(a){var b=$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"==e&&c||"left"==e&&!c:d&&("down"==d&&b||"up"==d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var b=[],c=[],d=this._connectWith();if(d&&a)for(var e=d.length-1;e>=0;e--)for(var f=$(d[e]),g=f.length-1;g>=0;g--){var h=$.data(f[g],this.widgetName);h&&h!=this&&!h.options.disabled&&c.push([$.isFunction(h.options.items)?h.options.items.call(h.element):$(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}c.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var e=c.length-1;e>=0;e--)c[e][0].each(function(){b.push(this)});return $(b)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(b){for(var c=0;c<a.length;c++)if(a[c]==b.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[],this.containers=[this];var b=this.items,c=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):$(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(var e=d.length-1;e>=0;e--)for(var f=$(d[e]),g=f.length-1;g>=0;g--){var h=$.data(f[g],this.widgetName);h&&h!=this&&!h.options.disabled&&(c.push([$.isFunction(h.options.items)?h.options.items.call(h.element[0],a,{item:this.currentItem}):$(h.options.items,h.element),h]),this.containers.push(h))}for(var e=c.length-1;e>=0;e--)for(var i=c[e][1],j=c[e][0],g=0,k=j.length;k>g;g++){var l=$(j[g]);l.data(this.widgetName+"-item",i),b.push({item:l,instance:i,width:0,height:0,left:0,top:0})}},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var b=this.items.length-1;b>=0;b--){var c=this.items[b];if(c.instance==this.currentContainer||!this.currentContainer||c.item[0]==this.currentItem[0]){var d=this.options.toleranceElement?$(this.options.toleranceElement,c.item):c.item;a||(c.width=d.outerWidth(),c.height=d.outerHeight());var e=d.offset();c.left=e.left,c.top=e.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var b=this.containers.length-1;b>=0;b--){var e=this.containers[b].element.offset();this.containers[b].containerCache.left=e.left,this.containers[b].containerCache.top=e.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight()}return this},_createPlaceholder:function(a){a=a||this;var b=a.options;if(!b.placeholder||b.placeholder.constructor==String){var c=b.placeholder;b.placeholder={element:function(){var b=$(document.createElement(a.currentItem[0].nodeName)).addClass(c||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return c||(b.style.visibility="hidden"),b},update:function(d,e){(!c||b.forcePlaceholderSize)&&(e.height()||e.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}}}a.placeholder=$(b.placeholder.element.call(a.element,a.currentItem)),a.currentItem.after(a.placeholder),b.placeholder.update(a,a.placeholder)},_contactContainers:function(a){for(var b=null,c=null,d=this.containers.length-1;d>=0;d--)if(!$.contains(this.currentItem[0],this.containers[d].element[0]))if(this._intersectsWith(this.containers[d].containerCache)){if(b&&$.contains(this.containers[d].element[0],b.element[0]))continue;b=this.containers[d],c=d}else this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",a,this._uiHash(this)),this.containers[d].containerCache.over=0);if(b)if(1===this.containers.length)this.containers[c]._trigger("over",a,this._uiHash(this)),this.containers[c].containerCache.over=1;else{for(var e=1e4,f=null,g=this.containers[c].floating?"left":"top",h=this.containers[c].floating?"width":"height",i=this.positionAbs[g]+this.offset.click[g],j=this.items.length-1;j>=0;j--)if($.contains(this.containers[c].element[0],this.items[j].item[0])&&this.items[j].item[0]!=this.currentItem[0]){var k=this.items[j].item.offset()[g],l=!1;Math.abs(k-i)>Math.abs(k+this.items[j][h]-i)&&(l=!0,k+=this.items[j][h]),Math.abs(k-i)<e&&(e=Math.abs(k-i),f=this.items[j],this.direction=l?"up":"down")}if(!f&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[c],f?this._rearrange(a,f,null,!0):this._rearrange(a,null,this.containers[c].element,!0),this._trigger("change",a,this._uiHash()),this.containers[c]._trigger("change",a,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[c]._trigger("over",a,this._uiHash(this)),this.containers[c].containerCache.over=1}},_createHelper:function(a){var b=this.options,c=$.isFunction(b.helper)?$(b.helper.apply(this.element[0],[a,this.currentItem])):"clone"==b.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||$("parent"!=b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==c[0].style.width||b.forceHelperSize)&&c.width(this.currentItem.width()),(""==c[0].style.height||b.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),$.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if("parent"==a.containment&&(a.containment=this.helper[0].parentNode),("document"==a.containment||"window"==a.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,($("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(a.containment)){var b=$(a.containment)[0],c=$(a.containment).offset(),d="hidden"!=$(b).css("overflow");this.containment=[c.left+(parseInt($(b).css("borderLeftWidth"),10)||0)+(parseInt($(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt($(b).css("borderTopWidth"),10)||0)+(parseInt($(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt($(b).css("borderLeftWidth"),10)||0)-(parseInt($(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt($(b).css("borderTopWidth"),10)||0)-(parseInt($(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"==a?1:-1,d=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),e=/(html|body)/i.test(d[0].tagName);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*c}
},_generatePosition:function(a){var b=this.options,c="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(c[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var e=a.pageX,f=a.pageY;if(this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(f=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(f=this.containment[3]+this.offset.click.top)),b.grid)){var g=this.originalPageY+Math.round((f-this.originalPageY)/b.grid[1])*b.grid[1];f=this.containment&&(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g-this.offset.click.top<this.containment[1]?g+b.grid[1]:g-b.grid[1]:g;var h=this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0];e=this.containment&&(h-this.offset.click.left<this.containment[0]||h-this.offset.click.left>this.containment[2])?h-this.offset.click.left<this.containment[0]?h+b.grid[0]:h-b.grid[0]:h}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():d?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():d?0:c.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e==this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){this.reverting=!1;var c=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var d in this._storedCSS)("auto"==this._storedCSS[d]||"static"==this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&c.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||b||c.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(c.push(function(a){this._trigger("remove",a,this._uiHash())}),c.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),c.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(var d=this.containers.length-1;d>=0;d--)b||c.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over&&(c.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over=0);if(this._storedCursor&&$("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(var d=0;d<c.length;d++)c[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(var d=0;d<c.length;d++)c[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){$.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||$([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}})}(jQuery),jQuery.effects||function($,a){var b=$.uiBackCompat!==!1,c="ui-effects-";$.effects={effect:{}},function(jQuery,a){function b(a,b,c){var d=k[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function c(a){var b=i(),c=b._rgba=[];return a=a.toLowerCase(),n(h,function(d,e){var f,g=e.re.exec(a),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=b[i](h),b[j[i].cache]=f[j[i].cache],c=b._rgba=f._rgba,!1):void 0}),c.length?("0,0,0,0"===c.join()&&jQuery.extend(c,e.transparent),b):e[a]}function d(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var e,f="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),g=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],i=jQuery.Color=function(a,b,c,d){return new jQuery.Color.fn.parse(a,b,c,d)},j={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=i.support={},m=jQuery("<p>")[0],n=jQuery.each;m.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=m.style.backgroundColor.indexOf("rgba")>-1,n(j,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),i.fn=jQuery.extend(i.prototype,{parse:function(d,f,g,h){if(d===a)return this._rgba=[null,null,null,null],this;(d.jquery||d.nodeType)&&(d=jQuery(d).css(f),f=a);var k=this,l=jQuery.type(d),m=this._rgba=[];return f!==a&&(d=[d,f,g,h],l="array"),"string"===l?this.parse(c(d)||e._default):"array"===l?(n(j.rgba.props,function(a,c){m[c.idx]=b(d[c.idx],c)}),this):"object"===l?(d instanceof i?n(j,function(a,b){d[b.cache]&&(k[b.cache]=d[b.cache].slice())}):n(j,function(a,c){var e=c.cache;n(c.props,function(a,f){if(!k[e]&&c.to){if("alpha"===a||null==d[a])return;k[e]=c.to(k._rgba)}k[e][f.idx]=b(d[a],f,!0)}),k[e]&&$.inArray(null,k[e].slice(0,3))<0&&(k[e][3]=1,c.from&&(k._rgba=c.from(k[e])))}),this):void 0},is:function(a){var b=i(a),c=!0,d=this;return n(j,function(_,a){var e,f=b[a.cache];return f&&(e=d[a.cache]||a.to&&a.to(d._rgba)||[],n(a.props,function(_,a){return null!=f[a.idx]?c=f[a.idx]===e[a.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return n(j,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,c){var d=i(a),e=d._space(),f=j[e],g=0===this.alpha()?i("transparent"):this,h=g[f.cache]||f.to(g._rgba),l=h.slice();return d=d[f.cache],n(f.props,function(a,e){var f=e.idx,g=h[f],i=d[f],j=k[e.type]||{};null!==i&&(null===g?l[f]=i:(j.mod&&(i-g>j.mod/2?g+=j.mod:g-i>j.mod/2&&(g-=j.mod)),l[f]=b((i-g)*c+g,e)))}),this[e](l)},blend:function(a){if(1===this._rgba[3])return this;var b=this._rgba.slice(),c=b.pop(),d=i(a)._rgba;return i(jQuery.map(b,function(a,b){return(1-c)*d[b]+c*a}))},toRgbaString:function(){var a="rgba(",b=jQuery.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===b[3]&&(b.pop(),a="rgb("),a+b.join()+")"},toHslaString:function(){var a="hsla(",b=jQuery.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===b[3]&&(b.pop(),a="hsl("),a+b.join()+")"},toHexString:function(a){var b=this._rgba.slice(),c=b.pop();return a&&b.push(~~(255*c)),"#"+jQuery.map(b,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,j.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===l||1===l?l:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},j.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],e=a[2],f=a[3],g=.5>=e?e*(1+c):e+c-e*c,h=2*e-g;return[Math.round(255*d(h,g,b+1/3)),Math.round(255*d(h,g,b)),Math.round(255*d(h,g,b-1/3)),f]},n(j,function(c,d){var e=d.props,f=d.cache,h=d.to,j=d.from;i.fn[c]=function(c){if(h&&!this[f]&&(this[f]=h(this._rgba)),c===a)return this[f].slice();var d,g=jQuery.type(c),k="array"===g||"object"===g?c:arguments,l=this[f].slice();return n(e,function(a,c){var d=k["object"===g?a:c.idx];null==d&&(d=l[c.idx]),l[c.idx]=b(d,c)}),j?(d=i(j(l)),d[f]=l,d):i(l)},n(e,function(a,b){i.fn[a]||(i.fn[a]=function(d){var e,f=jQuery.type(d),h="alpha"===a?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[b.idx];return"undefined"===f?j:("function"===f&&(d=d.call(this,j),f=jQuery.type(d)),null==d&&b.empty?this:("string"===f&&(e=g.exec(d),e&&(d=j+parseFloat(e[2])*("+"===e[1]?1:-1))),i[b.idx]=d,this[h](i)))})})}),n(f,function(a,b){jQuery.cssHooks[b]={set:function(a,d){var e,f,g="";if("string"!==jQuery.type(d)||(e=c(d))){if(d=i(e||d),!l.rgba&&1!==d._rgba[3]){for(f="backgroundColor"===b?a.parentNode:a;(""===g||"transparent"===g)&&f&&f.style;)try{g=jQuery.css(f,"backgroundColor"),f=f.parentNode}catch(h){}d=d.blend(g&&"transparent"!==g?g:"_default")}d=d.toRgbaString()}try{a.style[b]=d}catch(j){}}},jQuery.fx.step[b]=function(a){a.colorInit||(a.start=i(a.elem,b),a.end=i(a.end),a.colorInit=!0),jQuery.cssHooks[b].set(a.elem,a.start.transition(a.end,a.pos))}}),jQuery.cssHooks.borderColor={expand:function(a){var b={};return n(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},e=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function b(){var a,b,c=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,d={};if(c&&c.length&&c[0]&&c[c[0]])for(b=c.length;b--;)a=c[b],"string"==typeof c[a]&&(d[$.camelCase(a)]=c[a]);else for(a in c)"string"==typeof c[a]&&(d[a]=c[a]);return d}function c(a,b){var c,d,f={};for(c in b)d=b[c],a[c]!==d&&(e[c]||($.fx.step[c]||!isNaN(parseFloat(d)))&&(f[c]=d));return f}var d=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,a){$.fx.step[a]=function(b){("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)&&(jQuery.style(b.elem,a,b.end),b.setAttr=!0)}}),$.effects.animateClass=function(a,e,f,g){var h=$.speed(e,f,g);return this.queue(function(){var e,f=$(this),g=f.attr("class")||"",i=h.children?f.find("*").andSelf():f;i=i.map(function(){var a=$(this);return{el:a,start:b.call(this)}}),e=function(){$.each(d,function(b,c){a[c]&&f[c+"Class"](a[c])})},e(),i=i.map(function(){return this.end=b.call(this.el[0]),this.diff=c(this.start,this.end),this}),f.attr("class",g),i=i.map(function(){var a=this,b=$.Deferred(),c=jQuery.extend({},h,{queue:!1,complete:function(){b.resolve(a)}});return this.el.animate(this.diff,c),b.promise()}),$.when.apply($,i.get()).done(function(){e(),$.each(arguments,function(){var a=this.el;$.each(this.diff,function(b){a.css(b,"")})}),h.complete.call(f[0])})})},$.fn.extend({_addClass:$.fn.addClass,addClass:function(a,b,c,d){return b?$.effects.animateClass.call(this,{add:a},b,c,d):this._addClass(a)},_removeClass:$.fn.removeClass,removeClass:function(a,b,c,d){return b?$.effects.animateClass.call(this,{remove:a},b,c,d):this._removeClass(a)},_toggleClass:$.fn.toggleClass,toggleClass:function(b,c,d,e,f){return"boolean"==typeof c||c===a?d?$.effects.animateClass.call(this,c?{add:b}:{remove:b},d,e,f):this._toggleClass(b,c):$.effects.animateClass.call(this,{toggle:b},c,d,e)},switchClass:function(a,b,c,d,e){return $.effects.animateClass.call(this,{add:b,remove:a},c,d,e)}})}(),function(){function d(a,b,c,d){return $.isPlainObject(a)&&(b=a,a=a.effect),a={effect:a},null==b&&(b={}),$.isFunction(b)&&(d=b,c=null,b={}),("number"==typeof b||$.fx.speeds[b])&&(d=c,c=b,b={}),$.isFunction(c)&&(d=c,c=null),b&&$.extend(a,b),c=c||b.duration,a.duration=$.fx.off?0:"number"==typeof c?c:c in $.fx.speeds?$.fx.speeds[c]:$.fx.speeds._default,a.complete=d||b.complete,a}function e(a){return!a||"number"==typeof a||$.fx.speeds[a]?!0:"string"!=typeof a||$.effects.effect[a]?!1:b&&$.effects[a]?!1:!0}$.extend($.effects,{version:"1.9.2",save:function(a,b){for(var d=0;d<b.length;d++)null!==b[d]&&a.data(c+b[d],a[0].style[b[d]])},restore:function(b,d){var e,f;for(f=0;f<d.length;f++)null!==d[f]&&(e=b.data(c+d[f]),e===a&&(e=""),b.css(d[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var b={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},c=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),d={width:a.width(),height:a.height()},e=document.activeElement;try{e.id}catch(f){e=document.body}return a.wrap(c),(a[0]===e||$.contains(a[0],e))&&$(e).focus(),c=a.parent(),"static"===a.css("position")?(c.css({position:"relative"}),a.css({position:"relative"})):($.extend(b,{position:a.css("position"),zIndex:a.css("z-index")}),$.each(["top","left","bottom","right"],function(c,d){b[d]=a.css(d),isNaN(parseInt(b[d],10))&&(b[d]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),a.css(d),c.css(b).show()},removeWrapper:function(a){var b=document.activeElement;return a.parent().is(".ui-effects-wrapper")&&(a.parent().replaceWith(a),(a[0]===b||$.contains(a[0],b))&&$(b).focus()),a},setTransition:function(a,b,c,d){return d=d||{},$.each(b,function(b,e){var f=a.cssUnit(e);f[0]>0&&(d[e]=f[0]*c+f[1])}),d}}),$.fn.extend({effect:function(){function a(a){function b(){$.isFunction(e)&&e.call(d[0]),$.isFunction(a)&&a()}var d=$(this),e=c.complete,f=c.mode;(d.is(":hidden")?"hide"===f:"show"===f)?b():g.call(d[0],c,b)}var c=d.apply(this,arguments),e=c.mode,f=c.queue,g=$.effects.effect[c.effect],h=!g&&b&&$.effects[c.effect];return $.fx.off||!g&&!h?e?this[e](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):g?f===!1?this.each(a):this.queue(f||"fx",a):h.call(this,{options:c,duration:c.duration,callback:c.complete,mode:c.mode})},_show:$.fn.show,show:function(a){if(e(a))return this._show.apply(this,arguments);var b=d.apply(this,arguments);return b.mode="show",this.effect.call(this,b)},_hide:$.fn.hide,hide:function(a){if(e(a))return this._hide.apply(this,arguments);var b=d.apply(this,arguments);return b.mode="hide",this.effect.call(this,b)},__toggle:$.fn.toggle,toggle:function(a){if(e(a)||"boolean"==typeof a||$.isFunction(a))return this.__toggle.apply(this,arguments);var b=d.apply(this,arguments);return b.mode="toggle",this.effect.call(this,b)},cssUnit:function(a){var b=this.css(a),c=[];return $.each(["em","px","%","pt"],function(a,d){b.indexOf(d)>0&&(c=[parseFloat(b),d])}),c}})}(),function(){var a={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,c){a[c]=function(a){return Math.pow(a,b+2)}}),$.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),$.each(a,function(a,b){$.easing["easeIn"+a]=b,$.easing["easeOut"+a]=function(a){return 1-b(1-a)},$.easing["easeInOut"+a]=function(a){return.5>a?b(2*a)/2:1-b(-2*a+2)/2}})}()}(jQuery),function($){var a=/up|down|vertical/,b=/up|left|vertical|horizontal/;$.effects.effect.blind=function(c,d){var e,f,g,h=$(this),i=["position","top","bottom","left","right","height","width"],j=$.effects.setMode(h,c.mode||"hide"),k=c.direction||"up",l=a.test(k),m=l?"height":"width",n=l?"top":"left",o=b.test(k),p={},q="show"===j;h.parent().is(".ui-effects-wrapper")?$.effects.save(h.parent(),i):$.effects.save(h,i),h.show(),e=$.effects.createWrapper(h).css({overflow:"hidden"}),f=e[m](),g=parseFloat(e.css(n))||0,p[m]=q?f:0,o||(h.css(l?"bottom":"right",0).css(l?"top":"left","auto").css({position:"absolute"}),p[n]=q?g:f+g),q&&(e.css(m,0),o||e.css(n,g+f)),e.animate(p,{duration:c.duration,easing:c.easing,queue:!1,complete:function(){"hide"===j&&h.hide(),$.effects.restore(h,i),$.effects.removeWrapper(h),d()}})}}(jQuery),function($){$.effects.effect.bounce=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","height","width"],h=$.effects.setMode(f,a.mode||"effect"),i="hide"===h,j="show"===h,k=a.direction||"up",l=a.distance,m=a.times||5,n=2*m+(j||i?1:0),o=a.duration/n,p=a.easing,q="up"===k||"down"===k?"top":"left",r="up"===k||"left"===k,s=f.queue(),t=s.length;for((j||i)&&g.push("opacity"),$.effects.save(f,g),f.show(),$.effects.createWrapper(f),l||(l=f["top"===q?"outerHeight":"outerWidth"]()/3),j&&(e={opacity:1},e[q]=0,f.css("opacity",0).css(q,r?2*-l:2*l).animate(e,o,p)),i&&(l/=Math.pow(2,m-1)),e={},e[q]=0,c=0;m>c;c++)d={},d[q]=(r?"-=":"+=")+l,f.animate(d,o,p).animate(e,o,p),l=i?2*l:l/2;i&&(d={opacity:0},d[q]=(r?"-=":"+=")+l,f.animate(d,o,p)),f.queue(function(){i&&f.hide(),$.effects.restore(f,g),$.effects.removeWrapper(f),b()}),t>1&&s.splice.apply(s,[1,0].concat(s.splice(t,n+1))),f.dequeue()}}(jQuery),function($){$.effects.effect.clip=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","height","width"],h=$.effects.setMode(f,a.mode||"hide"),i="show"===h,j=a.direction||"vertical",k="vertical"===j,l=k?"height":"width",m=k?"top":"left",n={};$.effects.save(f,g),f.show(),c=$.effects.createWrapper(f).css({overflow:"hidden"}),d="IMG"===f[0].tagName?c:f,e=d[l](),i&&(d.css(l,0),d.css(m,e/2)),n[l]=i?e:0,n[m]=i?0:e/2,d.animate(n,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){i||f.hide(),$.effects.restore(f,g),$.effects.removeWrapper(f),b()}})}}(jQuery),function($){$.effects.effect.drop=function(a,b){var c,d=$(this),e=["position","top","bottom","left","right","opacity","height","width"],f=$.effects.setMode(d,a.mode||"hide"),g="show"===f,h=a.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h?"pos":"neg",k={opacity:g?1:0};$.effects.save(d,e),d.show(),$.effects.createWrapper(d),c=a.distance||d["top"===i?"outerHeight":"outerWidth"](!0)/2,g&&d.css("opacity",0).css(i,"pos"===j?-c:c),k[i]=(g?"pos"===j?"+=":"-=":"pos"===j?"-=":"+=")+c,d.animate(k,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===f&&d.hide(),$.effects.restore(d,e),$.effects.removeWrapper(d),b()}})}}(jQuery),function($){$.effects.effect.explode=function(a,b){function c(){s.push(this),s.length===k*l&&d()}function d(){m.css({visibility:"visible"}),$(s).remove(),o||m.hide(),b()}var e,f,g,h,i,j,k=a.pieces?Math.round(Math.sqrt(a.pieces)):3,l=k,m=$(this),n=$.effects.setMode(m,a.mode||"hide"),o="show"===n,p=m.show().css("visibility","hidden").offset(),q=Math.ceil(m.outerWidth()/l),r=Math.ceil(m.outerHeight()/k),s=[];for(e=0;k>e;e++)for(h=p.top+e*r,j=e-(k-1)/2,f=0;l>f;f++)g=p.left+f*q,i=f-(l-1)/2,m.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*q,top:-e*r}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:q,height:r,left:g+(o?i*q:0),top:h+(o?j*r:0),opacity:o?0:1}).animate({left:g+(o?0:i*q),top:h+(o?0:j*r),opacity:o?1:0},a.duration||500,a.easing,c)}}(jQuery),function($){$.effects.effect.fade=function(a,b){var c=$(this),d=$.effects.setMode(c,a.mode||"toggle");c.animate({opacity:d},{queue:!1,duration:a.duration,easing:a.easing,complete:b})}}(jQuery),function($){$.effects.effect.fold=function(a,b){var c,d,e=$(this),f=["position","top","bottom","left","right","height","width"],g=$.effects.setMode(e,a.mode||"hide"),h="show"===g,i="hide"===g,j=a.size||15,k=/([0-9]+)%/.exec(j),l=!!a.horizFirst,m=h!==l,n=m?["width","height"]:["height","width"],o=a.duration/2,p={},q={};$.effects.save(e,f),e.show(),c=$.effects.createWrapper(e).css({overflow:"hidden"}),d=m?[c.width(),c.height()]:[c.height(),c.width()],k&&(j=parseInt(k[1],10)/100*d[i?0:1]),h&&c.css(l?{height:0,width:j}:{height:j,width:0}),p[n[0]]=h?d[0]:j,q[n[1]]=h?d[1]:0,c.animate(p,o,a.easing).animate(q,o,a.easing,function(){i&&e.hide(),$.effects.restore(e,f),$.effects.removeWrapper(e),b()})}}(jQuery),function($){$.effects.effect.highlight=function(a,b){var c=$(this),d=["backgroundImage","backgroundColor","opacity"],e=$.effects.setMode(c,a.mode||"show"),f={backgroundColor:c.css("backgroundColor")};"hide"===e&&(f.opacity=0),$.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:a.color||"#ffff99"}).animate(f,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===e&&c.hide(),$.effects.restore(c,d),b()}})}}(jQuery),function($){$.effects.effect.pulsate=function(a,b){var c,d=$(this),e=$.effects.setMode(d,a.mode||"show"),f="show"===e,g="hide"===e,h=f||"hide"===e,i=2*(a.times||5)+(h?1:0),j=a.duration/i,k=0,l=d.queue(),m=l.length;for((f||!d.is(":visible"))&&(d.css("opacity",0).show(),k=1),c=1;i>c;c++)d.animate({opacity:k},j,a.easing),k=1-k;d.animate({opacity:k},j,a.easing),d.queue(function(){g&&d.hide(),b()}),m>1&&l.splice.apply(l,[1,0].concat(l.splice(m,i+1))),d.dequeue()}}(jQuery),function($){$.effects.effect.puff=function(a,b){var c=$(this),d=$.effects.setMode(c,a.mode||"hide"),e="hide"===d,f=parseInt(a.percent,10)||150,g=f/100,h={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};$.extend(a,{effect:"scale",queue:!1,fade:!0,mode:d,complete:b,percent:e?f:100,from:e?h:{height:h.height*g,width:h.width*g,outerHeight:h.outerHeight*g,outerWidth:h.outerWidth*g}}),c.effect(a)},$.effects.effect.scale=function(a,b){var c=$(this),d=$.extend(!0,{},a),e=$.effects.setMode(c,a.mode||"effect"),f=parseInt(a.percent,10)||(0===parseInt(a.percent,10)?0:"hide"===e?0:100),g=a.direction||"both",h=a.origin,i={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()},j={y:"horizontal"!==g?f/100:1,x:"vertical"!==g?f/100:1};d.effect="size",d.queue=!1,d.complete=b,"effect"!==e&&(d.origin=h||["middle","center"],d.restore=!0),d.from=a.from||("show"===e?{height:0,width:0,outerHeight:0,outerWidth:0}:i),d.to={height:i.height*j.y,width:i.width*j.x,outerHeight:i.outerHeight*j.y,outerWidth:i.outerWidth*j.x},d.fade&&("show"===e&&(d.from.opacity=0,d.to.opacity=1),"hide"===e&&(d.from.opacity=1,d.to.opacity=0)),c.effect(d)},$.effects.effect.size=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],i=["width","height","overflow"],j=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],m=$.effects.setMode(f,a.mode||"effect"),n=a.restore||"effect"!==m,o=a.scale||"both",p=a.origin||["middle","center"],q=f.css("position"),r=n?g:h,s={height:0,width:0,outerHeight:0,outerWidth:0};"show"===m&&f.show(),c={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()},"toggle"===a.mode&&"show"===m?(f.from=a.to||s,f.to=a.from||c):(f.from=a.from||("show"===m?s:c),f.to=a.to||("hide"===m?s:c)),e={from:{y:f.from.height/c.height,x:f.from.width/c.width},to:{y:f.to.height/c.height,x:f.to.width/c.width}},("box"===o||"both"===o)&&(e.from.y!==e.to.y&&(r=r.concat(k),f.from=$.effects.setTransition(f,k,e.from.y,f.from),f.to=$.effects.setTransition(f,k,e.to.y,f.to)),e.from.x!==e.to.x&&(r=r.concat(l),f.from=$.effects.setTransition(f,l,e.from.x,f.from),f.to=$.effects.setTransition(f,l,e.to.x,f.to))),("content"===o||"both"===o)&&e.from.y!==e.to.y&&(r=r.concat(j).concat(i),f.from=$.effects.setTransition(f,j,e.from.y,f.from),f.to=$.effects.setTransition(f,j,e.to.y,f.to)),$.effects.save(f,r),f.show(),$.effects.createWrapper(f),f.css("overflow","hidden").css(f.from),p&&(d=$.effects.getBaseline(p,c),f.from.top=(c.outerHeight-f.outerHeight())*d.y,f.from.left=(c.outerWidth-f.outerWidth())*d.x,f.to.top=(c.outerHeight-f.to.outerHeight)*d.y,f.to.left=(c.outerWidth-f.to.outerWidth)*d.x),f.css(f.from),("content"===o||"both"===o)&&(k=k.concat(["marginTop","marginBottom"]).concat(j),l=l.concat(["marginLeft","marginRight"]),i=g.concat(k).concat(l),f.find("*[width]").each(function(){var b=$(this),c={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};n&&$.effects.save(b,i),b.from={height:c.height*e.from.y,width:c.width*e.from.x,outerHeight:c.outerHeight*e.from.y,outerWidth:c.outerWidth*e.from.x},b.to={height:c.height*e.to.y,width:c.width*e.to.x,outerHeight:c.height*e.to.y,outerWidth:c.width*e.to.x},e.from.y!==e.to.y&&(b.from=$.effects.setTransition(b,k,e.from.y,b.from),b.to=$.effects.setTransition(b,k,e.to.y,b.to)),e.from.x!==e.to.x&&(b.from=$.effects.setTransition(b,l,e.from.x,b.from),b.to=$.effects.setTransition(b,l,e.to.x,b.to)),b.css(b.from),b.animate(b.to,a.duration,a.easing,function(){n&&$.effects.restore(b,i)})})),f.animate(f.to,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){0===f.to.opacity&&f.css("opacity",f.from.opacity),"hide"===m&&f.hide(),$.effects.restore(f,r),n||("static"===q?f.css({position:"relative",top:f.to.top,left:f.to.left}):$.each(["top","left"],function(a,b){f.css(b,function(_,b){var c=parseInt(b,10),d=a?f.to.left:f.to.top;return"auto"===b?d+"px":c+d+"px"})})),$.effects.removeWrapper(f),b()}})}}(jQuery),function($){$.effects.effect.shake=function(a,b){var c,d=$(this),e=["position","top","bottom","left","right","height","width"],f=$.effects.setMode(d,a.mode||"effect"),g=a.direction||"left",h=a.distance||20,i=a.times||3,j=2*i+1,k=Math.round(a.duration/j),l="up"===g||"down"===g?"top":"left",m="up"===g||"left"===g,n={},o={},p={},q=d.queue(),r=q.length;for($.effects.save(d,e),d.show(),$.effects.createWrapper(d),n[l]=(m?"-=":"+=")+h,o[l]=(m?"+=":"-=")+2*h,p[l]=(m?"-=":"+=")+2*h,d.animate(n,k,a.easing),c=1;i>c;c++)d.animate(o,k,a.easing).animate(p,k,a.easing);d.animate(o,k,a.easing).animate(n,k/2,a.easing).queue(function(){"hide"===f&&d.hide(),$.effects.restore(d,e),$.effects.removeWrapper(d),b()}),r>1&&q.splice.apply(q,[1,0].concat(q.splice(r,j+1))),d.dequeue()}}(jQuery),function($){$.effects.effect.slide=function(a,b){var c,d=$(this),e=["position","top","bottom","left","right","width","height"],f=$.effects.setMode(d,a.mode||"show"),g="show"===f,h=a.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h,k={};$.effects.save(d,e),d.show(),c=a.distance||d["top"===i?"outerHeight":"outerWidth"](!0),$.effects.createWrapper(d).css({overflow:"hidden"}),g&&d.css(i,j?isNaN(c)?"-"+c:-c:c),k[i]=(g?j?"+=":"-=":j?"-=":"+=")+c,d.animate(k,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===f&&d.hide(),$.effects.restore(d,e),$.effects.removeWrapper(d),b()}})}}(jQuery),function($){$.effects.effect.transfer=function(a,b){var c=$(this),d=$(a.to),e="fixed"===d.css("position"),f=$("body"),g=e?f.scrollTop():0,h=e?f.scrollLeft():0,i=d.offset(),j={top:i.top-g,left:i.left-h,height:d.innerHeight(),width:d.innerWidth()},k=c.offset(),l=$('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(a.className).css({top:k.top-g,left:k.left-h,height:c.innerHeight(),width:c.innerWidth(),position:e?"fixed":"absolute"}).animate(j,a.duration,a.easing,function(){l.remove(),b()})}}(jQuery),function(a){"function"==typeof define&&define.amd?define("jquery.mousewheel",["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function($){function a(a){var f=a||window.event,g=h.call(arguments,1),i=0,k=0,l=0,m=0,n=0,o=0;if(a=$.event.fix(f),a.type="mousewheel","detail"in f&&(l=-1*f.detail),"wheelDelta"in f&&(l=f.wheelDelta),"wheelDeltaY"in f&&(l=f.wheelDeltaY),"wheelDeltaX"in f&&(k=-1*f.wheelDeltaX),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(k=-1*l,l=0),i=0===l?k:l,"deltaY"in f&&(l=-1*f.deltaY,i=l),"deltaX"in f&&(k=f.deltaX,0===l&&(i=-1*k)),0!==l||0!==k){if(1===f.deltaMode){var p=$.data(this,"mousewheel-line-height");i*=p,l*=p,k*=p}else if(2===f.deltaMode){var q=$.data(this,"mousewheel-page-height");i*=q,l*=q,k*=q}if(m=Math.max(Math.abs(l),Math.abs(k)),(!e||e>m)&&(e=m,c(f,m)&&(e/=40)),c(f,m)&&(i/=40,k/=40,l/=40),i=Math[i>=1?"floor":"ceil"](i/e),k=Math[k>=1?"floor":"ceil"](k/e),l=Math[l>=1?"floor":"ceil"](l/e),j.settings.normalizeOffset&&this.getBoundingClientRect){var r=this.getBoundingClientRect();n=a.clientX-r.left,o=a.clientY-r.top}return a.deltaX=k,a.deltaY=l,a.deltaFactor=e,a.offsetX=n,a.offsetY=o,a.deltaMode=0,g.unshift(a,i,k,l),d&&clearTimeout(d),d=setTimeout(b,200),($.event.dispatch||$.event.handle).apply(this,g)}}function b(){e=null}function c(a,b){return j.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var d,e,f=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],g="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if($.event.fixHooks)for(var i=f.length;i;)$.event.fixHooks[f[--i]]=$.event.mouseHooks;var j=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var b=g.length;b;)this.addEventListener(g[--b],a,!1);else this.onmousewheel=a;$.data(this,"mousewheel-line-height",j.getLineHeight(this)),$.data(this,"mousewheel-page-height",j.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var b=g.length;b;)this.removeEventListener(g[--b],a,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(a){var b=$(a),c=b["offsetParent"in $.fn?"offsetParent":"parent"]();return c.length||(c=$("body")),parseInt(c.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(a){return $(a).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};$.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,_=function(a){return a instanceof _?a:this instanceof _?void(this._wrapped=a):new _(a)
};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):a._=_,_.VERSION="1.6.0";var x=_.each=_.forEach=function(a,b,d){if(null==a)return a;if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=_.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return;return a};_.map=_.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(x(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var y="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=_.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(x(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(y);return c},_.reduceRight=_.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=_.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=_.keys(a);f=g.length}if(x(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(y);return c},_.find=_.detect=function(a,b,c){var d;return z(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},_.filter=_.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(x(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},_.reject=function(a,b,c){return _.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},_.every=_.all=function(a,b,d){b||(b=_.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(x(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var z=_.some=_.any=function(a,b,d){b||(b=_.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(x(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};_.contains=_.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):z(a,function(a){return a===b})},_.invoke=function(a,b){var c=h.call(arguments,2),d=_.isFunction(b);return _.map(a,function(a){return(d?b:a[b]).apply(a,c)})},_.pluck=function(a,b){return _.map(a,_.property(b))},_.where=function(a,b){return _.filter(a,_.matches(b))},_.findWhere=function(a,b){return _.find(a,_.matches(b))},_.max=function(a,b,c){if(!b&&_.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return x(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},_.min=function(a,b,c){if(!b&&_.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return x(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},_.shuffle=function(a){var b,c=0,d=[];return x(a,function(a){b=_.random(c++),d[c-1]=d[b],d[b]=a}),d},_.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=_.values(a)),a[_.random(a.length-1)]):_.shuffle(a).slice(0,Math.max(0,b))};var A=function(a){return null==a?_.identity:_.isFunction(a)?a:_.property(a)};_.sortBy=function(a,b,c){return b=A(b),_.pluck(_.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var B=function(a){return function(b,c,d){var e={};return c=A(c),x(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};_.groupBy=B(function(a,b,c){_.has(a,b)?a[b].push(c):a[b]=[c]}),_.indexBy=B(function(a,b,c){a[b]=c}),_.countBy=B(function(a,b){_.has(a,b)?a[b]++:a[b]=1}),_.sortedIndex=function(a,b,c,d){c=A(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},_.toArray=function(a){return a?_.isArray(a)?h.call(a):a.length===+a.length?_.map(a,_.identity):_.values(a):[]},_.size=function(a){return null==a?0:a.length===+a.length?a.length:_.keys(a).length},_.first=_.head=_.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:h.call(a,0,b)},_.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},_.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},_.rest=_.tail=_.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},_.compact=function(a){return _.filter(a,_.identity)};var C=function(a,b,c){return b&&_.every(a,_.isArray)?i.apply(c,a):(x(a,function(a){_.isArray(a)||_.isArguments(a)?b?g.apply(c,a):C(a,b,c):c.push(a)}),c)};_.flatten=function(a,b){return C(a,b,[])},_.without=function(a){return _.difference(a,h.call(arguments,1))},_.partition=function(a,b,c){b=A(b);var d=[],e=[];return x(a,function(a){(b.call(c,a)?d:e).push(a)}),[d,e]},_.uniq=_.unique=function(a,b,c,d){_.isFunction(b)&&(d=c,c=b,b=!1);var e=c?_.map(a,c,d):a,f=[],g=[];return x(e,function(c,d){(b?d&&g[g.length-1]===c:_.contains(g,c))||(g.push(c),f.push(a[d]))}),f},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(a){var b=h.call(arguments,1);return _.filter(_.uniq(a),function(a){return _.every(b,function(b){return _.contains(b,a)})})},_.difference=function(a){var b=i.apply(d,h.call(arguments,1));return _.filter(a,function(a){return!_.contains(b,a)})},_.zip=function(){for(var a=_.max(_.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=_.pluck(arguments,""+c);return b},_.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},_.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=_.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},_.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},_.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var D=function(){};_.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!_.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));D.prototype=a.prototype;var e=new D;D.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},_.partial=function(a){var b=h.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===_&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},_.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return x(b,function(b){a[b]=_.bind(a[b],a)}),a},_.memoize=function(a,b){var c={};return b||(b=_.identity),function(){var d=b.apply(this,arguments);return _.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},_.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},_.defer=function(a){return _.delay.apply(_,[a,1].concat(h.call(arguments,1)))},_.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:_.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=_.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},_.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=_.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=_.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},_.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},_.wrap=function(a,b){return _.partial(b,a)},_.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},_.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},_.keys=function(a){if(!_.isObject(a))return[];if(v)return v(a);var b=[];for(var c in a)_.has(a,c)&&b.push(c);return b},_.values=function(a){for(var b=_.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},_.pairs=function(a){for(var b=_.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},_.invert=function(a){for(var b={},c=_.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},_.functions=_.methods=function(a){var b=[];for(var c in a)_.isFunction(a[c])&&b.push(c);return b.sort()},_.extend=function(a){return x(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},_.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return x(c,function(c){c in a&&(b[c]=a[c])}),b},_.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)_.contains(c,e)||(b[e]=a[e]);return b},_.defaults=function(a){return x(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},_.clone=function(a){return _.isObject(a)?_.isArray(a)?a.slice():_.extend({},a):a},_.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(_.isFunction(g)&&g instanceof g&&_.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=E(a[i],b[i],c,d)););}else{for(var l in a)if(_.has(a,l)&&(i++,!(k=_.has(b,l)&&E(a[l],b[l],c,d))))break;if(k){for(l in b)if(_.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};_.isEqual=function(a,b){return E(a,b,[],[])},_.isEmpty=function(a){if(null==a)return!0;if(_.isArray(a)||_.isString(a))return 0===a.length;for(var b in a)if(_.has(a,b))return!1;return!0},_.isElement=function(a){return!(!a||1!==a.nodeType)},_.isArray=u||function(a){return"[object Array]"==j.call(a)},_.isObject=function(a){return a===Object(a)},x(["Arguments","Function","String","Number","Date","RegExp"],function(a){_["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),_.isArguments(arguments)||(_.isArguments=function(a){return!(!a||!_.has(a,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(a){return"function"==typeof a}),_.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},_.isNaN=function(a){return _.isNumber(a)&&a!=+a},_.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},_.isNull=function(a){return null===a},_.isUndefined=function(a){return void 0===a},_.has=function(a,b){return k.call(a,b)},_.noConflict=function(){return a._=b,this},_.identity=function(a){return a},_.constant=function(a){return function(){return a}},_.property=function(a){return function(b){return b[a]}},_.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},_.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},_.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},_.now=Date.now||function(){return(new Date).getTime()};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};F.unescape=_.invert(F.escape);var G={escape:new RegExp("["+_.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(F.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(a){_[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),_.result=function(a,b){if(null==a)return void 0;var c=a[b];return _.isFunction(c)?c.call(a):c},_.mixin=function(a){x(_.functions(a),function(b){var c=_[b]=a[b];_.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(_,a))}})};var H=0;_.uniqueId=function(a){var b=++H+"";return a?a+b:b},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(a,b,c){var d;c=_.defaults({},c,_.templateSettings);var e=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,_);var i=function(a){return d.call(this,a,_)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},_.chain=function(a){return _(a).chain()};var L=function(a){return this._chain?_(a).chain():a};_.mixin(_),x(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];_.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),x(["concat","join","slice"],function(a){var b=d[a];_.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}.call(this),!function(a){"function"==typeof define&&define.amd?define("fish.util",["underscore","handlebars"],a):a(_,Handlebars)}(function(_,a){var b={version:"1.0.0"};b.load=function(b,c){var d=[];b.baseUrl=b.baseUrl?b.baseUrl:"",d.push("text!"+b.baseUrl+b.template),b.i18n?d.push("i18n!"+b.baseUrl+b.i18n):"",require(d,function(d,e){if(void 0===e){var f=a.compile(d)(b);c(f)}else{var g=$.extend(b,e),f=a.compile(d)(g);c(f,e)}})},b.loadDirect=function(a,b){var c=[];a.baseUrl=a.baseUrl?a.baseUrl:"",c.push("text!"+a.baseUrl+a.template),require(c,function(a){b(a)})},b.loadI18n=function(a,b){var c=[];a.baseUrl=a.baseUrl?a.baseUrl:"",c.push("i18n!"+a.baseUrl+a.i18n),require(c,function(a){b(a)})},b.loadScript=function(a){var b=a.substring(0,a.length-3)+"-js";b=String(b).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&"),$("#"+b)[0]&&$("#"+b).remove();var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript",d.charset="utf-8",d.async=!0,d.src=a,d.id=b,c.appendChild(d)},b.getCursorPosition=function(a){var b={text:"",start:0,end:0};if(a.focus(),a.setSelectionRange)return b.start=a.selectionStart,b.end=a.selectionEnd,b.text=b.start!=b.end?a.value.substring(b.start,b.end):"",b;if(document.selection){var c,d=document.selection.createRange(),e=document.body.createTextRange();for(e.moveToElementText(a),b.text=d.text,b.bookmark=d.getBookmark(),c=0;e.compareEndPoints("StartToStart",d)<0&&0!==d.moveStart("character",-1);c++)"\n"==a.value.charAt(c)&&c++;return b.start=c,b.end=b.text.length+b.start,b}return null},b.setCursorPosition=function(a,b){if(!b)throw Error("You must get cursor position first.");if(a.setSelectionRange)return void a.setSelectionRange(b.start,b.end);if(a.createTextRange){var c=a.createTextRange();a.value.length===b.start?(c.collapse(!1),c.select()):(c.moveToBookmark(b.bookmark),c.select())}},window.fish&&(window.fish.util?"":window.fish.util={},_.extend(window.fish.util,b),_.extend(window.fish.util,_))}),!function($){fish.locale.en=$.extend(fish.locale.en,{alert:{ok:"OK",cancel:"Cancel",confirm:"Confirm",information:"Information",success:"Success",warn:"Warning",error:"Error",prompt:"Prompt"}})}(jQuery),!function(){fish.locale.en=$.extend(fish.locale.en,{datetimepicker:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}})}(),!function($){$.jgrid=$.jgrid||{},$.extend($.jgrid,{defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}"},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}]},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(a){return 11>a||a>13?["st","nd","rd","th"][Math.min((a-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",parseRe:/[Tt\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!0},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}})}(jQuery),!function(){fish.locale.en=$.extend(fish.locale.en,{loadUI:{loading:"Loading..."}})}(),!function(){fish.locale.en=$.extend(fish.locale.en,{multiselect:{multiple_text:"Select Some Options",single_text:"Select an Option",no_result_text:"No results match"}})}(),!function($){fish.locale.en=$.extend(fish.locale.en,{spinner:{name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}},messages:{}}})}(jQuery),!function($){fish.locale.en=$.extend(fish.locale.en,{validator:{msg:{defaultMsg:"This field is not valid.",loadingMsg:"Validating...",digits:"Please enter only digits.",required:"This field is required.",remote:"Please try another name.",integer:{nzp:"Please enter an integer.",p:"Please enter a positive integer.",pz:"Please enter a positive integer or 0.",n:"Please enter a negative integer.",nz:"Please enter a negative integer or 0."},match:{eq:"{0} must be equal to {1}.",neq:"{0} must be not equal to {1}.",lt:"{0} must be less than {1}.",gt:"{0} must be greater than {1}.",lte:"{0} must be less than or equal to {1}.",gte:"{0} must be greater than or equal to {1}."},range:{rg:"Please enter a number between {1} and {2}.",gte:"Please enter a number greater than or equal to {1}.",lte:"Please enter a number less than or equal to {1}."},checked:{eq:"Please check {1} items.",rg:"Please check between {1} and {2} items.",gte:"Please check at least {1} items.",lte:"Please check no more than {1} items."},length:{eq:"Please enter {1} characters.",rg:"Please enter a value between {1} and {2} characters long.",gte:"Please enter at least {1} characters.",lte:"Please enter no more than {1} characters."}},rules:{letters:[/^[a-z]+$/i,"{0} can only enter letters"],tel:[/^(?:(?:0\d{2,3}[\- ]?[1-9]\d{6,7})|(?:[48]00[\- ]?[1-9]\d{6}))$/,"Telephone format is incorrect"],mobile:[/^1[3-9]\d{9}$/,"Phone number format is incorrect"],email:[/^[\w\+\-]+(\.[\w\+\-]+)*@[a-z\d\-]+(\.[a-z\d\-]+)*\.([a-z]{2,4})$/i,"E-mail format is incorrect"],qq:[/^[1-9]\d{4,}$/,"QQ number format is incorrect"],date:[/^\d{4}-\d{1,2}-\d{1,2}$/,"Please enter the correct date, for example: yyyy-mm-dd"],time:[/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/,"Enter the correct time, for example: 14:30 or 14:30:00"],ID_card:[/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[A-Z])$/,"Please enter the correct ID number"],url:[/^(https?|ftp):\/\/[^\s]+$/i,"URL format is incorrect"],postcode:[/^[1-9]\d{5}$/,"ZIP format is incorrect"],chinese:[/^[\u0391-\uFFE5]+$/,"Please enter the Chinese"],username:[/^\w{3,12}$/,"Please enter 3-12 digits, letters, underscores"],password:[/^[0-9a-zA-Z]{6,16}$/,"Password from 6-16 digits, letters"],accept:function(a,b){if(!b)return!0;var c=b[0];return"*"===c||new RegExp(".(?:"+(c||"png|jpg|jpeg|gif")+")$","i").test(a.value)||this.renderMsg("{1} suffix only accept",c.replace("|",","))}}}})}(jQuery),!function(a){"function"==typeof define&&define.amd?define("fish.formfield",a):a()}(function(){$.widget("ui.formfield",{options:{},_initFormField:function(){var a=this,b=this._$form=this.element.closest("form");if(b&&0!==b.length){var c=b.data("fields")||{};this.element.attr("name")&&(c[this.element.attr("name")]={instance:this.element,widgetName:a.widgetName}),b.data("fields",c),this._initEvent()}},_initEvent:function(){var a=this;this._$form.on("formclear."+this.widgetName,function(b){a._formClearEventHandler(b)})},_formClearEventHandler:$.noop,_destory:function(){if(this._$form){this._$form.off("formclear."+this.widgetName);var a=this._$form.data("fields");a&&(a[this.element.attr("name")]=null)}}})}),!function(a){"function"==typeof define&&define.amd?define("fish.accordion",a):a()}(function(){var a=0,b={},c={};b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="hide",c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="show",$.widget("ui.accordion",{options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,.panel-heading",heightStyle:"auto",icons:{activeHeader:"arrow-down",header:"arrow-left"},activate:null,beforeActivate:null},_create:function(){var b=this.accordionId="ui-accordion-"+(this.element.attr("id")||++a),c=this.options;this.prevShow=this.prevHide=$(),this.element.addClass("ui-accordion"),this.headers=this.element.find(c.header).addClass("ui-accordion-header"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content").hide(),c.collapsible||c.active!==!1&&null!=c.active||(c.active=0),c.active<0&&(c.active+=this.headers.length),this.active=this._findActive(c.active).addClass("ui-accordion-header-active"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(a){var c=$(this),d=c.attr("id"),e=c.parent().next(),f=e.attr("id");d||(d=b+"-header-"+a,c.attr("id",d)),f||(f=b+"-panel-"+a,e.attr("id",f)),c.attr("aria-controls",f),e.attr("aria-labelledby",d)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(c.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():$()}},_createIcons:function(){var a=this.options.icons;a&&($("<span>").addClass("ui-accordion-header-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-helper-reset ui-state-active ui-state-disabled").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void("disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)))},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var b=$.ui.keyCode,c=this.headers.length,d=this.headers.index(a.target),e=!1;switch(a.keyCode){case b.RIGHT:case b.DOWN:e=this.headers[(d+1)%c];break;case b.LEFT:case b.UP:e=this.headers[(d-1+c)%c];break;case b.SPACE:case b.ENTER:this._eventHandler(a);break;case b.HOME:e=this.headers[0];break;case b.END:e=this.headers[c-1]}e&&($(a.target).attr("tabIndex",-1),$(e).attr("tabIndex",0),e.focus(),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===$.ui.keyCode.UP&&a.ctrlKey&&$(a.currentTarget).prev().focus()},refresh:function(){var a,b,c=this.options.heightStyle,d=this.element.parent();"fill"===c?($.support.minHeight||(b=d.css("overflow"),d.css("overflow","hidden")),a=d.height(),this.element.siblings(":visible").each(function(){var b=$(this),c=b.css("position");"absolute"!==c&&"fixed"!==c&&(a-=b.outerHeight(!0))}),b&&d.css("overflow",b),this.headers.each(function(){a-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,a-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===c&&(a=0,this.headers.next().each(function(){a=Math.max(a,$(this).css("height","").height())}).height(a))},_activate:function(a){var b=this._findActive(a)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:$.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):$()},_setupEvents:function(a){var b={};a&&($.each(a.split(" "),function(a,c){b[c]="_eventHandler"}),this._on(this.headers,b))},_eventHandler:function(a){var b=this.options,c=this.active,d=$(a.currentTarget),e=d[0]===c[0],f=e&&b.collapsible,g=f?$():d.next(),h=c.next(),i={oldHeader:c,oldPanel:h,newHeader:f?$():d,newPanel:g};a.preventDefault(),e&&!b.collapsible||this._trigger("beforeActivate",a,i)===!1||(b.active=f?!1:this.headers.index(d),this.active=e?$():d,this._toggle(i),c.removeClass("ui-accordion-header-active"),b.icons&&c.children(".ui-accordion-header-icon").removeClass(b.icons.activeHeader).addClass(b.icons.header),e||(d.addClass("ui-accordion-header-active"),b.icons&&d.children(".ui-accordion-header-icon").removeClass(b.icons.header).addClass(b.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(a){var b=a.newPanel,c=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=b,this.prevHide=c,this.options.animate?this._animate(b,c,a):(c.hide(),b.show(),this._toggleComplete(a)),c.attr({"aria-expanded":"false","aria-hidden":"true"}),c.prev().attr("aria-selected","false"),b.length&&c.length?c.prev().attr("tabIndex",-1):b.length&&this.headers.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),b.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,d,e){var f,g,h,i=this,j=0,k=a.length&&(!d.length||a.index()<d.index()),l=this.options.animate||{},m=k&&l.down||l,n=function(){i._toggleComplete(e)};return"number"==typeof m&&(h=m),"string"==typeof m&&(g=m),g=g||m.easing||l.easing,h=h||m.duration||l.duration,d.length?a.length?(f=a.show().outerHeight(),d.animate(b,{duration:h,easing:g,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(c,{duration:h,easing:g,complete:n,step:function(a,b){b.now=Math.round(a),"height"!==b.prop?j+=b.now:"content"!==i.options.heightStyle&&(b.now=Math.round(f-d.outerHeight()-j),j=0)}})):d.animate(b,h,g,n):a.animate(c,h,g,n)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev(),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}})}),!function(a){"function"==typeof define&&define.amd?define("fish.affix",a):a()
}(function(){"use strict";function a(a){return this.each(function(){var c=$(this),d=c.data("affix"),e="object"==typeof a&&a;d||c.data("affix",d=new b(this,e)),"string"==typeof a&&d[a]()})}var b=function(a,c){this.options=$.extend({},b.DEFAULTS,c),this.$target=$(this.options.target).on("scroll",$.proxy(this.checkPosition,this)).on("click",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(a),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0,target:window},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$target.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=$(document).height(),c=this.$target.scrollTop(),d=this.$element.offset(),e=this.options.offset,f=e.top,g=e.bottom;"object"!=typeof e&&(g=f=e),"function"==typeof f&&(f=e.top(this.$element)),"function"==typeof g&&(g=e.bottom(this.$element));var h=null!=this.unpin&&c+this.unpin<=d.top?!1:null!=g&&d.top+this.$element.height()>=a-g?"bottom":null!=f&&f>=c?"top":!1;if(this.affixed!==h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=$.Event(i);this.$element.trigger(j),j.isDefaultPrevented()||(this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(i).trigger($.Event(i.replace("affix","affixed"))),"bottom"==h&&this.$element.offset({top:a-this.$element.height()-g}))}}},$.fn.affix=a,$.fn.affix.Constructor=b}),!function(a){"function"==typeof define&&define.amd?define("fish.alert",["fish.dialog"],a):a()}(function(){function a(a,b,d){if(!g[a]){var h=$.extend({title:fish.getResource("alert.information"),btnOk:fish.getResource("alert.ok")},b);g[a]=Handlebars.compile(f[a]||f.info)(h)}var i=$('<div class="model">').attr("id","ui-alert-"+e++).append(g[a]),j=(d.useIcon?c(a).get(0).outerHTML:"")+"<span>"+(d.content||"")+"</span>";i.find(".modal-body").html(j),i.find("button").on("click",function(){i.dialog("close")}),i.dialog(d),i.on("dialogclose",function(){i.dialog("destroy"),i.remove()})}function b(a,b){var c;switch($.type(b[0])){case"undefined":case"string":c={content:b[0]||"",title:b[1]||""},c=$.extend({},a,c);break;case"object":c=$.extend({},a,b[0])}return c}function c(a){var b=$("<span>");switch(a){case"info":b.addClass("glyphicon glyphicon-send");break;case"suc":b.addClass("glyphicon glyphicon-ok");break;case"warn":b.addClass("glyphicon glyphicon-flash");break;case"error":b.addClass("glyphicon glyphicon-remove")}return b}var d={},e=0,f={},g={},h={autoOpen:!0,buttons:{},closeOnEscape:!0,dialogClass:"",draggable:!0,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:400,resizable:!1,modal:!0,backdrop:!0,useIcon:!0,show:{effect:"fade",duration:300}};f.info='<div class="modal-header"><h4 class="modal-title">{{title}}</h4></div><div class="modal-body"></div><div class="modal-footer"><button type="button" class="btn btn-primary">{{btnOk}}</button></div>',f.confirm='<div class="modal-header"><h4 class="modal-title">{{title}}</h4></div><div class="modal-body"></div><div class="modal-footer"></div>',f.prompt='<div class="modal-header"><h4 class="modal-title">{{title}}</h4></div><div class="modal-body"><div></div><input type="text"></div><div class="modal-footer"></div>',d.showInfo=function(){var c=b(h,arguments);c.dialogClass=" ui-alert ui-alert-info",a("info",{title:fish.getResource("alert.information")},c)},d.showSuccess=function(){var c=b(h,arguments);c.dialogClass=" ui-alert ui-alert-suc",a("suc",{title:fish.getResource("alert.success")},c)},d.showWarn=function(){var c=b(h,arguments);c.dialogClass=" ui-alert ui-alert-warn",a("warn",{title:fish.getResource("alert.warn")},c)},d.showError=function(){var c=b(h,arguments);c.dialogClass=" ui-alert ui-alert-error",a("error",{title:fish.getResource("alert.error")},c)},d.showConfirm=function(){var a={};switch($.type(arguments[0])){case"undefined":case"string":var b,c,d;"function"==$.type(arguments[1])?(c=arguments[1],d=arguments[2]):$.type("string"==arguments[1])&&(b=arguments[1],c=arguments[2],d=arguments[3]),a={content:arguments[0]||"",title:b||""},a=$.extend({},h,a),a.buttons=[{label:fish.getResource("alert.confirm"),callback:c||$.noop},{label:fish.getResource("alert.cancel"),callback:d||$.noop}];break;case"object":a=$.extend({},h,arguments[0])}a.dialogClass=" ui-alert ui-alert-confirm",a.backdrop=!1,a.closeOnEscape=!1;var i={title:fish.getResource("alert.confirm")};g.confirm=Handlebars.compile(f.confirm)(i);var j=$("<div>").attr("id","ui-alert-"+e++).append(g.confirm);$.each(a.buttons,function(a,b){var c=$('<button type="button">').addClass("btn btn-primary ui-alert-confirm"+a).text(b.label);c.on("click",function(){j.dialog("close"),b.callback&&b.callback.call(j)}),j.find(".modal-footer").append(c)}),j.find(".modal-body").html(a.content||""),j.dialog(a),j.on("dialogclose",function(){j.dialog("destroy"),j.remove()})},d.showConfirm2=function(a){a=$.event.fix(a);var b=a.target;return b.confirmResult?(b.confirmResult=!1,!0):(d.showConfirm(arguments[1],arguments[2],function(){return b.confirmResult=!0,b.click&&b.click(a),!1}),!1)},d.showPrompt=function(a,b,c){"function"==$.type(b)&&(c=b,b="");var d={content:a||"",title:b||""};d=$.extend({},h,d),d.buttons=[{label:fish.getResource("alert.confirm"),callback:c||$.noop},{label:fish.getResource("alert.cancel"),callback:$.noop}],d.dialogClass=" ui-alert ui-alert-prompt",d.backdrop=!1,d.closeOnEscape=!1,g.prompt||(g.prompt=Handlebars.compile(f.prompt)({title:fish.getResource("alert.prompt")}));var i=$("<div>").attr("id","ui-alert-"+e++).append(g.prompt);$.each(d.buttons,function(a,b){var c=$('<button type="button">').addClass("btn btn-primary ui-alert-confirm"+a).text(b.label);c.on("click",function(){i.dialog("close"),b.callback&&b.callback.call(i,$.trim(i.find("input").val())||"")}),i.find(".modal-footer").append(c)}),i.find(".modal-body").children().first().html(d.content||""),i.dialog(d),i.on("dialogclose",function(){i.dialog("destroy"),i.remove()})};var i=null,j={};d.toast={config:{}},d.showToast=function(a,b){b=$.extend({duration:5e3,sticky:!1,type:""},b),"number"==typeof b.duration||(b.duration=5e3),"boolean"==typeof b.sticky||(b.sticky=!1),"string"==typeof b.type||(b.type=""),i||(j=d.toast.config,i=$("<ul></ul>").addClass("ui-alert-toast").appendTo(document.body).hide(),"number"==typeof j.width||(j.width=500),"string"==typeof j.align||(j.align="center"),"boolean"==typeof j.closeForStickyOnly||(j.closeForStickyOnly=!1),i.width(j.width),"left"===j.align||"right"===j.align?i.css("margin","5px").css(j.align,"0"):i.css({left:"50%",margin:"5px 0 0 -"+j.width/2+"px"}));var c=$("<li></li>").hide().html(a).appendTo(i),e=$("<button>&times;</button>").addClass("close").prependTo(c),f=null;e.click(function(){clearTimeout(f),c.animate({height:0,opacity:0},"fast",function(){c.remove(),i.children().length||i.removeClass("active").hide()})}),j.closeForStickyOnly&&!b.sticky&&e.hide(),""!==b.type&&c.addClass(b.type),!i.hasClass("active")&&i.addClass("active").show(),!b.sticky&&b.duration>0&&(f=setTimeout(function(){e.click()},b.duration)),c.fadeIn("normal")},$.extend(fish,d)}),!function(a){"function"==typeof define&&define.amd?define("fish.autocomplete",["ui.formfield","fish.menu"],a):a()}(function(){$.widget("ui.autocomplete",$.ui.formfield,{defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,b,c,d=this.element[0].nodeName.toLowerCase(),e="textarea"===d,f="input"===d;this.isMultiLine=e?!0:f?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[e||f?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input ui-widget-create").attr("autocomplete","off"),this._on(this.element,{keydown:function(d){if(this.element.prop("readOnly"))return a=!0,c=!0,void(b=!0);a=!1,c=!1,b=!1;var e=$.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:a=!0,this._move("previousPage",d);break;case e.PAGE_DOWN:a=!0,this._move("nextPage",d);break;case e.UP:a=!0,this._keyEvent("previous",d);break;case e.DOWN:a=!0,this._keyEvent("next",d);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&(a=!0,d.preventDefault(),this.menu.select(d));break;case e.TAB:this.menu.active&&this.menu.select(d);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(d),d.preventDefault());break;default:b=!0,this._searchTimeout(d)}},keypress:function(c){if(a)return a=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&c.preventDefault());if(!b){var d=$.ui.keyCode;switch(c.keyCode){case d.PAGE_UP:this._move("previousPage",c);break;case d.PAGE_DOWN:this._move("nextPage",c);break;case d.UP:this._keyEvent("previous",c);break;case d.DOWN:this._keyEvent("next",c)}}},input:function(a){return c?(c=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(a){a.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var b=this.menu.element[0];$(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(c){c.target===a.element[0]||c.target===b||$.contains(b,c.target)||a.close()})})},menufocus:function(a,b){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){$(a.target).trigger(a.originalEvent)});var c=b.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:c})?a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(c.value):this.liveRegion.text(c.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}}),this._initFormField()},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?$(a):this.document.find(a).eq(0)),a||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_initSource:function(){var a,b,c=this;$.isArray(this.options.source)?(a=this.options.source,this.source=function(b,c){c($.ui.autocomplete.filter(a,b.term))}):"string"==typeof this.options.source?(b=this.options.source,this.source=function(a,d){c.xhr&&c.xhr.abort(),c.xhr=$.ajax({url:b,data:a,dataType:"json",success:function(a){d(a)},error:function(){d([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return $.proxy(function(b){a===this.requestIndex&&this.__response(b),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:$.map(a,function(a){return"string"==typeof a?{label:a,value:a}:$.extend({label:a.label||a.value,value:a.value||a.label},a)})},_suggest:function(a){var b=this.menu.element.empty();this._renderMenu(b,a),this.isNewMenu=!0,this.menu.refresh(),b.show(),this._resizeMenu(),b.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,b){var c=this;$.each(b,function(b,d){c._renderItemData(a,d)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(a,b){return $("<li>").append($("<a>").text(b.label)).appendTo(a)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},value:function(){return this.valueMethod.apply(this.element,arguments)},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())},_formClearEventHandler:function(){this.value("")}}),$.extend($.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,b){var c=new RegExp($.ui.autocomplete.escapeRegex(b),"i");return $.grep(a,function(a){return c.test(a.label||a.value||a)})}}),$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}),!function(a){"function"==typeof define&&define.amd?define("fish.base64",a):a()}(function(){"use strict";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a.charAt(c)]=c;return b}(a),c=String.fromCharCode,d=function(a){if(a.length<2){var b=a.charCodeAt(0);return 128>b?a:2048>b?c(192|b>>>6)+c(128|63&b):c(224|b>>>12&15)+c(128|b>>>6&63)+c(128|63&b)}var b=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return c(240|b>>>18&7)+c(128|b>>>12&63)+c(128|b>>>6&63)+c(128|63&b)},e=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(a){return a.replace(e,d)},g=function(b){var c=[0,2,1][b.length%3],d=b.charCodeAt(0)<<16|(b.length>1?b.charCodeAt(1):0)<<8|(b.length>2?b.charCodeAt(2):0),e=[a.charAt(d>>>18),a.charAt(d>>>12&63),c>=2?"=":a.charAt(d>>>6&63),c>=1?"=":a.charAt(63&d)];return e.join("")},h=window.btoa?function(a){return window.btoa(a)}:function(a){return a.replace(/[\s\S]{1,3}/g,g)},i=function(a){return h(f(a))},j=function(a,b){return b?i(a).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,""):i(a)},k=function(a){return j(a,!0)},l=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),m=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),d=b-65536;return c((d>>>10)+55296)+c((1023&d)+56320);case 3:return c((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return c((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},n=function(a){return a.replace(l,m)},o=function(a){var d=a.length,e=d%4,f=(d>0?b[a.charAt(0)]<<18:0)|(d>1?b[a.charAt(1)]<<12:0)|(d>2?b[a.charAt(2)]<<6:0)|(d>3?b[a.charAt(3)]:0),g=[c(f>>>16),c(f>>>8&255),c(255&f)];return g.length-=[0,0,2,1][e],g.join("")},p=window.atob?function(a){return window.atob(a)}:function(a){return a.replace(/[\s\S]{1,4}/g,o)},q=function(a){return n(p(a))},r=function(a){return q(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};fish.Base64={atob:p,btoa:h,fromBase64:r,toBase64:j,utob:f,encode:j,encodeURI:k,btou:n,decode:r}}),!function(a){"function"==typeof define&&define.amd?define("fish.carousel",a):a()}(function(){$.widget("ui.carousel",{options:{interval:5e3,pause:"hover",wrap:!0,carouselClass:"",showControl:!0},_create:function(){var a=this,b=this.element;b.addClass("carousel slide "+this.options.carouselClass||"").attr("role","carousel");var c=this.$container=b.find(".carousel-container");c.children().first().addClass("active"),this.imgWidth=$(".item",c).find("img").width(),this.width=$(".item",c).css("width",this.imgWidth).width(),this.containerWidth=this.width*c.children().length,c.css("width",this.containerWidth),this.$indicators=$("<ol>").addClass("carousel-indicators");for(var d=0;d<c.children().length;d++){var e=$("<li>").attr("data-slide-to",d);0==d&&e.addClass("active"),this.$indicators.append(e)}if(b.append(this.$indicators),this._on(this.$indicators,{click:"_indicatorsEvent"}),this.options.showControl){var f=$("<a>").addClass("left carousel-control").attr("data-slide","prev").attr("href","#").append('<span class="glyphicon glyphicon-chevron-left"></span>'),g=$("<a>").addClass("right carousel-control").attr("data-slide","next").attr("href","#").append('<span class="glyphicon glyphicon-chevron-right"></span>');b.append(f).append(g),this._on(f,{click:function(b){a._prev(),b.preventDefault()}}),this._on(g,{click:function(b){a._next(),b.preventDefault()}})}this._on(b,{keydown:"_keydown"}),"hover"==this.options.pause&&this._on(b,{mouseenter:"_pause",mouseleave:"_cycle"}),this._pause()._cycle()},_init:function(){},_destroy:function(){var a=this.element;a.removeClass("carousel slide "+this.options.carouselClass).removeAttr("role"),a.find("ol").remove(),this.options.showControl&&a.find(".carousel-control").remove(),clearInterval(this.interval),this._off(this.element)},to:function(a){var b=this,c=this._getItemIndex(this.$active=this.element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this._pause()._cycle():this._slide(a>c?"next":"prev",$(this.$items[a]))},_indicatorsEvent:function(a){if("LI"==a.target.nodeName){var b=$(a.target);this.to(b.attr("data-slide-to"))}},_keydown:function(a){switch(a.keyCode){case $.ui.keyCode.LEFT:this._prev();break;case $.ui.keyCode.RIGHT:this._next();break;default:return}a.preventDefault()},_pause:function(a){return a||(this.paused=!0),this.element.find(".next, .prev").length&&$.support.transition&&(this.element.trigger($.support.transition.end),this._cycle(!0)),this.interval=clearInterval(this.interval),this},_cycle:function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this._next,this),this.options.interval)),this},_prev:function(){return this.sliding?void 0:this._slide("prev")},_next:function(){return this.sliding?void 0:this._slide("next")},_slide:function(a,b){var c=this.element.find(".item.active"),d=b||c[a](),e=this.interval,f="next"==a?"left":"right",g="next"==a?"first":"last",h=this;if(!d.length){if(!this.options.wrap)return;d=this.element.find(".item")[g]()}if(d.hasClass("active"))return this.sliding=!1;var i=d[0],j=$.Event("slide.bs.carousel",{relatedTarget:i,direction:f});if(this.element.trigger(j),!j.isDefaultPrevented()){if(this.sliding=!0,e&&this._pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var k=$(this.$indicators.children()[this._getItemIndex(d)]);k&&k.addClass("active")}var l=$.Event("slid.bs.carousel",{relatedTarget:i,direction:f}),m=(this._getItemIndex(c),this._getItemIndex(d)),n=m,o=-n*this.imgWidth;return d.addClass("active"),this.element.find(".carousel-container").stop(!0,!1).animate({left:o},300,function(){c.removeClass("active"),h.sliding=!1,h.element.trigger(l)}),e&&this._cycle(),this}},_getItemIndex:function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)}})}),!function(a){"function"==typeof define&&define.amd?define("fish.combobox",a):a()}(function(){var a=(fish.util,function(a,b){this.options=$.extend({},$.fn.combobox.defaults,b),this.$source=$(a),this.$container=this.setup(),this.$element=this.$container.find("input[type=text]"),this.$target=this.$container.find("input[type=hidden]"),this.$button=this.$container.find(".dropdown-toggle"),this.$menu=$(this.options.menu).appendTo("body"),this.template=this.options.template||this.template,this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.shown=!1,this.selected=!1,this.refresh(),this.transferAttributes(),this.listen(),this.formHandler()});a.prototype={constructor:a,setup:function(){var a=$(this.template());return this.$source.before(a),this.$source.hide(),a},disable:function(){this.$element.prop("disabled",!0),this.$button.attr("disabled",!0),this.disabled=!0,this.$container.addClass("combobox-disabled")},enable:function(){this.$element.prop("disabled",!1),this.$button.attr("disabled",!1),this.disabled=!1,this.$container.removeClass("combobox-disabled")},value:function(a){switch($.type(a)){case"undefined":return this.$source.val()||this.$target.val()||this.$element.val();default:var b="",c="";$.each(this.map,function(d,e){return e===a?(b=d,c=e,!1):void 0}),b=b?b:a,c=c?c:a,this.$element.val(b).trigger("change"),this.$target.val(c).trigger("change"),this.$source.val(c).trigger("change"),null==a||0===a.length?this.$container.removeClass("combobox-selected"):(this.$container.addClass("combobox-selected"),this.selected=!0)}},destroy:function(){var a=this.$element.closest("form");if(a.length){a.off("reset.combobox").removeData("bootstrap-combobox");var b=a.data("fields");b&&(b[this.$source.attr("name")]=null)}this.$source.removeData("combobox"),this.$source.prev().remove(),this.$source.show(),this.$source.trigger("destroy")},parse:function(){var a=this,b={},c=[],d=!1,e="";return this.$source.find("option").each(function(){var f=$(this);return""===f.val()?void(a.options.placeholder=f.text()):(b[f.text()]=f.val(),c.push(f.text()),void(f.prop("selected")&&(d=f.text(),e=f.val())))}),this.map=b,d&&(this.$element.val(d),this.$target.val(e),this.$container.addClass("combobox-selected"),this.selected=!0),c},transferAttributes:function(){this.options.placeholder=this.$source.attr("data-placeholder")||this.options.placeholder,this.$element.attr("placeholder",this.options.placeholder),this.$target.prop("name",this.$source.prop("name")),this.$target.val(this.$source.val()),this.$source.data("name",this.$source.attr("name")).removeAttr("name"),this.$element.attr("required",this.$source.attr("required")),this.$element.attr("rel",this.$source.attr("rel")),this.$element.attr("title",this.$source.attr("title")),this.$element.attr("class",this.$source.attr("class")),this.$element.attr("tabindex",this.$source.attr("tabindex")),this.$source.removeAttr("tabindex"),void 0!==this.$source.attr("disabled")&&this.disable()},select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).trigger("change"),this.$target.val(this.map[a]).trigger("change"),this.$source.val(this.map[a]).trigger("change"),this.$container.addClass("combobox-selected"),this.selected=!0,this.hide()},updater:function(a){return a},show:function(){var a=$.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),b=this.$element.offset(),c=b.top-$(document).scrollTop()+a.height+this.$menu.height(),d=c>$(window).height()?-this.$menu.outerHeight():a.top+a.height;return this.$menu.insertAfter(this.$element).css({top:d,left:a.left}).show(),$(".dropdown-menu").on("mousedown",$.proxy(this.scrollSafety,this)),this.shown=!0,this.$source.trigger("comboboxopen"),this},hide:function(){return this.$menu.hide(),$(".dropdown-menu").off("mousedown",$.proxy(this.scrollSafety,this)),this.$element.on("blur",$.proxy(this.blur,this)),this.shown=!1,this.$source.trigger("comboboxclose"),this},lookup:function(){return this.query=this.$element.val(),this.process(this.source)},process:function(a){var b=this;return a=$.grep(a,function(a){return b.matcher(a)}),a=this.sorter(a),a.length?this.render(a.slice(0,this.options.items)).show():this.shown?this.hide():this},template:function(){var a='<div class="combobox-container"> <input type="hidden" /> <div class="input-group"> <input type="text" autocomplete="off" /> <span class="input-group-addon dropdown-toggle" data-dropdown="dropdown"> <span class="caret" /> <span class="glyphicon glyphicon-remove" /> </span> </div> </div>';return a},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(a){var b=this;return a=$(a).map(function(a,c){return a=$(b.options.item).attr("data-value",c),a.find("a").html(b.highlighter(c)),a[0]}),a.first().addClass("active"),this.$menu.html(a),this},next:function(){var a=this.$menu.find(".active").removeClass("active"),b=a.next();b.length||(b=$(this.$menu.find("li")[0])),b.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active"),b=a.prev();b.length||(b=this.$menu.find("li").last()),b.addClass("active")},toggle:function(){this.disabled||(this.$container.hasClass("combobox-selected")?(this.clearTarget(),this.triggerChange(),this.clearElement()):this.shown?this.hide():(this.clearElement(),this.lookup()))},reset:function(){this.disabled||(this.$container.hasClass("combobox-selected")?(this.clearTarget(),this.triggerChange(),this.clearElement()):this.shown?this.hide():this.clearElement())},scrollSafety:function(a){"UL"==a.target.tagName&&this.$element.off("blur")},clearElement:function(){this.$element.val("").focus()},clearTarget:function(){this.$source.val(""),this.$target.val(""),this.$container.removeClass("combobox-selected"),this.selected=!1},triggerChange:function(){this.$source.trigger("comboboxchange")},refresh:function(){this.source=this.parse(),this.options.items=this.source.length},listen:function(){var a=this;this.$element.on("focus",$.proxy(this.focus,this)).on("blur",$.proxy(this.blur,this)).on("keypress",$.proxy(this.keypress,this)).on("keyup",$.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",$.proxy(this.keydown,this)),this.$menu.on("click",$.proxy(this.click,this)).on("mouseenter","li",$.proxy(this.mouseenter,this)).on("mouseleave","li",$.proxy(this.mouseleave,this)),this.$button.on("click",$.proxy(this.toggle,this)),this.$source.on("comboboxcreate",function(){a.options.create.apply(a.$element,arguments)}),this.$source.trigger("comboboxcreate")},formHandler:function(){var a=this,b=this.$element.closest("form"),c=b.data("fields")||{};this.$source.data("name")&&(c[this.$source.data("name")]={instance:a.$source,widgetName:"combobox"}),b.data("fields",c),b.data("bootstrap-combobox")||(b.on("reset.combobox",function(){return window.setTimeout(function(){return b.find("select").filter(function(){return $(this).data("combobox")}).each(function(){return $(this).combobox("reset")})},1)}).on("formclear.combobox",function(){return window.setTimeout(function(){return b.find("select").filter(function(){return $(this).data("combobox")}).each(function(){return $(this).combobox("value","")})},1)}),b.data("bootstrap-combobox",!0))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(a){this.suppressKeyPressRepeat=~$.inArray(a.keyCode,[40,38,9,13,27]),this.move(a)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 39:case 38:case 37:case 36:case 35:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.clearTarget(),this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(){this.focused=!0},blur:function(){var a=this;this.focused=!1,!this.mousedover&&this.shown&&setTimeout(function(){a.hide()},200),this.mousedover||this.$source.trigger("comboboxblur")},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(a){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),$(a.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1}},$.fn.combobox=function(b){var c=this,d=$(arguments).slice(1);return this.each(function(){var e=$(this),f=e.data("combobox"),g="object"==typeof b&&b;f||(e.data("combobox",f=new a(this,g)),e.on("comboboxchange.valid change.valid comboboxblur.valid",function(){try{e.isValid()}catch(a){}})),"string"==typeof b&&(c=f[b].apply(f,d))}),c},$.fn.combobox.defaults={menu:'<ul class="typeahead typeahead-long dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',create:$.noop},$.fn.combobox.Constructor=a}),!function(a){"function"==typeof define&&define.amd?define("fish.cookies",a):a()}(function(){function a(a){return encodeURIComponent(a)}function b(a){return decodeURIComponent(a)}function c(a){return JSON.stringify(a)}function d(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{a=decodeURIComponent(a.replace(f," "))}catch(b){return}try{return JSON.parse(a)}catch(b){}}function e(a,b){var c=d(a);return $.isFunction(b)?b(c):c}{var f=/\+/g,g=window.fish;g.cookies={set:function(b,d,e){if(void 0!==d&&!$.isFunction(d)){if(e=$.extend({},e),"number"==typeof e.expires){var f=e.expires,g=e.expires=new Date;g.setDate(g.getDate()+f)}return document.cookie=[a(b),"=",c(d),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("")}},get:function(a,c){for(var d=a?void 0:{},f=document.cookie?document.cookie.split("; "):[],g=0,h=f.length;h>g;g++){var i=f[g].split("="),j=b(i.shift()),k=i.join("=");if(a&&a===j){d=e(k,c);break}a||void 0===(k=e(k))||(d[j]=k)}return d},remove:function(a,b){return void 0!==this.get(a)?(this.set(a,"",$.extend({},b,{expires:-1})),!0):!1}}}}),!function(a){"function"==typeof define&&define.amd?define("fish.datetimepicker",a):a()
}(function(){function a(){return new Date(Date.UTC.apply(Date,arguments))}var b=function(a,b){var c=this;this.element=$(a),this.isRTL=!1,this.format=d.parseFormat(b.format||this.element.data("date-format")||d.getDefaultFormat("input")),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar").parent():!1,this.componentReset=this.element.is(".date")?this.element.find(".input-group-addon .glyphicon-remove").parent():!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=b.linkField||this.element.data("link-field")||!1,this.linkFormat=d.parseFormat(b.linkFormat||this.element.data("link-format")||d.getDefaultFormat("link")),this.minuteStep=b.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=b.pickerPosition||this.element.data("picker-position")||"bottom-left",this.showMeridian=b.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=b.initialDate||new Date,this._attachEvents(),this.formatViewType="datetime","formatViewType"in b?this.formatViewType=b.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in b?this.minView=b.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=d.convertViewMode(this.minView),this.maxView=d.modes.length-1,"maxView"in b?this.maxView=b.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=d.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in b?this.wheelViewModeNavigation=b.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in b?this.wheelViewModeNavigationInverseDirection=b.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in b?this.wheelViewModeNavigationDelay=b.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in b?this.startViewMode=b.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=d.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in b?this.viewSelect=b.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=d.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in b?this.forceParse=b.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=$(d.template).appendTo(this.isInline?this.element:"body").on({click:$.proxy(this.click,this),mousedown:$.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&$.fn.mousewheel&&this.picker.on({mousewheel:$.proxy(this.mousewheel,this)}),this.picker.addClass(this.isInline?"datetimepicker-inline":"datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL&&(this.picker.addClass("datetimepicker-rtl"),3==this.bootcssVer?this.picker.find(".prev span, .next span").toggleClass("glyphicon-arrow-left glyphicon-arrow-right"):this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),$(document).on("mousedown",function(a){0===$(a.target).closest(".datetimepicker").length&&c.hide()}),this.autoclose=!0,"autoclose"in b?this.autoclose=b.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in b?this.keyboardNavigation=b.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=b.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=b.todayHighlight||this.element.data("date-today-highlight")||!0,this.weekStart=(b.weekStart||this.element.data("date-weekstart")||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(b.startDate||this.element.data("date-startdate")),this.setEndDate(b.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(b.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};b.prototype={constructor:b,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:$.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:$.proxy(this.show,this)}]];for(var a,b,c=0;c<this._events.length;c++)a=this._events[c][0],b=this._events[c][1],a.on(b);var d=this,e=this.element.closest("form");if(e&&0!==e.length){e.on("formclear.datetimepicker",function(){d.element.val("")});var f=this.element.attr("name")||this.element.attr("id"),g=e.data("fields")||{};f&&(g[f]={instance:d.element,widgetName:"datetimepicker"}),e.data("fields",g)}},_detachEvents:function(){for(var a,b,c=0;c<this._events.length;c++)a=this._events[c][0],b=this._events[c][1],a.off(b);this._events=[]},show:function(a){return $(a.target).closest(".date").attr("disabled")?!1:(this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),$(window).on("resize",$.proxy(this.place,this)),a&&(a.stopPropagation(),a.preventDefault()),this.isVisible=!0,void this.element.trigger({type:"show",date:this.date}))},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),$(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||$(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var a=this.getUTCDate();return null==a?null:new Date(a.getTime()+6e4*a.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-6e4*a.getTimezoneOffset()))},setUTCDate:function(a){a>=this.startDate&&a<=this.endDate?(this.date=a,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:a,startDate:this.startDate,endDate:this.endDate})},setFormat:function(a){this.format=d.parseFormat(a);var b;this.isInput?b=this.element:this.component&&(b=this.element.find("input")),b&&b.val()&&this.setValue()},setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a):(this.component&&this.element.find("input").val(a),this.element.data("date",a)),this.linkField&&$("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},setFormattedDate:function(a,b){void 0==b&&(b=this.format),"string"==typeof b&&(b=d.parseFormat(b));var c=d.parseDate(a,b);this.setUTCDate(c)},getFormattedDate:function(a){return void 0==a&&(a=this.format),"string"==typeof a&&(a=d.parseFormat(a)),d.formatDate(this.date,a)},setStartDate:function(a){this.startDate=a||-1/0,this.startDate!==-1/0&&(this.startDate=d.parseDate(this.startDate,this.format)),this.update(),this.updateNavArrows()},setEndDate:function(a){this.endDate=a||1/0,1/0!==this.endDate&&(this.endDate=d.parseDate(this.endDate,this.format)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this.daysOfWeekDisabled=a||[],$.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=$.map(this.daysOfWeekDisabled,function(a){return parseInt(a,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var a=0;$("div").each(function(){var b=parseInt($(this).css("zIndex"),10);b>a&&(a=b)});var b,c,d,e=a+10;this.component?(b=this.component.offset(),d=b.left,("bottom-left"==this.pickerPosition||"top-left"==this.pickerPosition)&&(d+=this.component.outerWidth()-this.picker.outerWidth())):(b=this.element.offset(),d=b.left),c="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?b.top-this.picker.outerHeight():b.top+this.height,this.picker.css({top:c,left:d,zIndex:e})}},update:function(){var a,b,c=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],c=!0):(a=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val()),a?a=this.initialDate:b=!0,("string"==typeof a||a instanceof String)&&(a=a.replace(/^\s+|\s+$/g,""))),a||(a=new Date,c=!1),this.date=d.parseDate(a,this.format),c&&this.setValue(),this.viewDate=new Date(this.date<this.startDate?this.startDate:this.date>this.endDate?this.endDate:this.date),this.fill(),b&&(this.date=null)},fillDow:function(){for(var a=this.weekStart,b=fish.getResource("datetimepicker.daysMin"),c="<tr>";a<this.weekStart+7;)c+='<th class="dow">'+b[a++%7]+"</th>";c+="</tr>",this.picker.find(".datetimepicker-days thead").append(c)},fillMonths:function(){for(var a="",b=fish.getResource("datetimepicker.monthsShort"),c=0;12>c;)a+='<span class="month">'+b[c++]+"</span>";this.picker.find(".datetimepicker-months td").html(a)},fill:function(){if(null!=this.date&&null!=this.viewDate){var b=new Date(this.viewDate),c=b.getUTCFullYear(),e=b.getUTCMonth(),f=b.getUTCDate(),g=b.getUTCHours(),h=b.getUTCMinutes(),i=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,j=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,k=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,l=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,m=new a(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),n=new Date,o=fish.getResource("datetimepicker.months"),p=fish.getResource("datetimepicker.meridiem");if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(o[e]+" "+c),"time"==this.formatViewType){var q=g%12?g%12:12,r=(10>q?"0":"")+q,s=(10>h?"0":"")+h,t=p[12>g?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(r+":"+s+" "+t.toUpperCase()),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(r+":"+s+" "+t.toUpperCase())}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(f+" "+o[e]+" "+c),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(f+" "+o[e]+" "+c);this.picker.find("tfoot th.today").text(fish.getResource("datetimepicker.today")).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var u=a(c,e-1,28,0,0,0,0),v=d.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(v),u.setUTCDate(v-(u.getUTCDay()-this.weekStart+7)%7);var w=new Date(u);w.setUTCDate(w.getUTCDate()+42),w=w.valueOf();for(var x,y=[];u.valueOf()<w;)u.getUTCDay()==this.weekStart&&y.push("<tr>"),x="",u.getUTCFullYear()<c||u.getUTCFullYear()==c&&u.getUTCMonth()<e?x+=" old":(u.getUTCFullYear()>c||u.getUTCFullYear()==c&&u.getUTCMonth()>e)&&(x+=" new"),this.todayHighlight&&u.getUTCFullYear()==n.getFullYear()&&u.getUTCMonth()==n.getMonth()&&u.getUTCDate()==n.getDate()&&(x+=" today"),u.valueOf()==m&&(x+=" active"),(u.valueOf()+864e5<=this.startDate||u.valueOf()>this.endDate||-1!==$.inArray(u.getUTCDay(),this.daysOfWeekDisabled))&&(x+=" disabled"),y.push('<td class="day'+x+'">'+u.getUTCDate()+"</td>"),u.getUTCDay()==this.weekEnd&&y.push("</tr>"),u.setUTCDate(u.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(y.join("")),y=[];for(var z="",A="",B="",C=0;24>C;C++){var D=a(c,e,f,C);x="",D.valueOf()+36e5<=this.startDate||D.valueOf()>this.endDate?x+=" disabled":g==C&&(x+=" active"),this.showMeridian&&2==p.length?(A=12>C?p[0]:p[1],A!=B&&(""!=B&&y.push("</fieldset>"),y.push('<fieldset class="hour"><legend>'+A.toUpperCase()+"</legend>")),B=A,z=C%12?C%12:12,y.push('<span class="hour'+x+" hour_"+(12>C?"am":"pm")+'">'+z+"</span>"),23==C&&y.push("</fieldset>")):(z=C+":00",y.push('<span class="hour'+x+'">'+z+"</span>"))}this.picker.find(".datetimepicker-hours td").html(y.join("")),y=[],z="",A="",B="";for(var C=0;60>C;C+=this.minuteStep){var D=a(c,e,f,g,C,0);x="",D.valueOf()<this.startDate||D.valueOf()>this.endDate?x+=" disabled":Math.floor(h/this.minuteStep)==Math.floor(C/this.minuteStep)&&(x+=" active"),this.showMeridian&&2==p.length?(A=12>g?p[0]:p[1],A!=B&&(""!=B&&y.push("</fieldset>"),y.push('<fieldset class="minute"><legend>'+A.toUpperCase()+"</legend>")),B=A,z=g%12?g%12:12,y.push('<span class="minute'+x+'">'+z+":"+(10>C?"0"+C:C)+"</span>"),59==C&&y.push("</fieldset>")):(z=C+":00",y.push('<span class="minute'+x+'">'+g+":"+(10>C?"0"+C:C)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(y.join(""));var E=this.date.getUTCFullYear(),o=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(c).end().find("span").removeClass("active");E==c&&o.eq(this.date.getUTCMonth()).addClass("active"),(i>c||c>k)&&o.addClass("disabled"),c==i&&o.slice(0,j).addClass("disabled"),c==k&&o.slice(l+1).addClass("disabled"),y="",c=10*parseInt(c/10,10);var F=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(c+"-"+(c+9)).end().find("td");c-=1;for(var C=-1;11>C;C++)y+='<span class="year'+(-1==C||10==C?" old":"")+(E==c?" active":"")+(i>c||c>k?" disabled":"")+'">'+c+"</span>",c+=1;F.html(y),this.place()}},updateNavArrows:function(){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth(),d=a.getUTCDate(),e=a.getUTCHours();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.startDate!==-1/0&&b<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()&&e<=this.startDate.getUTCHours()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&b>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()&&e>=this.endDate.getUTCHours()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:this.picker.find(".prev").css(this.startDate!==-1/0&&b<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&b>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()?{visibility:"hidden"}:{visibility:"visible"});break;case 2:this.picker.find(".prev").css(this.startDate!==-1/0&&b<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&b>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 3:case 4:this.picker.find(".prev").css(this.startDate!==-1/0&&b<=this.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&b>=this.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}},mousewheel:function(a){if(a.preventDefault(),a.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var b=a.originalEvent,c=b.wheelDelta,d=c>0?1:0===c?0:-1;this.wheelViewModeNavigationInverseDirection&&(d=-d),this.showMode(d),setTimeout($.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(b){b.stopPropagation(),b.preventDefault();var c=$(b.target).closest("span, td, th, legend");if(1==c.length){if(c.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(c[0].nodeName.toLowerCase()){case"th":switch(c[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var e=d.modes[this.viewMode].navStep*("prev"==c[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,e);break;case 1:this.viewDate=this.moveDate(this.viewDate,e);break;case 2:this.viewDate=this.moveMonth(this.viewDate,e);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,e)}this.fill();break;case"today":var f=new Date;f=a(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),0),f<this.startDate?f=this.startDate:f>this.endDate&&(f=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(f),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!c.is(".disabled")){var g=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth(),i=this.viewDate.getUTCDate(),j=this.viewDate.getUTCHours(),k=this.viewDate.getUTCMinutes(),l=this.viewDate.getUTCSeconds();if(c.is(".month")?(this.viewDate.setUTCDate(1),h=c.parent().find("span").index(c),i=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(h),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(a(g,h,i,j,k,l,0))):c.is(".year")?(this.viewDate.setUTCDate(1),g=parseInt(c.text(),10)||0,this.viewDate.setUTCFullYear(g),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(a(g,h,i,j,k,l,0))):c.is(".hour")?(j=parseInt(c.text(),10)||0,(c.hasClass("hour_am")||c.hasClass("hour_pm"))&&(12==j&&c.hasClass("hour_am")?j=0:12!=j&&c.hasClass("hour_pm")&&(j+=12)),this.viewDate.setUTCHours(j),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(a(g,h,i,j,k,l,0))):c.is(".minute")&&(k=parseInt(c.text().substr(c.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(k),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(a(g,h,i,j,k,l,0))),0!=this.viewMode){var m=this.viewMode;this.showMode(-1),this.fill(),m==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(c.is(".day")&&!c.is(".disabled")){var i=parseInt(c.text(),10)||1,g=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth(),j=this.viewDate.getUTCHours(),k=this.viewDate.getUTCMinutes(),l=this.viewDate.getUTCSeconds();c.is(".old")?0===h?(h=11,g-=1):h-=1:c.is(".new")&&(11==h?(h=0,g+=1):h+=1),this.viewDate.setUTCFullYear(g),this.viewDate.setUTCMonth(h,i),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(a(g,h,i,j,k,l,0))}var m=this.viewMode;this.showMode(-1),this.fill(),m==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(a,b){b&&"date"!=b||(this.date=a),b&&"view"!=b||(this.viewDate=a),this.fill(),this.setValue();var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&(c.change(),this.autoclose&&(!b||"date"==b)),this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(a,b){if(!b)return a;var c=new Date(a.valueOf());return c.setUTCMinutes(c.getUTCMinutes()+b*this.minuteStep),c},moveHour:function(a,b){if(!b)return a;var c=new Date(a.valueOf());return c.setUTCHours(c.getUTCHours()+b),c},moveDate:function(a,b){if(!b)return a;var c=new Date(a.valueOf());return c.setUTCDate(c.getUTCDate()+b),c},moveMonth:function(a,b){if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),g=e.getUTCMonth(),h=Math.abs(b);if(b=b>0?1:-1,1==h)d=-1==b?function(){return e.getUTCMonth()==g}:function(){return e.getUTCMonth()!=c},c=g+b,e.setUTCMonth(c),(0>c||c>11)&&(c=(c+12)%12);else{for(var i=0;h>i;i++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!=e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.startDate&&a<=this.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))return void(27==a.keyCode&&this.show());var b,c,d,e=!1;switch(a.keyCode){case 27:this.hide(),a.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;b=37==a.keyCode?-1:1,viewMode=this.viewMode,a.ctrlKey?viewMode+=2:a.shiftKey&&(viewMode+=1),4==viewMode?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b)):3==viewMode?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b)):2==viewMode?(c=this.moveDate(this.date,b),d=this.moveDate(this.viewDate,b)):1==viewMode?(c=this.moveHour(this.date,b),d=this.moveHour(this.viewDate,b)):0==viewMode&&(c=this.moveMinute(this.date,b),d=this.moveMinute(this.viewDate,b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;b=38==a.keyCode?-1:1,viewMode=this.viewMode,a.ctrlKey?viewMode+=2:a.shiftKey&&(viewMode+=1),4==viewMode?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b)):3==viewMode?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b)):2==viewMode?(c=this.moveDate(this.date,7*b),d=this.moveDate(this.viewDate,7*b)):1==viewMode?this.showMeridian?(c=this.moveHour(this.date,6*b),d=this.moveHour(this.viewDate,6*b)):(c=this.moveHour(this.date,4*b),d=this.moveHour(this.viewDate,4*b)):0==viewMode&&(c=this.moveMinute(this.date,4*b),d=this.moveMinute(this.viewDate,4*b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 13:if(0!=this.viewMode){var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();a.preventDefault();break;case 9:this.hide()}if(e){var g;this.isInput?g=this.element:this.component&&(g=this.element.find("input")),g&&g.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(a){if(a){var b=Math.max(0,Math.min(d.modes.length-1,this.viewMode+a));b>=this.minView&&b<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:b}),this.viewMode=b)}this.picker.find(">div").hide().filter(".datetimepicker-"+d.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(a){return $(a.target).closest(".date").attr("disabled")?!1:void this._setDate(null,"date")},disable:function(){this.element.attr("disabled",!0),this.component&&this.hasInput&&this.element.find("input").attr("disabled",!0)},enable:function(){this.element.attr("disabled",!1),this.component&&this.hasInput&&this.element.find("input").attr("disabled",!1)}};var c=$.fn.datetimepicker;$.fn.datetimepicker=function(a){var c=Array.apply(null,arguments);c.shift();var d;return this.each(function(){var e=$(this),f=e.data("datetimepicker"),g="object"==typeof a&&a;return f||(e.data("datetimepicker",f=new b(this,$.extend({},$.fn.datetimepicker.defaults,g))),e.on("changeDate.valid",function(){try{e.isValid(),f.hide()}catch(a){}})),"string"==typeof a&&"function"==typeof f[a]&&(d=f[a].apply(f,c),void 0!==d)?!1:void 0}),void 0!==d?d:this},$.fn.datetimepicker.defaults={},$.fn.datetimepicker.Constructor=b;var d={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,d.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},getDefaultFormat:function(a){return"input"==a?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss"},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(a){var b=/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g,c=a.replace(b,"\x00").split("\x00"),d=a.match(b);if(!c||!c.length||!d||0==d.length)throw new Error("Invalid date format.");return{separators:c,parts:d}},parseDate:function(c,d){if(c instanceof Date){var e=new Date(c.valueOf()-6e4*c.getTimezoneOffset());return e.setMilliseconds(0),e}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(c)&&(d=this.parseFormat("yyyy-mm-dd")),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(c)&&(d=this.parseFormat("yyyy-mm-dd hh:ii")),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(c)&&(d=this.parseFormat("yyyy-mm-dd hh:ii:ss")),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(c)){var f,g,h=/([-+]\d+)([dmwy])/,i=c.match(/([-+]\d+)([dmwy])/g);c=new Date;for(var j=0;j<i.length;j++)switch(f=h.exec(i[j]),g=parseInt(f[1]),f[2]){case"d":c.setUTCDate(c.getUTCDate()+g);break;case"m":c=b.prototype.moveMonth.call(b.prototype,c,g);break;case"w":c.setUTCDate(c.getUTCDate()+7*g);break;case"y":c=b.prototype.moveYear.call(b.prototype,c,g)}return a(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),0)}var k,l,f,i=c&&c.match(this.nonpunctuation)||[],c=new Date(0,0,0,0,0,0,0),m=fish.getResource("datetimepicker.months"),n=fish.getResource("datetimepicker.monthsShort"),o=fish.getResource("datetimepicker.meridiem"),p={},q=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],r={hh:function(a,b){return a.setUTCHours(b)},h:function(a,b){return a.setUTCHours(b)},HH:function(a,b){return a.setUTCHours(12==b?0:b)},H:function(a,b){return a.setUTCHours(12==b?0:b)},ii:function(a,b){return a.setUTCMinutes(b)},i:function(a,b){return a.setUTCMinutes(b)},ss:function(a,b){return a.setUTCSeconds(b)},s:function(a,b){return a.setUTCSeconds(b)},yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2e3+b)},m:function(a,b){for(b-=1;0>b;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!=b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)},p:function(a,b){return a.setUTCHours(1==b?a.getUTCHours()+12:a.getUTCHours())}};if(r.M=r.MM=r.mm=r.m,r.dd=r.d,r.P=r.p,c=a(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()),i.length==d.parts.length){for(var j=0,s=d.parts.length;s>j;j++){if(k=parseInt(i[j],10),f=d.parts[j],isNaN(k))switch(f){case"MM":l=$(m).filter(function(){var a=this.slice(0,i[j].length),b=i[j].slice(0,a.length);return a==b}),k=$.inArray(l[0],m)+1;break;case"M":l=$(n).filter(function(){var a=this.slice(0,i[j].length),b=i[j].slice(0,a.length);return a==b}),k=$.inArray(l[0],n)+1;break;case"p":case"P":k=$.inArray(i[j].toLowerCase(),o)}p[f]=k}for(var t,j=0;j<q.length;j++)t=q[j],t in p&&!isNaN(p[t])&&r[t](c,p[t])}return c},formatDate:function(a,b){if(null==a)return"";var c=fish.getResource("datetimepicker.meridiem"),d=fish.getResource("datetimepicker.monthsShort"),e=fish.getResource("datetimepicker.months"),f=fish.getResource("datetimepicker.daysShort"),g=fish.getResource("datetimepicker.days"),h={yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear(),m:a.getUTCMonth()+1,M:d[a.getUTCMonth()],MM:e[a.getUTCMonth()],d:a.getUTCDate(),D:f[a.getUTCDay()],DD:g[a.getUTCDay()],p:2==c.length?c[a.getUTCHours()<12?0:1]:"",h:a.getUTCHours(),i:a.getUTCMinutes(),s:a.getUTCSeconds()};h.H=2==c.length?h.h%12==0?12:h.h%12:h.h,h.HH=(h.H<10?"0":"")+h.H,h.P=h.p.toUpperCase(),h.hh=(h.h<10?"0":"")+h.h,h.ii=(h.i<10?"0":"")+h.i,h.ss=(h.s<10?"0":"")+h.s,h.dd=(h.d<10?"0":"")+h.d,h.mm=(h.m<10?"0":"")+h.m;for(var a=[],i=$.extend([],b.separators),j=0,k=b.parts.length;k>j;j++)i.length&&a.push(i.shift()),a.push(h[b.parts[j]]);return i.length&&a.push(i.shift()),a.join("")},convertViewMode:function(a){switch(a){case 4:case"decade":a=4;break;case 3:case"year":a=3;break;case 2:case"month":a=2;break;case 1:case"day":a=1;break;case 0:case"hour":a=0}return a},headTemplate:'<thead><tr><th class="prev"><i class="glyphicon glyphicon-arrow-left"></i></th><th colspan="5" class="switch"></th><th class="next"><i class="glyphicon glyphicon-arrow-right"></i></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};d.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+d.headTemplate+"<tbody></tbody>"+d.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+"</table></div></div>",$.fn.datetimepicker.DPGlobal=d,$.fn.datetimepicker.noConflict=function(){return $.fn.datetimepicker=c,this}}),!function(a){"function"==typeof define&&define.amd?define("fish.des",a):a()}(function(){function a(a,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=new Array(16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756),w=new Array(-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344),x=new Array(520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584),y=new Array(8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928),z=new Array(256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080),A=new Array(536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312),B=new Array(2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154),C=new Array(268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696),D=b(a),E=0,F=c.length,G=0,H=32==D.length?3:9;
for(o=3==H?d?new Array(0,32,2):new Array(30,-2,-2):d?new Array(0,32,2,62,30,-2,64,96,2):new Array(94,62,-2,32,64,2,30,-2,-2),2==g?c+="        ":1==g?(j=8-F%8,c+=String.fromCharCode(j,j,j,j,j,j,j,j),8==j&&(F+=8)):g||(c+="\x00\x00\x00\x00\x00\x00\x00\x00"),result="",tempresult="",1==e&&(p=f.charCodeAt(E++)<<24|f.charCodeAt(E++)<<16|f.charCodeAt(E++)<<8|f.charCodeAt(E++),r=f.charCodeAt(E++)<<24|f.charCodeAt(E++)<<16|f.charCodeAt(E++)<<8|f.charCodeAt(E++),E=0);F>E;){for(m=c.charCodeAt(E++)<<24|c.charCodeAt(E++)<<16|c.charCodeAt(E++)<<8|c.charCodeAt(E++),n=c.charCodeAt(E++)<<24|c.charCodeAt(E++)<<16|c.charCodeAt(E++)<<8|c.charCodeAt(E++),1==e&&(d?(m^=p,n^=r):(q=p,s=r,p=m,r=n)),j=252645135&(m>>>4^n),n^=j,m^=j<<4,j=65535&(m>>>16^n),n^=j,m^=j<<16,j=858993459&(n>>>2^m),m^=j,n^=j<<2,j=16711935&(n>>>8^m),m^=j,n^=j<<8,j=1431655765&(m>>>1^n),n^=j,m^=j<<1,m=m<<1|m>>>31,n=n<<1|n>>>31,i=0;H>i;i+=3){for(t=o[i+1],u=o[i+2],h=o[i];h!=t;h+=u)k=n^D[h],l=(n>>>4|n<<28)^D[h+1],j=m,m=n,n=j^(w[k>>>24&63]|y[k>>>16&63]|A[k>>>8&63]|C[63&k]|v[l>>>24&63]|x[l>>>16&63]|z[l>>>8&63]|B[63&l]);j=m,m=n,n=j}m=m>>>1|m<<31,n=n>>>1|n<<31,j=1431655765&(m>>>1^n),n^=j,m^=j<<1,j=16711935&(n>>>8^m),m^=j,n^=j<<8,j=858993459&(n>>>2^m),m^=j,n^=j<<2,j=65535&(m>>>16^n),n^=j,m^=j<<16,j=252645135&(m>>>4^n),n^=j,m^=j<<4,1==e&&(d?(p=m,r=n):(m^=q,n^=s)),tempresult+=String.fromCharCode(m>>>24,m>>>16&255,m>>>8&255,255&m,n>>>24,n>>>16&255,n>>>8&255,255&n),G+=8,512==G&&(result+=tempresult,tempresult="",G=0)}return result+tempresult}function b(a){pc2bytes0=new Array(0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964),pc2bytes1=new Array(0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697),pc2bytes2=new Array(0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272),pc2bytes3=new Array(0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144),pc2bytes4=new Array(0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256),pc2bytes5=new Array(0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488),pc2bytes6=new Array(0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746),pc2bytes7=new Array(0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568),pc2bytes8=new Array(0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578),pc2bytes9=new Array(0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488),pc2bytes10=new Array(0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800),pc2bytes11=new Array(0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744),pc2bytes12=new Array(0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128),pc2bytes13=new Array(0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261);for(var b,c,d,e=a.length>8?3:1,f=new Array(32*e),g=new Array(0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0),h=0,i=0,j=0;e>j;j++){left=a.charCodeAt(h++)<<24|a.charCodeAt(h++)<<16|a.charCodeAt(h++)<<8|a.charCodeAt(h++),right=a.charCodeAt(h++)<<24|a.charCodeAt(h++)<<16|a.charCodeAt(h++)<<8|a.charCodeAt(h++),d=252645135&(left>>>4^right),right^=d,left^=d<<4,d=65535&(right>>>-16^left),left^=d,right^=d<<-16,d=858993459&(left>>>2^right),right^=d,left^=d<<2,d=65535&(right>>>-16^left),left^=d,right^=d<<-16,d=1431655765&(left>>>1^right),right^=d,left^=d<<1,d=16711935&(right>>>8^left),left^=d,right^=d<<8,d=1431655765&(left>>>1^right),right^=d,left^=d<<1,d=left<<8|right>>>20&240,left=right<<24|right<<8&16711680|right>>>8&65280|right>>>24&240,right=d;for(var k=0;k<g.length;k++)g[k]?(left=left<<2|left>>>26,right=right<<2|right>>>26):(left=left<<1|left>>>27,right=right<<1|right>>>27),left&=-15,right&=-15,b=pc2bytes0[left>>>28]|pc2bytes1[left>>>24&15]|pc2bytes2[left>>>20&15]|pc2bytes3[left>>>16&15]|pc2bytes4[left>>>12&15]|pc2bytes5[left>>>8&15]|pc2bytes6[left>>>4&15],c=pc2bytes7[right>>>28]|pc2bytes8[right>>>24&15]|pc2bytes9[right>>>20&15]|pc2bytes10[right>>>16&15]|pc2bytes11[right>>>12&15]|pc2bytes12[right>>>8&15]|pc2bytes13[right>>>4&15],d=65535&(c>>>16^b),f[i++]=b^d,f[i++]=c^d<<16}return f}fish.DES={des:a,encrypt:function(a,b){return this.des(a,b,!0,0)},decrypt:function(a,b){return this.des(a,b,!1,0)},stringToHex:function(a){for(var b="0x",c=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),d=0;d<a.length;d++)b+=c[a.charCodeAt(d)>>4]+c[15&a.charCodeAt(d)];return b},hexToString:function(a){for(var b="",c="0x"==a.substr(0,2)?2:0;c<a.length;c+=2)b+=String.fromCharCode(parseInt(a.substr(c,2),16));return b}}}),!function(a){"function"==typeof define&&define.amd?define("fish.dialog",a):a()}(function(){var a={height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},b={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};$.widget("ui.dialog",{options:{autoOpen:!0,closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=$(this).css(a).offset().top;0>b&&$(this).css("top",a.top-b)}},resizable:!1,show:null,stack:!0,title:"",width:300,zIndex:1e3,backdrop:!1,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){var a=this.element.find(".modal-header");a.length>0&&(this.originalTitle=a.html(),a.remove()),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var b,c,d,e,f=this,g=this.options,h=g.title||"&#160;";b=(this.uiDialog=$("<div>")).addClass("ui-dialog"+g.dialogClass).css({display:"none",outline:0,zIndex:g.zIndex}).attr("tabIndex",-1).keydown(function(a){g.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===$.ui.keyCode.ESCAPE&&(f.close(a),a.preventDefault())}).mousedown(function(a){f.moveToTop(!1,a)}).appendTo("body"),this.element.show().removeAttr("title").removeClass("modal").addClass("ui-dialog-content").appendTo(b),this.element.find(".modal-footer").addClass("ui-helper-clearfix").appendTo(b),c=(this.uiDialogTitlebar=$("<div>")).addClass("ui-dialog-titlebar ui-helper-clearfix ").bind("mousedown",function(){b.focus()}).prependTo(b),d=$("<button type='button' ></button>").addClass("ui-dialog-titlebar-close close").attr("role","button").click(function(a){a.preventDefault(),f.close(a)}).appendTo(c),(this.uiDialogTitlebarCloseText=$('<span aria-hidden="true"></span>')).append('<span class="sr-only">Close</span>').attr("title",g.closeText).appendTo(d),e=$("<span>").uniqueId().addClass("ui-dialog-title").html(h).prependTo(c),b.attr({role:"dialog","aria-labelledby":e.attr("id")}),c.find("*").add(c).disableSelection(),this._hoverable(d),this._focusable(d),g.draggable&&$.fn.draggable&&this._makeDraggable(),g.resizable&&$.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._on(b,{keydown:function(a){if(g.modal&&a.keyCode===$.ui.keyCode.TAB){var c=$(":tabbable",b),d=c.filter(":first"),e=c.filter(":last");return a.target!==e[0]||a.shiftKey?a.target===d[0]&&a.shiftKey?(e.focus(1),!1):void 0:(d.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var a,b=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(a){var b,c,d=this;if(this._isOpen&&!1!==this._trigger("beforeClose",a))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",a)}):(this.uiDialog.hide(),this._trigger("close",a)),$.ui.dialog.overlay.resize(),this.options.modal&&(b=0,$(".ui-dialog").each(function(){this!==d.uiDialog[0]&&(c=$(this).css("z-index"),isNaN(c)||(b=Math.max(b,c)))}),$.ui.dialog.maxZ=b),this},isOpen:function(){return this._isOpen},moveToTop:function(a,b){var c,d=this.options;return d.modal&&!a||!d.stack&&!d.modal?this._trigger("focus",b):(d.zIndex>$.ui.dialog.maxZ&&($.ui.dialog.maxZ=d.zIndex),this.overlay&&($.ui.dialog.maxZ+=1,$.ui.dialog.overlay.maxZ=$.ui.dialog.maxZ,this.overlay.$el.css("z-index",$.ui.dialog.overlay.maxZ)),c={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},$.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",$.ui.dialog.maxZ),this.element.attr(c),this._trigger("focus",b),this)},open:function(){if(!this._isOpen){var a,b=this.options,c=this.uiDialog;return this._size(),this._position(b.position),c.show(b.show),this.overlay=b.modal?new $.ui.dialog.overlay(this):null,this.moveToTop(!0),a=this.element.find(":tabbable"),a.length||(a=c),a.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}var b=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,d){$(this).addClass("ui-dialog-dragging"),b._trigger("dragStart",c,a(d))},drag:function(c,d){b._trigger("drag",c,a(d))},stop:function(d,e){c.position=[e.position.left-b.document.scrollLeft(),e.position.top-b.document.scrollTop()],$(this).removeClass("ui-dialog-dragging"),b._trigger("dragStop",d,a(e)),$.ui.dialog.overlay.resize()}})},_makeResizable:function(a){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}a=void 0===a?this.options.resizable:a;var c=this,d=this.options,e=this.uiDialog.css("position"),f="string"==typeof a?a:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:f,start:function(a,d){$(this).addClass("ui-dialog-resizing"),c._trigger("resizeStart",a,b(d))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(a,e){$(this).removeClass("ui-dialog-resizing"),d.height=$(this).height()+4,d.width=$(this).width(),c._trigger("resizeStop",a,b(e)),$.ui.dialog.overlay.resize(),c._size()}}).css("position",e).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(a){var b,c=[],d=[0,0];a?(("string"==typeof a||"object"==typeof a&&"0"in a)&&(c=a.split?a.split(" "):[a[0],a[1]],1===c.length&&(c[1]=c[0]),$.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),a={my:c[0]+(d[0]<0?d[0]:"+"+d[0])+" "+c[1]+(d[1]<0?d[1]:"+"+d[1]),at:c.join(" ")}),a=$.extend({},$.ui.dialog.prototype.options.position,a)):a=$.ui.dialog.prototype.options.position,b=this.uiDialog.is(":visible"),b||this.uiDialog.show(),this.uiDialog.position(a),b||this.uiDialog.hide()},_setOptions:function(c){var d=this,e={},f=!1;$.each(c,function(c,g){d._setOption(c,g),c in a&&(f=!0),c in b&&(e[c]=g)}),f&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,b){var c,d,e=this.uiDialog;switch(a){case"closeText":this.uiDialogTitlebarCloseText.text(""+b);break;case"disabled":b?e.addClass("ui-dialog-disabled"):e.removeClass("ui-dialog-disabled");break;case"draggable":c=e.is(":data(draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable();break;case"position":this._position(b);break;case"resizable":d=e.is(":data(resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable(b);break;case"title":$(".ui-dialog-title",this.uiDialogTitlebar).html(""+(b||"&#160;"))}this._super(a,b)},_size:function(){var a,b,c,d=this.options,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),"auto"===d.height?$.support.minHeight?this.element.css({minHeight:b,height:"auto"}):(this.uiDialog.show(),c=this.element.css("height","auto").height(),e||this.uiDialog.hide(),this.element.height(Math.max(c,b))):this.element.height(Math.max(d.height-a,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),$.extend($.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(a){this.$el=$.ui.dialog.overlay.create(a)}}),$.extend($.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:$.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(a){0===this.instances.length&&(setTimeout(function(){$.ui.dialog.overlay.instances.length&&$(document).bind($.ui.dialog.overlay.events,function(b){if($(b.target).zIndex()<$.ui.dialog.overlay.maxZ)return!1;if(a.options.backdrop&&"mousedown"===event.type){b=b||window.event;var c=b.target||b.srcElement;$(c).closest(".ui-dialog")[0]!==a.uiDialog[0]&&a.close()}})},1),$(window).bind("resize.dialog-overlay",$.ui.dialog.overlay.resize));var b=this.oldInstances.pop()||$("<div>").addClass("ui-widget-overlay");return $(document).bind("keydown.dialog-overlay",function(c){var d=$.ui.dialog.overlay.instances;0!==d.length&&d[d.length-1]===b&&a.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===$.ui.keyCode.ESCAPE&&(a.close(c),c.preventDefault())}),b.appendTo(document.body).css({width:this.width(),height:this.height()}),$.fn.bgiframe&&b.bgiframe(),this.instances.push(b),b},destroy:function(a){var b=$.inArray(a,this.instances),c=0;-1!==b&&this.oldInstances.push(this.instances.splice(b,1)[0]),0===this.instances.length&&$([document,window]).unbind(".dialog-overlay"),a.height(0).width(0).remove(),$.each(this.instances,function(){c=Math.max(c,this.css("z-index"))}),this.maxZ=c},height:function(){var a,b;return $.ui.ie?(a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),b=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b>a?$(window).height()+"px":a+"px"):$(document).height()+"px"},width:function(){var a,b;return $.ui.ie?(a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),b=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b>a?$(window).width()+"px":a+"px"):$(document).width()+"px"},resize:function(){var a=$([]);$.each($.ui.dialog.overlay.instances,function(){a=a.add(this)}),a.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()})}}),$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el)}})}),!function(a){"function"==typeof define&&define.amd?define("fish.dropdown",a):a()}(function(){"use strict";var a=$();$.fn.dropdown=function(b){return"ontouchstart"in document?this:(a=a.add(this.parent()),this.each(function(){function c(){a.find(":focus").blur(),k.instantlyCloseOthers===!0&&a.removeClass("open"),window.clearTimeout(d),f.addClass("open"),e.trigger(i)}var d,e=$(this),f=e.parent(),g={delay:500,instantlyCloseOthers:!0},h={delay:$(this).data("delay"),instantlyCloseOthers:$(this).data("close-others")},i="show",j="hide",k=$.extend(!0,{},g,b,h);f.hover(function(a){return f.hasClass("open")||e.is(a.target)?void c(a):!0},function(){d=window.setTimeout(function(){f.removeClass("open"),e.trigger(j)},k.delay)}),e.hover(function(a){return f.hasClass("open")||f.is(a.target)?void c(a):!0}),f.find(".dropdown-submenu").each(function(){var a,b=$(this);b.hover(function(){window.clearTimeout(a),b.children(".dropdown-menu").show(),b.siblings().children(".dropdown-menu").hide()},function(){var c=b.children(".dropdown-menu");a=window.setTimeout(function(){c.hide()},k.delay)})})}))}}),!function(a){"function"==typeof define&&define.amd?define("fish.form",["fish.loadUI"],a):a()}(function(){"use strict";function a(a){var b=a.data;a.isDefaultPrevented()||(a.preventDefault(),$(a.target).ajaxSubmit(b))}function b(a){var b=a.target,c=$(b);if(!c.is("[type=submit],[type=image]")){var d=c.closest("[type=submit]");if(0===d.length)return;b=d[0]}var e=this;if(e.clk=b,"image"==b.type)if(void 0!==a.offsetX)e.clk_x=a.offsetX,e.clk_y=a.offsetY;else if("function"==typeof $.fn.offset){var f=c.offset();e.clk_x=a.pageX-f.left,e.clk_y=a.pageY-f.top}else e.clk_x=a.pageX-b.offsetLeft,e.clk_y=a.pageY-b.offsetTop;setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)}var c={};c.fileapi=void 0!==$("<input type='file'/>").get(0).files,c.formdata=void 0!==window.FormData;var d=!!$.fn.prop;$.fn.ajaxSubmit=function(a){if(!this.length)return this;var b,c,d,e=this;"function"==typeof a?a={success:a}:void 0===a&&(a={}),b=a.type||this.attr2("method"),c=a.url||this.attr2("action"),d="string"==typeof c?$.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),a=$.extend(!0,{url:d,success:$.ajaxSettings.success,type:b||$.ajaxSettings.type,dataType:"json"},a);var f={};if(this.trigger("form-pre-serialize",[this,a,f]),f.veto)return this;if(a.beforeSerialize&&a.beforeSerialize(this,a)===!1)return this;var g=a.traditional;void 0===g&&(g=$.ajaxSettings.traditional);var h,i=[],j=this.formToArray(a.semantic,i);if(a.data&&(a.extraData=a.data,h=$.param(a.data,g)),a.beforeSubmit&&a.beforeSubmit(j,this,a)===!1)return this;if(this.trigger("form-submit-validate",[j,this,a,f]),f.veto)return this;var k=$.param(j,g);h&&(k=k?k+"&"+h:h),"GET"==a.type.toUpperCase()?(a.url+=(a.url.indexOf("?")>=0?"&":"?")+k,a.data=null):a.data=k;var l=[];if(a.resetForm&&l.push(function(){e.resetForm()}),a.clearForm&&l.push(function(){e.clearForm(a.includeHidden)}),a.success&&l.push(a.success),a.success=function(b,c,d){for(var f=a.context||this,g=0,h=l.length;h>g;g++)l[g].apply(f,[b,c,d||e,e])},a.error){var m=a.error;a.error=function(b,c,d){var f=a.context||this;m.apply(f,[b,c,d,e])}}if(a.complete){var n=a.complete;a.complete=function(b,c){var d=a.context||this;n.apply(d,[b,c,e])}}var o=$.ajax(a);e.removeData("jqxhr").data("jqxhr",o);for(var p=0;p<i.length;p++)i[p]=null;return this.trigger("form-submit-notify",[this,a]),this},$.fn.formToArray=function(a,b){var d=[];if(0===this.length)return d;var e,f=this[0],g=this.attr("id"),h=a?f.getElementsByTagName("*"):f.elements;if(h&&!/MSIE [678]/.test(navigator.userAgent)&&(h=$(h).get()),g&&(e=$(':input[form="'+g+'"]').get(),e.length&&(h=(h||[]).concat(e))),!h||!h.length)return d;var i,j,k,l,m,n,o;for(i=0,n=h.length;n>i;i++)if(m=h[i],k=m.name)if(a&&f.clk&&"image"==m.type)f.clk==m&&(d.push({name:k,value:$(m).val(),type:m.type}),d.push({name:k+".x",value:f.clk_x},{name:k+".y",value:f.clk_y}));else if(l=$.fieldValue(m,!0),l&&l.constructor==Array)for(b&&b.push(m),j=0,o=l.length;o>j;j++)d.push({name:k,value:l[j]});else if(c.fileapi&&"file"==m.type){b&&b.push(m);var p=m.files;if(p.length)for(j=0;j<p.length;j++)d.push({name:k,value:p[j],type:m.type});else d.push({name:k,value:"",type:m.type})}else null!==l&&"undefined"!=typeof l&&(b&&b.push(m),d.push({name:k,value:l,type:m.type,required:m.required}));if(!a&&f.clk){var q=$(f.clk),r=q[0];k=r.name,k&&!r.disabled&&"image"==r.type&&(d.push({name:k,value:q.val()}),d.push({name:k+".x",value:f.clk_x},{name:k+".y",value:f.clk_y}))}return d},$.fn.formSerialize=function(a){return $.param(this.formToArray(a))},$.fn.fieldSerialize=function(a){var b=[];return this.each(function(){var c=this.name;if(c){var d=$.fieldValue(this,a);if(d&&d.constructor==Array)for(var e=0,f=d.length;f>e;e++)b.push({name:c,value:d[e]});else null!==d&&"undefined"!=typeof d&&b.push({name:this.name,value:d})}}),$.param(b)},$.fn.fieldValue=function(a){for(var b=[],c=0,d=this.length;d>c;c++){var e=this[c],f=$.fieldValue(e,a);null===f||"undefined"==typeof f||f.constructor==Array&&!f.length||(f.constructor==Array?$.merge(b,f):b.push(f))}return b},$.fieldValue=function(a,b){var c=a.name,d=a.type,e=a.tagName.toLowerCase();if(void 0===b&&(b=!0),b&&(!c||a.disabled||"reset"==d||"button"==d||("checkbox"==d||"radio"==d)&&!a.checked||("submit"==d||"image"==d)&&a.form&&a.form.clk!=a||"select"==e&&-1==a.selectedIndex))return null;if("select"==e){var f=a.selectedIndex;if(0>f)return null;for(var g=[],h=a.options,i="select-one"==d,j=i?f+1:h.length,k=i?f:0;j>k;k++){var l=h[k];if(l.selected){var m=l.value;if(m||(m=l.attributes&&l.attributes.value&&!l.attributes.value.specified?l.text:l.value),i)return m;g.push(m)}}return g}return $(a).val()},$.fn.clearFields=$.fn.clearInputs=function(a){var b=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=this.type,d=this.tagName.toLowerCase();return this.name?void(b.test(c)||"textarea"==d?this.value="":"checkbox"==c||"radio"==c?this.checked=!1:"select"==d?this.selectedIndex=-1:"file"==c?/MSIE/.test(navigator.userAgent)?$(this).replaceWith($(this).clone(!0)):$(this).val(""):a&&(a===!0&&/hidden/.test(c)||"string"==typeof a&&$(this).is(a))&&(this.value="")):!0})},$.fn.selected=function(a){return void 0===a&&(a=!0),this.each(function(){var b=this.type;if("checkbox"==b||"radio"==b)this.checked=a;else if("option"==this.tagName.toLowerCase()){var c=$(this).parent("select");a&&c[0]&&"select-one"==c[0].type&&c.find("option").selected(!1),this.selected=a}})};var e=function(c,d){if(this.options=d=$.extend({},$.fn.ajaxForm.defaults,d),this.$element=$(c),d.delegation=d.delegation&&$.isFunction($.fn.on),d.type=d.type||this.$element.attr2("method"),d.url=d.url||this.$element.attr2("action"),d.beforeSubmit=function(a,b,c){return c.showMask&&$.blockUI(),c.showMask},d.complete=function(){d.showMask&&$.unblockUI()},!d.delegation&&0===this.length){var e={s:this.selector,c:this.context};return!$.isReady&&e.s?($(function(){$(e.s,e.c).form(d)}),this):this}return d.delegation?($(document).off("submit.fish-form",this.selector,a).off("click.fish-form",this.selector,b).on("submit.fish-form",this.selector,d,a).on("click.fish-form",this.selector,d,b),this):(this.unbindEvent(),this.$element.bind("submit.fish-form",d,a).bind("click.fish-form",d,b),this)};e.prototype={constructor:e,init:function(){return this},value:function(a){if("undefined"===$.type(a))return this.$element.formSerialize();if("object"===$.type(a))for(var b in a)try{this.$element.find("[name="+b+"]").val(a[b])}catch(c){}},enable:function(a){function b(a){for(var b=0,d=c.length;d>b;b++)if(a===c[b])return!0;return!1}var c=a&&a.match(/\S+/g)||[],d=this.$element.data("fields");if(d)for(var e in d){var f=d[e];!b(e)&&f&&f.instance&&f.widgetName&&f.instance[f.widgetName]("enable")}return this.$element.find("input:disabled, select:disabled, textarea:disabled").each(function(){var a=$(this);return b(a.attr("name"))?!0:void(a.hasClass("ui-widget-create")||a.attr("disabled",!1))}),this.$element.trigger("enable"),this},disable:function(a){function b(a){for(var b=0,d=c.length;d>b;b++)if(a===c[b])return!0;return!1}var c=a&&a.match(/\S+/g)||[],d=this.$element.data("fields");if(d)for(var e in d){var f=d[e];!b(e)&&f&&f.instance&&f.widgetName&&f.instance[f.widgetName]("disable")}return this.$element.find("input:enabled, select:enabled, textarea:enabled").each(function(){var a=$(this);return b(a.attr("name"))||a.is(":hidden")?!0:void(a.hasClass("ui-widget-create")||a.attr("disabled",!0))}),this.$element.trigger("disable"),this},destroy:function(){this.$element.removeData("fish-form"),this.unbindEvent(),this.$element.trigger("destroy")},clear:function(a){return this.$element.each(function(){$("input,select,textarea",this).clearFields(a)}),this.$element.trigger("formclear"),this},reset:function(){var a=this.$element;return a.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}),this},serialize:function(){return this.$element.formSerialize()},toArray:function(){return this.$element.formToArray()},unbindEvent:function(){this.$element.unbind("submit.fish-form click.fish-form")}},$.fn.attr2=function(){if(!d)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)},$.fn.ajaxForm=function(a){var b=this,c=$(arguments).slice(1);return this.each(function(){var d=$(this),f=d.data("fish-form"),g="object"==typeof a&&a;f||d.data("fish-form",f=new e(this,g)),"string"==typeof a&&(b=f[a].apply(f,c))}),b},$.fn.ajaxForm.defaults={showMask:!0},$.fn.ajaxForm.Constructor=e}),!function(a){"function"==typeof define&&define.amd?define("fish.grid",a):a()}(function(){var tpl='<div class="ui-jqgrid" id="gbox_{{id}}"><div class="loading" id="load_{{id}}">{{loadtext}}</div><div class="ui-jqgrid-view" id="gview_{{id}}">{{#if caption}}<div class="ui-jqgrid-titlebar ui-helper-clearfix">{{#if hidegrid}}<a role="link" class="ui-jqgrid-titlebar-close HeaderButton"><span class="ui-icon ui-icon-circle-triangle-n"></span></a>{{/if}}<span class="ui-jqgrid-title">{{caption}}</span></div>{{/if}}{{#if topbar}}<div class="ui-userdata ui-userdata-t" id="t_{{id}}"></div>{{/if}}<div class="ui-jqgrid-hdiv"><div class="ui-jqgrid-hbox"><table class="ui-jqgrid-htable" role="grid" aria-labelledby="gbox_{{id}}" cellspacing="0" cellpadding="0" border="0"><thead><tr class="ui-jqgrid-labels" role="rowheader">{{#colModel}}<th id="{{../id}}_{{name}}" role="columnheader" class="ui-state-default ui-th-column" title="{{headertitle}}">{{#if resizable}}<span class="ui-jqgrid-resize" style="cursor: col-resize;">&nbsp;</span>{{/if}}<div id="jqgh_{{../id}}_{{name}}" class="{{#if ../isMSIE}}ui-th-div-ie{{/if}}">{{#if cb}}<input role="checkbox" id="cb_{{../../id}}" class="cbox" type="checkbox">{{else}}{{label}}{{/if}}<span class="s-ico" style="display:none"><span sort="asc" class="ui-grid-ico-sort ui-icon-asc ui-state-disabled ui-icon ui-icon-triangle-1-n"></span><span sort="desc" class="ui-grid-ico-sort ui-icon-desc ui-state-disabled ui-icon ui-icon-triangle-1-s"></span></span></div></th>{{/colModel}}</tr></thead></table></div></div><div class="ui-jqgrid-bdiv" style="height: {{height}}px;"><div style="position:relative;"><div></div><table id="{{id}}" tabindex="0" cellspacing="0" cellpadding="0" border="0" role="grid" aria-multiselectable="{{multiselect}}" aria-labelledby="gbox_{{id}}" class="ui-jqgrid-btable"><tbody><tr class="jqgfirstrow" role="row" style="height:auto">{{#colModel}}<td role="gridcell" style="height:0.01px;"></td>{{/colModel}}</tr></tbody></table></div></div>{{#if footerrow}}<div class="ui-jqgrid-sdiv"><div class="ui-jqgrid-hbox"><table role="grid" class="ui-jqgrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody><tr role="row" class="footrow"></tr></tbody></table></div></div>{{/if}}{{#if bottombar}}<div class="ui-userdata ui-userdata-tb" id="tb_{{id}}"></div>{{/if}}</div><div class="ui-jqgrid-resize-mark" id="rs_m{{id}}">&nbsp;</div>{{#if pager}}<div id="{{id}}_pager" class="ui-jqgrid-pager"><div id="pg_{{id}}_pager" class="ui-pager-control" role="group"><table cellspacing="0" cellpadding="0" border="0" class="ui-pg-table" style="width:100%;table-layout:fixed;height:100%;" role="row"><tbody><tr><td id="{{id}}_pager_left" align="left"></td><td id="{{id}}_pager_center" align="center" style="white-space: pre;"><table cellspacing="0" cellpadding="0" border="0" style="table-layout:auto;" class="ui-pg-table"><tbody><tr><td id="first_{{id}}_pager" class="ui-pg-button" style="cursor: default;"><span class="ui-icon ui-icon-seek-first"></span></td><td id="prev_{{id}}_pager" class="ui-pg-button" style="cursor: default;"><span class="ui-icon ui-icon-seek-prev"></span></td><td class="ui-separator"><input class="ui-pg-input" type="text" size="2" maxlength="7" value="0" role="textbox"></td><td id="next_{{id}}_pager" class="ui-pg-button"><span class="ui-icon ui-icon-seek-next"></span></td><td id="last_{{id}}_pager" class="ui-pg-button"><span class="ui-icon ui-icon-seek-end"></span></td></tr></tbody></table></td><td id="{{id}}_pager_right" align="right">{{#if viewrecords}}<div style="text-align:{{recordpos}}" class="ui-paging-info"></div>{{/if}}</td></tr></tbody></table></div></div>{{/if}}</div>';$.jgrid=$.jgrid||{},$.extend($.jgrid,{htmlDecode:function(a){return a&&("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))?"":a?String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):a},htmlEncode:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},format:function(a){var b=$.makeArray(arguments).slice(1);return null==a&&(a=""),a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var a=-1,b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return null!=c.exec(b)&&(a=parseFloat(RegExp.$1)),a},getCellIndex:function(a){var b=$(a);return b.is("tr")?-1:(b=(b.is("td")||b.is("th")?b:b.closest("td,th"))[0],$.jgrid.msie?$.inArray(b,b.parentNode.cells):b.cellIndex)},stripHtml:function(a){a=String(a);var b=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return a?(a=a.replace(b,""),a&&"&nbsp;"!==a&&"&#160;"!==a?a.replace(/\"/g,"'"):""):a},stripPref:function(a,b){var c=$.type(a);return("string"===c||"number"===c)&&(a=String(a),b=""!==a?String(b).replace(String(a),""):b),b},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),$.jgrid.useJSON===!0&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(a,b,c,d){var e,f,g,h=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,j=/[^-+\dA-Z]/g,k=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),l="string"==typeof b?b.match(k):null,m=function(a,b){for(a=String(a),b=parseInt(b,10)||2;a.length<b;)a="0"+a;return a},n={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},o=0,p=function(a,b){return 0===a?12===b&&(b=0):12!==b&&(b+=12),b};if(void 0===d&&(d=$.jgrid.formatter.date),void 0===d.parseRe&&(d.parseRe=/[Tt\\\/:_;.,\t\s-]/),d.masks.hasOwnProperty(a)&&(a=d.masks[a]),b&&null!=b)if(isNaN(b-0)||"u"!==String(a).toLowerCase())if(b.constructor===Date)o=b;else if(null!==l){if(o=new Date(parseInt(l[1],10)),l[3]){var q=60*Number(l[5])+Number(l[6]);q*="-"===l[4]?1:-1,q-=o.getTimezoneOffset(),o.setTime(Number(Number(o)+60*q*1e3))}}else{for(b=String(b).replace(/\\T/g,"T").replace(/\\t/,"t").split(d.parseRe),a=a.replace(/\\T/g,"T").replace(/\\t/,"t").split(d.parseRe),f=0,g=a.length;g>f;f++)"M"===a[f]&&(e=$.inArray(b[f],d.monthNames),-1!==e&&12>e&&(b[f]=e+1,n.m=b[f])),"F"===a[f]&&(e=$.inArray(b[f],d.monthNames,12),-1!==e&&e>11&&(b[f]=e+1-12,n.m=b[f])),"a"===a[f]&&(e=$.inArray(b[f],d.AmPm),-1!==e&&2>e&&b[f]===d.AmPm[e]&&(b[f]=e,n.h=p(b[f],n.h))),"A"===a[f]&&(e=$.inArray(b[f],d.AmPm),-1!==e&&e>1&&b[f]===d.AmPm[e]&&(b[f]=e-2,n.h=p(b[f],n.h))),"g"===a[f]&&(n.h=parseInt(b[f],10)),void 0!==b[f]&&(n[a[f].toLowerCase()]=parseInt(b[f],10));if(n.f&&(n.m=n.f),0===n.m&&0===n.y&&0===n.d)return"&#160;";n.m=parseInt(n.m,10)-1;var r=n.y;r>=70&&99>=r?n.y=1900+n.y:r>=0&&69>=r&&(n.y=2e3+n.y),o=new Date(n.y,n.m,n.d,n.h,n.i,n.s,n.u)
}else o=new Date(1e3*parseFloat(b));else o=new Date(n.y,n.m,n.d,n.h,n.i,n.s,n.u);if(void 0===c)return o;d.masks.hasOwnProperty(c)?c=d.masks[c]:c||(c="Y-m-d");var s=o.getHours(),t=o.getMinutes(),u=o.getDate(),v=o.getMonth()+1,w=o.getTimezoneOffset(),x=o.getSeconds(),y=o.getMilliseconds(),z=o.getDay(),A=o.getFullYear(),B=(z+6)%7+1,C=(new Date(A,v-1,u)-new Date(A,0,1))/864e5,D={d:m(u),D:d.dayNames[z],j:u,l:d.dayNames[z+7],N:B,S:d.S(u),w:z,z:C,W:5>B?Math.floor((C+B-1)/7)+1:Math.floor((C+B-1)/7)||((new Date(A-1,0,1).getDay()+6)%7<4?53:52),F:d.monthNames[v-1+12],m:m(v),M:d.monthNames[v-1],n:v,t:"?",L:"?",o:"?",Y:A,y:String(A).substring(2),a:12>s?d.AmPm[0]:d.AmPm[1],A:12>s?d.AmPm[2]:d.AmPm[3],B:"?",g:s%12||12,G:s,h:m(s%12||12),H:m(s),i:m(t),s:m(x),u:y,e:"?",I:"?",O:(w>0?"-":"+")+m(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),P:"?",T:(String(o).match(i)||[""]).pop().replace(j,""),Z:"?",c:"?",r:"?",U:Math.floor(o/1e3)};return c.replace(h,function(a){return D.hasOwnProperty(a)?D[a]:a.substring(1)})},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(a){return(a||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(a,b){var c,d,e,f=[];if("function"==typeof b)return b(a);if(c=a[b],void 0===c)try{if("string"==typeof b&&(f=b.split(".")),e=f.length)for(c=a;c&&e--;)d=f.shift(),c=c[d]}catch(g){}return c},cellWidth:function(){var a=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),b=a.appendTo("body").find("td").width();return a.remove(),Math.abs(b-5)>.1},cell_width:!0,ajaxOptions:{},from:function(source){var QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"!=typeof d[0]?!1:!0),this._hasData=function(){return null===_data?!1:0===_data.length?!1:!0},this._getStr=function(a){var b=[];return _trim&&b.push("jQuery.trim("),b.push("String("+a+")"),_trim&&b.push(")"),_usecase||b.push(".toLowerCase()"),b.join("")},this._strComp=function(a){return"string"==typeof a?".toString()":""},this._group=function(a,b){return{field:a.toString(),unique:b,items:[]}},this._toStr=function(a){return _trim&&(a=$.trim(a)),a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?a:a.toLowerCase()},this._funcLoop=function(a){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b},this._append=function(a){var b;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,b=0;_orDepth>b;b++)_query+="(";_negate&&(_query+="!"),_query+="("+a+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(a,b){_lastCommand=a,_lastField=b},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(a,b){return null===_lastCommand?self:null!==a&&null!==b?_lastCommand(a,b):null===_lastField?_lastCommand(a):_useProperties?_lastCommand(_lastField,a):_lastCommand(a)},this._equals=function(a,b){return 0===self._compare(a,b,1)},this._compare=function(a,b,c){var d=Object.prototype.toString;return void 0===c&&(c=1),void 0===a&&(a=null),void 0===b&&(b=null),null===a&&null===b?0:null===a&&null!==b?1:null!==a&&null===b?-1:"[object Date]"===d.call(a)&&"[object Date]"===d.call(b)?b>a?-c:a>b?c:0:(_usecase||"number"==typeof a||"number"==typeof b||(a=String(a),b=String(b)),b>a?-c:a>b?c:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(a,b){var c=_sorting[b].by,d=_sorting[b].dir,e=_sorting[b].type,f=_sorting[b].datefmt;if(b===_sorting.length-1)return self._getOrder(a,c,d,e,f);b++;var g,h,i,j=self._getGroup(a,c,d,e,f),k=[];for(g=0;g<j.length;g++)for(i=self._doSort(j[g].items,b),h=0;h<i.length;h++)k.push(i[h]);return k},this._getOrder=function(a,b,c,d,e){var f,g,h,i,j=[],k=[],l="a"===c?1:-1;void 0===d&&(d="text"),i="float"===d||"number"===d||"currency"===d||"numeric"===d?function(a){var b=parseFloat(String(a).replace(_stripNum,""));return isNaN(b)?0:b}:"int"===d||"integer"===d?function(a){return a?parseFloat(String(a).replace(_stripNum,"")):0}:"date"===d||"datetime"===d?function(a){return $.jgrid.parseDate(e,a).getTime()}:$.isFunction(d)?d:function(a){return a=a?$.trim(String(a)):"",_usecase?a:a.toLowerCase()},$.each(a,function(a,c){g=""!==b?$.jgrid.getAccessor(c,b):c,void 0===g&&(g=""),g=i(g,c),k.push({vSort:g,index:a})}),k.sort(function(a,b){return a=a.vSort,b=b.vSort,self._compare(a,b,l)}),h=0;for(var m=a.length;m>h;)f=k[h].index,j.push(a[f]),h++;return j},this._getGroup=function(a,b,c,d,e){var f,g=[],h=null,i=null;return $.each(self._getOrder(a,b,c,d,e),function(a,c){f=$.jgrid.getAccessor(c,b),null==f&&(f=""),self._equals(i,f)||(i=f,null!==h&&g.push(h),h=self._group(b,f)),h.items.push(c)}),null!==h&&g.push(h),g},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(a){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(a)){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b}return _data},this.hasMatch=function(){return self._hasData()?(self.execute(),_data.length>0):!1},this.andNot=function(a,b,c){return _negate=!_negate,self.and(a,b,c)},this.orNot=function(a,b,c){return _negate=!_negate,self.or(a,b,c)},this.not=function(a,b,c){return self.andNot(a,b,c)},this.and=function(a,b,c){return _queuedOperator=" && ",void 0===a?self:self._repeatCommand(a,b,c)},this.or=function(a,b,c){return _queuedOperator=" || ",void 0===a?self:self._repeatCommand(a,b,c)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(a){return _negate=!_negate,self.is(a)},this.is=function(a){return self._append("this."+a),self._resetNegate(),self},this._compareValues=function(a,b,c,d,e){var f;f=_useProperties?"jQuery.jgrid.getAccessor(this,'"+b+"')":"this",void 0===c&&(c=null);var g=c,h=void 0===e.stype?"text":e.stype;if(null!==c)switch(h){case"int":case"integer":g=isNaN(Number(g))||""===g?"0":g,f="parseInt("+f+",10)",g="parseInt("+g+",10)";break;case"float":case"number":case"numeric":g=String(g).replace(_stripNum,""),g=isNaN(Number(g))||""===g?"0":g,f="parseFloat("+f+")",g="parseFloat("+g+")";break;case"date":case"datetime":g=String($.jgrid.parseDate(e.newfmt||"Y-m-d",g).getTime()),f='jQuery.jgrid.parseDate("'+e.srcfmt+'",'+f+").getTime()";break;default:f=self._getStr(f),g=self._getStr('"'+self._toStr(g)+'"')}return self._append(f+" "+d+" "+g),self._setCommand(a,b),self._resetNegate(),self},this.equals=function(a,b,c){return self._compareValues(self.equals,a,b,"==",c)},this.notEquals=function(a,b,c){return self._compareValues(self.equals,a,b,"!==",c)},this.isNull=function(a,b,c){return self._compareValues(self.equals,a,null,"===",c)},this.greater=function(a,b,c){return self._compareValues(self.greater,a,b,">",c)},this.less=function(a,b,c){return self._compareValues(self.less,a,b,"<",c)},this.greaterOrEquals=function(a,b,c){return self._compareValues(self.greaterOrEquals,a,b,">=",c)},this.lessOrEquals=function(a,b,c){return self._compareValues(self.lessOrEquals,a,b,"<=",c)},this.startsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr(0,"+d+") == "+self._getStr('"'+self._toStr(b)+'"')):(d=_trim?$.trim(b.toString()).length:b.toString().length,self._append(self._getStr("this")+".substr(0,"+d+") == "+self._getStr('"'+self._toStr(a)+'"'))),self._setCommand(self.startsWith,a),self._resetNegate(),self},this.endsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return self._append(_useProperties?self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".length-"+d+","+d+') == "'+self._toStr(b)+'"':self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(a)+'".length,"'+self._toStr(a)+'".length) == "'+self._toStr(a)+'"'),self._setCommand(self.endsWith,a),self._resetNegate(),self},this.contains=function(a,b){return self._append(_useProperties?self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+self._toStr(b)+'",0) > -1':self._getStr("this")+'.indexOf("'+self._toStr(a)+'",0) > -1'),self._setCommand(self.contains,a),self._resetNegate(),self},this.groupBy=function(a,b,c,d){return self._hasData()?self._getGroup(_data,a,b,c,d):null},this.orderBy=function(a,b,c,d){return b=null==b?"a":$.trim(b.toString().toLowerCase()),null==c&&(c="text"),null==d&&(d="Y-m-d"),("desc"===b||"descending"===b)&&(b="d"),("asc"===b||"ascending"===b)&&(b="a"),_sorting.push({by:a,dir:b,type:c,datefmt:d}),self},self};return new QueryObject(source,null)},getMethod:function(a){return this.getAccessor(jqGrid,a)},extend:function(a){$.extend(jqGrid,a)}});var jqGrid=function(a,b){var c=a;$el=$(a);var d=99999,e=$.extend(!0,{page:1,rowNum:d,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],sortorder:"asc",sortname:"",datatype:"local",altRows:!1,altclass:"ui-priority-secondary",selarrrow:[],savedRow:[],shrinkToFit:!0,jsonReader:{},reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,afterInsertRow:null,onHeaderClick:null,viewrecords:!0,multiselect:!1,multikey:!1,search:!1,caption:"",hidegrid:!1,hiddengrid:!1,userData:{},treeGrid:!1,treeReader:{},treeANode:-1,ExpandColumn:null,ExpandColClick:!1,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!0,autowidth:!1,width:"100%",scrollOffset:18,cellLayout:5,multiselectWidth:20,gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,resizeclass:"",autoencode:!1,remapColumns:[],direction:"ltr",headertitles:!0,scrollTimeout:40,data:[],_index:{},ignoreCase:!1,cmTemplate:{},idPrefix:"",multiSort:!1,cellAutoSave:!0,leafChange:!1,checkParent:!1,checkChildren:!1,treeDataFormat:"child"},$.jgrid.defaults,b||{}),f={headers:[],cols:[],footers:[],dragStart:function(a,b,d){var f=$(c.grid.hDiv).offset().left;this.resizing={idx:a,startX:b.clientX-f,sOL:b.clientX-f},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(e.id),"#gbox_"+$.jgrid.jqID(e.id)),this.curGbox.css({display:"block",left:b.clientX-f,top:d[1],height:d[2]}),c._trigger("jqGridResizeStart",[b,a]),$.isFunction(e.resizeStart)&&e.resizeStart.call(c,b,a),document.onselectstart=function(){return!1}},dragMove:function(a){if(this.resizing){var b,d,f=$(c.grid.hDiv).offset().left,g=a.clientX-f-this.resizing.startX,h=this.headers[this.resizing.idx],i="ltr"===e.direction?h.width+g:h.width-g;i>33&&(this.curGbox.css({left:this.resizing.sOL+g}),e.forceFit===!0?(b=this.headers[this.resizing.idx+e.nv],d="ltr"===e.direction?b.width-g:b.width+g,d>33&&(h.newWidth=i,b.newWidth=d)):(this.newWidth="ltr"===e.direction?e.tblwidth+g:e.tblwidth-g,h.newWidth=i))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var a=this.resizing.idx,b=this.headers[a].newWidth||this.headers[a].width;b=parseInt(b,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(e.id)).css("display","none"),e.colModel[a].width=b,this.headers[a].width=b,this.headers[a].el.style.width=b+"px",this.cols[a].style.width=b+"px",this.footers.length>0&&(this.footers[a].style.width=b+"px"),e.forceFit===!0?(b=this.headers[a+e.nv].newWidth||this.headers[a+e.nv].width,this.headers[a+e.nv].width=b,this.headers[a+e.nv].el.style.width=b+"px",this.cols[a+e.nv].style.width=b+"px",this.footers.length>0&&(this.footers[a+e.nv].style.width=b+"px"),e.colModel[a+e.nv].width=b):(e.tblwidth=this.newWidth||e.tblwidth,$("table:first",this.bDiv).css("width",e.tblwidth+"px"),$("table:first",this.hDiv).css("width",e.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,e.footerrow&&($("table:first",this.sDiv).css("width",e.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),c._trigger("jqGridResizeStop",[b,a]),$.isFunction(e.resizeStop)&&e.resizeStop.call(c,b,a)}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){f.timer&&clearTimeout(f.timer),f.timer=null;var a=$(f.bDiv).height();if(a){var b,c,d=$("table:first",f.bDiv);if(d[0].rows.length)try{b=d[0].rows[1],c=b?$(b).outerHeight()||f.prevRowHeight:f.prevRowHeight}catch(g){c=f.prevRowHeight}if(c){f.prevRowHeight=c;var h,i,j,k=e.rowNum,l=f.scrollTop=f.bDiv.scrollTop,m=Math.round(d.position().top)-l,n=m+d.height(),o=c*k;if(a>n&&0>=m&&(void 0===e.lastpage||parseInt((n+l+o-1)/o,10)<=e.lastpage)&&(i=parseInt((a-n+o-1)/o,10),n>=0||2>i||e.scroll===!0?(h=Math.round((n+l)/o)+1,m=-1):m=1),m>0&&(h=parseInt(l/o,10)+1,i=parseInt((l+a)/o,10)+2-h,j=!0),i){if(e.lastpage&&(h>e.lastpage||1===e.lastpage||h===e.page&&h===e.lastpage))return;f.hDiv.loading?f.timer=setTimeout(f.populateVisible,e.scrollTimeout):(e.page=h,j&&(f.selectionPreserver(d[0]),f.emptyRows.call(d[0],!1,!1)),f.populate(i))}}}},scrollGrid:function(a){if(e.scroll){var b=f.bDiv.scrollTop;void 0===f.scrollTop&&(f.scrollTop=0),b!==f.scrollTop&&(f.scrollTop=b,f.timer&&clearTimeout(f.timer),f.timer=setTimeout(f.populateVisible,e.scrollTimeout))}f.hDiv.scrollLeft=f.bDiv.scrollLeft,e.footerrow&&(f.sDiv.scrollLeft=f.bDiv.scrollLeft),a&&a.stopPropagation()},selectionPreserver:function(a){var b=a.p,c=b.selrow,d=b.selarrrow?$.makeArray(b.selarrrow):null,e=a.grid.bDiv.scrollLeft,f=function(){var g;if(b.selrow=null,b.selarrrow=[],b.multiselect&&d&&d.length>0)for(g=0;g<d.length;g++)d[g]!==c&&$(a).jqGrid("setSelection",d[g],!1,null);c&&$(a).jqGrid("setSelection",c,!1,null),a.grid.bDiv.scrollLeft=e,$(a).unbind(".selectionPreserver",f)};a._bind("jqGridGridComplete.selectionPreserver",f)}};if("TABLE"!==c.tagName.toUpperCase())return void alert("Element is not a table");if(isMSIE=$.jgrid.msie,void 0!==document.documentMode&&document.documentMode<=5)return void alert("Grid can not be used in this ('quirks') mode!");e.height||(e.height=$el.height()||$el.parent().innerHeight()||150),e.useProp=!!$.fn.prop;var g,h;for(g=0;g<e.colModel.length;g++)e.colModel[g].label?"":e.colModel[g].label=e.colModel[g].name,e.colModel[g].headertitle?"":e.colModel[g].headertitle=e.headertitles?$.jgrid.stripHtml(e.colModel[g].label):"",void 0===e.colModel[g].resizable&&(e.colModel[g].resizable=!0),e.treeGrid&&(e.colModel[g].sortable=!1);e.ExpandColumn=e.expandColumn||e.ExpandColumn,e.ExpandColClick=e.expandColClick||e.ExpandColClick,e.direction=$.trim(e.direction.toLowerCase()),-1===$.inArray(e.direction,["ltr","rtl"])&&(e.direction="ltr"),h=e.direction;var i=$el[0].id;e.multiselect&&e.colModel.unshift({cb:!0,name:"cb",width:$.jgrid.cell_width?e.multiselectWidth+e.cellLayout:e.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}),e.rownumbers&&e.colModel.unshift({name:"rn",width:e.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}),e.sortableCols===!0?e.sortable=!0:"";var j={};$.extend(j,e),j.id=i,j.multiselect=!!e.multiselect,j.dir=h,j.rtl="rtl"===h,j.isMSIE=isMSIE,e.toolbar[0]&&("top"===e.toolbar[1]?j.topbar=!0:"bottom"===e.toolbar[1]?j.bottombar=!0:"both"===e.toolbar[1]&&(j.bottombar=!0,j.topbar=!0)),tpl=tpl.replace(/\>\s+\</g,"><").replace(/\>\s+\{\{/g,">{{").replace(/\}\}\s+\</g,"}}<");var k=Handlebars.compile(tpl)(j);$el.replaceWith(k),$el=$("#"+i),$root=$("#gbox_"+i),c=$el[0],e.height=e.height-($root.outerHeight()-e.height);var l=$(".ui-jqgrid-bdiv",$root),m=isNaN(e.height)?e.height:e.height+"px";l.css({height:m}),e.pager&&(e.pager="#"+i+"_pager",e.rowNum=e.rowNum===d?20:e.rowNum),c.p=e;var n=function(a,b){return a.length>6&&"jqGrid"===a.substring(0,6)&&(a="grid"+a.substring(6)),$(this).triggerHandler(a,b)},o=function(a,b){return a.length>6&&"jqGrid"===a.substring(0,6)&&(a="grid"+a.substring(6)),$(this).bind(a,b)},p=["shiftKey","altKey","ctrlKey"],q=function(a,b){return a=parseInt(a,10),isNaN(a)?b||0:a},r=function(a,b,d,e,g,h){var i,j=c.p.colModel[a],k=j.align,l='style="',m=j.classes,n=j.name,o=[];return k&&(l+="text-align:"+k+";"),j.hidden===!0&&(l+="display:none;"),0===b?l+="width: "+f.headers[a].width+"px;":j.cellattr&&$.isFunction(j.cellattr)&&(i=j.cellattr.call(c,g,d,e,j,h),i&&"string"==typeof i&&(i=i.replace(/style/i,"style").replace(/title/i,"title"),i.indexOf("title")>-1&&(j.title=!1),i.indexOf("class")>-1&&(m=void 0),o=i.replace("-style","-sti").split(/style/),2===o.length?(o[1]=$.trim(o[1].replace("-sti","-style").replace("=","")),(0===o[1].indexOf("'")||0===o[1].indexOf('"'))&&(o[1]=o[1].substring(1)),l+=o[1].replace(/'/gi,'"')):l+='"')),o.length||(o[0]="",l+='"'),l+=(void 0!==m?' class="'+m+'"':"")+(j.title&&d?' title="'+$.jgrid.stripHtml(d)+'"':""),l+=' aria-describedby="'+c.p.id+"_"+n+'"',l+o[0]},s=function(a){return null==a||""===a?"&#160;":c.p.autoencode?$.jgrid.htmlEncode(a):String(a)},t=function(a,b,d,e,f){var g,h=c.p.colModel[d];if(void 0!==h.formatter){a=""!==String(c.p.idPrefix)?$.jgrid.stripPref(c.p.idPrefix,a):a;var i={rowId:a,colModel:h,gid:c.p.id,pos:d};g=$.isFunction(h.formatter)?h.formatter.call(c,b,i,e,f):$.fmatter?$.fn.fmatter.call(c,h.formatter,b,i,e,f):s(b)}else g=s(b);return g},u=function(a,b,c,d,e,f){var g,h;return g=t(a,b,c,e,"add"),h=r(c,d,g,e,a,f),'<td role="gridcell" '+h+">"+g+"</td>"},v=function(a,b,d,e){var f='<input role="checkbox" type="checkbox" id="jqg_'+c.p.id+"_"+a+'" class="cbox" name="jqg_'+c.p.id+"_"+a+'"'+(e?'checked="checked"':"")+"/>",g=r(b,d,"",null,a,!0);return'<td role="gridcell" '+g+">"+f+"</td>"},w=function(a,b,c,d){var e=(parseInt(c,10)-1)*parseInt(d,10)+1+b,f=r(a,b,e,null,b,!0);return'<td role="gridcell" class="jqgrid-rownum" '+f+">"+e+"</td>"},x=function(){var a,b,d=[],e=0;for(b=0;b<c.p.colModel.length;b++)a=c.p.colModel[b],"cb"!==a.name&&"rn"!==a.name&&(d[e]=a.name,e++);return d},y=function(a){var b=c.p.remapColumns;return b&&b.length||(b=$.map(c.p.colModel,function(a,b){return b})),a&&(b=$.map(b,function(b){return a>b?null:b-a})),b},z=function(a){var b;this.p.deepempty?$(this.rows).slice(1).remove():(b=this.rows.length>0?this.rows[0]:null,$(this.children[0]).empty().append(b)),a&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0))},A=function(){var a,b,d,e=c.p.data.length;for(a=c.p.keyName,b=0;e>b;b++)d=$.jgrid.getAccessor(c.p.data[b],a),void 0===d&&(d=$.jgrid.randId(),c.p.data[b][a]=d),c.p._index[d]=b},B=function(a,b,d,e,f,g){var h,i="-1",j="",k=b?"display:none;":"",l="jqgrow"+(d?" "+d:"")+(g?" ui-state-highlight":""),m=c._trigger("jqGridRowAttr",[e,f,a]);if("object"!=typeof m&&(m=$.isFunction(c.p.rowattr)?c.p.rowattr.call(c,e,f,a):{}),!$.isEmptyObject(m)){m.hasOwnProperty("id")&&(a=m.id,delete m.id),m.hasOwnProperty("tabindex")&&(i=m.tabindex,delete m.tabindex),m.hasOwnProperty("style")&&(k+=m.style,delete m.style),m.hasOwnProperty("class")&&(l+=" "+m["class"],delete m["class"]);try{delete m.role}catch(n){}for(h in m)m.hasOwnProperty(h)&&(j+=" "+h+"="+m[h])}return'<tr role="row" id="'+a+'" tabindex="'+i+'" class="'+l+'"'+(""===k?"":' style="'+k+'"')+j+">"},C=function(a,b,d,e,f){var g=new Date;if(a){-1!==c.p.treeANode||c.p.scroll?d=d>1?d:1:(z.call(c,!1,!0),d=1);var h,i,j=c.p.keyName,k="json"===c.p.datatype;k&&(c.p.data=[],c.p._index={}),c.p.reccount=0,"local"===c.p.datatype?(h=c.p.localReader,i="local"):(h=c.p.jsonReader,i="json");var l,m,n,o,p,r,s,t,A,C,D,E=$(c),F=0,G=[],H=c.p.multiselect?1:0,I=c.p.rownumbers===!0?1:0,J=y(H+I),K=x(i),L={},M=[],N=c.p.altRows===!0?c.p.altclass:"";c.p.page=q($.jgrid.getAccessor(a,h.page),c.p.page),c.p.lastpage=q($.jgrid.getAccessor(a,h.total),1),c.p.records=q($.jgrid.getAccessor(a,h.records)),c.p.userData=$.jgrid.getAccessor(a,h.userdata)||{},t=c.p.keyName,h.repeatitems||(G=K,G.length>0&&!isNaN(t)&&(t=c.p.keyName)),s=$.jgrid.getAccessor(a,h.root),null==s&&$.isArray(a)&&(s=a),s||(s=[]),r=s.length,m=0,r>0&&c.p.page<=0&&(c.p.page=1);var O,P,Q=parseInt(c.p.rowNum,10),R=!1;f&&(Q*=f+1),"local"!==c.p.datatype||c.p.deselectAfterSort||(R=!0);for(var S=$.isFunction(c.p.afterInsertRow),T=!1;r>m;){o=s[m],C=$.jgrid.getAccessor(o,t),C=c.p.idPrefix+C,O=1===d?0:d,D=(O+m)%2===1?N:"",R&&(P=c.p.multiselect?-1!==$.inArray(C,c.p.selarrrow):C===c.p.selrow);var U=M.length;for(M.push(""),I&&M.push(w(0,m,c.p.page,c.p.rowNum)),H&&M.push(v(C,I,m,P)),p=K,h.repeatitems&&(h.cell&&(o=$.jgrid.getAccessor(o,h.cell)||o),$.isArray(o)&&(p=J)),n=0;n<p.length;n++)l=$.jgrid.getAccessor(o,p[n]),L[c.p.colModel[n+H+I].name]=l,M.push(u(C,l,n+H+I,m+d,o,L));if(M[U]=B(C,T,D,L,o,P),M.push("</tr>"),k&&(L[j]=$.jgrid.stripPref(c.p.idPrefix,C),c.p.data.push(L),c.p._index[L[j]]=c.p.data.length-1),c.p.gridview===!1&&($("#"+$.jgrid.jqID(c.p.id)+" tbody:first").append(M.join("")),c._trigger("jqGridAfterInsertRow",[C,L,o]),S&&c.p.afterInsertRow.call(c,C,L,o),M=[]),L={},F++,m++,F===Q)break}if(c.p.gridview===!0&&(A=c.p.treeANode>-1?c.p.treeANode:0,c.p.treeGrid===!0&&A>0?$(c.rows[A]).after(M.join("")):$("#"+$.jgrid.jqID(c.p.id)+" tbody:first").append(M.join(""))),c.p.totaltime=new Date-g,F>0&&0===c.p.records&&(c.p.records=r),M=null,c.p.treeGrid===!0)try{E.jqGrid("setTreeNode",A+1,F+A+1)}catch(V){}if(c.p.treeGrid||c.p.scroll||(c.grid.bDiv.scrollTop=0),c.p.reccount=F,c.p.treeANode=-1,c.p.userDataOnFooter&&E.jqGrid("footerData","set",c.p.userData,!0),k&&!c.p.server&&(c.p.records=r,c.p.lastpage=Math.ceil(r/Q)),e||c.updatepager(!1,!0),k)for(;r>F&&s[F];){if(o=s[F],C=$.jgrid.getAccessor(o,t),void 0===C&&(C=$.jgrid.randId(),0===G.length&&h.cell)){var W=$.jgrid.getAccessor(o,h.cell)||o;C=null!=W&&void 0!==W[t]?W[t]:C,W=null}if(o){for(C=c.p.idPrefix+C,p=K,h.repeatitems&&(h.cell&&(o=$.jgrid.getAccessor(o,h.cell)||o),$.isArray(o)&&(p=J)),n=0;n<p.length;n++)L[c.p.colModel[n+H+I].name]=$.jgrid.getAccessor(o,p[n]);L[j]=$.jgrid.stripPref(c.p.idPrefix,C),c.p.data.push(L),c.p._index[L[j]]=c.p.data.length-1,L={}}F++}}},D=function(){function a(b){var c,d,e,f,g,h=0;if(null!=b.groups){for(d=b.groups.length&&"OR"===b.groupOp.toString().toUpperCase(),d&&k.orBegin(),c=0;c<b.groups.length;c++){h>0&&d&&k.or();try{a(b.groups[c])}catch(l){alert(l)}h++}d&&k.orEnd()}if(null!=b.rules)try{for(e=b.rules.length&&"OR"===b.groupOp.toString().toUpperCase(),e&&k.orBegin(),c=0;c<b.rules.length;c++)g=b.rules[c],f=b.groupOp.toString().toUpperCase(),j[g.op]&&g.field&&(h>0&&f&&"OR"===f&&(k=k.or()),k=j[g.op](k,f)(g.field,g.data,i[g.field])),h++;e&&k.orEnd()}catch(m){alert(m)}}var b,d,e,f=c.p.multiSort?[]:"",g=[],h=!1,i={};if($.isArray(c.p.data)){$.each(c.p.colModel,function(){if(d=this.sorttype||"text","date"===d||"datetime"===d?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(b=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.formatter.date.srcformat,e=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.formatter.date.newformat):b=e=this.datefmt||"Y-m-d",i[this.name]={stype:d,srcfmt:b,newfmt:e}):i[this.name]={stype:d,srcfmt:"",newfmt:""},c.p.multiSort){if(this.lso){f.push(this.name);var a=this.lso.split("-");g.push(a[a.length-1])}}else h||this.index!==c.p.sortname&&this.name!==c.p.sortname||(f=this.name,h=!0)});var j={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return"OR"===b?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return"OR"===b?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return"OR"===b?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return"OR"===b?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return"OR"===b?a.orNot().isNull:a.andNot().isNull}},k=$.jgrid.from(c.p.data);if(c.p.ignoreCase&&(k=k.ignoreCase()),c.p.search===!0){var l=c.p.postData.filters;if(l)"string"==typeof l&&(l=$.jgrid.parse(l)),a(l);else try{k=j[c.p.postData.searchOper](k)(c.p.postData.searchField,c.p.postData.searchString,i[c.p.postData.searchField])}catch(m){}}c.p.multiSort?$.each(f,function(a){k.orderBy(this,g[a],i[this].stype,i[this].srcfmt)}):f&&c.p.sortorder&&h&&("DESC"===c.p.sortorder.toUpperCase()?k.orderBy(c.p.sortname,"d",i[f].stype,i[f].srcfmt):k.orderBy(c.p.sortname,"a",i[f].stype,i[f].srcfmt));var n=k.select(),o=parseInt(c.p.rowNum,10),p=n.length,q=parseInt(c.p.page,10),r=Math.ceil(p/o),s={};return n=n.slice((q-1)*o,q*o),k=null,i=null,s[c.p.localReader.total]=r,s[c.p.localReader.page]=q,s[c.p.localReader.records]=p,s[c.p.localReader.root]=n,s[c.p.localReader.userdata]=c.p.userData,n=null,s}},E=function(a,b){var d,e,f,g,h,i,j,k,l="",m=c.p.pager?"_"+$.jgrid.jqID(c.p.pager.substr(1)):"",n=c.p.toppager?"_"+c.p.toppager.substr(1):"";if(f=parseInt(c.p.page,10)-1,0>f&&(f=0),f*=parseInt(c.p.rowNum,10),h=f+c.p.reccount,c.p.scroll){var o=$("tbody:first > tr:gt(0)",c.grid.bDiv);f=h-o.length,c.p.reccount=o.length;var p=o.outerHeight()||c.grid.prevRowHeight;if(p){var r=f*p,s=parseInt(c.p.records,10)*p;$(">div:first",c.grid.bDiv).css({height:s}).children("div:first").css({height:r,display:r?"":"none"}),0==c.grid.bDiv.scrollTop&&c.p.page>1&&(c.grid.bDiv.scrollTop=c.p.rowNum*(c.p.page-1)*p)}c.grid.bDiv.scrollLeft=c.grid.hDiv.scrollLeft}l=c.p.pager||"",l+=c.p.toppager?l?","+c.p.toppager:c.p.toppager:"",l&&(j=$.jgrid.formatter.integer||{},d=q(c.p.page),e=q(c.p.lastpage),$(".selbox",l)[this.p.useProp?"prop":"attr"]("disabled",!1),c.p.pginput===!0&&($(".ui-pg-input",l).val(c.p.page),k=c.p.toppager?"#sp_1"+m+",#sp_1"+n:"#sp_1"+m,$(k).html($.fmatter?$.fmatter.util.NumberFormat(c.p.lastpage,j):c.p.lastpage)),c.p.viewrecords&&(0===c.p.reccount?$(".ui-paging-info",l).html(c.p.emptyrecords):(g=f+1,i=c.p.records,$.fmatter&&(g=$.fmatter.util.NumberFormat(g,j),h=$.fmatter.util.NumberFormat(h,j),i=$.fmatter.util.NumberFormat(i,j)),$(".ui-paging-info",l).html($.jgrid.format(c.p.recordtext,g,h,i)))),c.p.pgbuttons===!0?(0>=d&&(d=e=0),1===d||0===d?($("#first"+m+", #prev"+m).addClass("ui-state-disabled").removeClass("ui-state-hover"),c.p.toppager&&$("#first_t"+n+", #prev_t"+n).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#first"+m+", #prev"+m).removeClass("ui-state-disabled"),c.p.toppager&&$("#first_t"+n+", #prev_t"+n).removeClass("ui-state-disabled")),d===e||0===d?($("#next"+m+", #last"+m).addClass("ui-state-disabled").removeClass("ui-state-hover"),c.p.toppager&&$("#next_t"+n+", #last_t"+n).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#next"+m+", #last"+m).removeClass("ui-state-disabled"),c.p.toppager&&$("#next_t"+n+", #last_t"+n).removeClass("ui-state-disabled"))):$(".ui-pg-table",l).hide()),a===!0&&c.p.rownumbers===!0&&$(">td.jqgrid-rownum",c.rows).each(function(a){$(this).html(f+1+a)}),b&&c.p.jqgdnd&&$(c).jqGrid("gridDnD","updateDnD"),c._trigger("jqGridGridComplete"),$.isFunction(c.p.gridComplete)&&c.p.gridComplete.call(c),c._trigger("jqGridAfterGridComplete")},F=function(){if(c.grid.hDiv.loading=!0,!c.p.hiddengrid)switch(c.p.loadui){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(c.p.id)).show();break;case"block":$("#lui_"+$.jgrid.jqID(c.p.id)).show(),$("#load_"+$.jgrid.jqID(c.p.id)).show()}},G=function(){switch(c.grid.hDiv.loading=!1,c.p.loadui){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(c.p.id)).hide();break;case"block":$("#lui_"+$.jgrid.jqID(c.p.id)).hide(),$("#load_"+$.jgrid.jqID(c.p.id)).hide()}},H=function(){if(!c.grid.hDiv.loading){var a,b;c.p.page<=0&&(c.p.page=Math.min(1,c.p.lastpage));{var d=$.isFunction(c.p.loadComplete);d?c.p.loadComplete:null}switch(a=c.p.datatype.toLowerCase()){case"json":F(),b="string"==typeof c.p.data?$.jgrid.parse(c.p.data):c.p.data,C(b,c.grid.bDiv),c._trigger("jqGridLoadComplete",[b]),d&&c.p.loadComplete.call(c,b),c._trigger("jqGridAfterGridComplete"),c._trigger("jqGridAfterLoadComplete",[b]),c.p.datatype="local",G();break;case"local":F(),c.p.datatype="local";var e=D();C(e,c.grid.bDiv),c._trigger("jqGridLoadComplete",[e]),d&&c.p.loadComplete.call(c,e),c._trigger("jqGridAfterLoadComplete",[e]),G()}}},I=function(a){$("#cb_"+$.jgrid.jqID(c.p.id),c.grid.hDiv)[c.p.useProp?"prop":"attr"]("checked",a);var b=c.p.frozenColumns?c.p.id+"_frozen":"";b&&$("#cb_"+$.jgrid.jqID(c.p.id),c.grid.fhDiv)[c.p.useProp?"prop":"attr"]("checked",a)},J=function(){if(c.p.server){var a=[];return $.isFunction(c.p.pageData)?(a=c.p.pageData.call(c,c.p.page,c.p.sortname,c.p.sortorder),c.addJSONData(a,c.grid.bDiv),!1):(alert("please support pageData function to fetch per page data!"),!1)}return!0},K=function(a,b){var d,e,f,g=function(a){var b;return $.isFunction(c.p.onPaging)&&(b=c.p.onPaging.call(c,a)),"stop"===b?!1:(c.p.selrow=null,c.p.multiselect&&(c.p.selarrrow=[],I(!1)),c.p.savedRow=[],!0)};a=a.substr(1),b+="_"+a,d="pg_"+a,c.p.pginput===!0&&$(".ui-pg-input","#"+d).replaceWith($.jgrid.format(c.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(a)+"'></span>")),f=$(".ui-jqgrid").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='ui-jqgrid' style='font-size:"+f+";visibility:hidden;' ></div>"),e=$("td#"+a+"_"+c.p.pagerpos+">:first-child").clone().appendTo("#testpg").width(),$("#testpg").remove(),e>0&&($("#sp_1_"+a).length>0&&(e+=50),$("td#"+a+"_"+c.p.pagerpos,"#"+d).width(e)),c.p._nvtd=[],c.p._nvtd[0]=Math.floor(e?(c.p.width-e)/2:c.p.width/3),c.p._nvtd[1]=0,c.p.pgbuttons===!0&&($(".ui-pg-button","#"+d).hover(function(){$(this).hasClass("ui-state-disabled")?this.style.cursor="default":($(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){$(this).hasClass("ui-state-disabled")||($(this).removeClass("ui-state-hover"),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(b)+", #prev"+$.jgrid.jqID(b)+", #next"+$.jgrid.jqID(b)+", #last"+$.jgrid.jqID(b)).click(function(){var a=q(c.p.page,1),d=q(c.p.lastpage,1),e=!1,f=!0,h=!0,i=!0,j=!0;0===d||1===d?(f=!1,h=!1,i=!1,j=!1):d>1&&a>=1?1===a?(f=!1,h=!1):a===d&&(i=!1,j=!1):d>1&&0===a&&(i=!1,j=!1,a=d-1);var k=this.id.substring(0,this.id.length-$.jgrid.jqID(b).length);return g(k)?(this.id==="first"+b&&f&&(c.p.page=1,e=!0),this.id==="prev"+b&&h&&(c.p.page=a-1,e=!0),this.id==="next"+b&&i&&(c.p.page=a+1,e=!0),this.id==="last"+b&&j&&(c.p.page=d,e=!0),e&&J()&&H(),!1):!1})),c.p.pginput===!0&&$("input.ui-pg-input","#"+d).keypress(function(a){var b=a.charCode||a.keyCode||0;return 13===b?g("user")?($(this).val(q($(this).val(),1)),c.p.page=$(this).val()>0?$(this).val():c.p.page,J()&&H(),!1):!1:this})},L=function(a,b){var d,e,f="",g=c.p.colModel,h=!1,i=c.p.frozenColumns?b:c.grid.headers[a].el,j="";$("span.ui-grid-ico-sort",i).addClass("ui-state-disabled"),$(i).attr("aria-selected","false"),g[a].lso?"asc"===g[a].lso?(g[a].lso+="-desc",j="desc"):"desc"===g[a].lso?(g[a].lso+="-asc",j="asc"):("asc-desc"===g[a].lso||"desc-asc"===g[a].lso)&&(g[a].lso=""):g[a].lso=j=g[a].firstsortorder||"asc",j?($("span.s-ico",i).show(),$("span.ui-icon-"+j,i).removeClass("ui-state-disabled"),$(i).attr("aria-selected","true")):$("span.s-ico",i).hide(),c.p.sortorder="",$.each(g,function(a){this.lso&&(a>0&&h&&(f+=", "),d=this.lso.split("-"),f+=g[a].index||g[a].name,f+=" "+d[d.length-1],h=!0,c.p.sortorder=d[d.length-1])
}),e=f.lastIndexOf(c.p.sortorder),f=f.substring(0,e),c.p.sortname=f},M=function(a,b,d,e,f){if(c.p.colModel[b].sortable&&!(c.p.savedRow.length>0)){if(d||(c.p.lastsort===b?"asc"===c.p.sortorder?c.p.sortorder="desc":"desc"===c.p.sortorder&&(c.p.sortorder="asc"):c.p.sortorder=c.p.colModel[b].firstsortorder||"asc",c.p.page=1),c.p.multiSort)L(b,f);else{if(e){if(c.p.lastsort===b&&c.p.sortorder===e&&!d)return;c.p.sortorder=e}var g=c.grid.headers[c.p.lastsort].el,h=c.p.frozenColumns?f:c.grid.headers[b].el;$("span.ui-grid-ico-sort",g).addClass("ui-state-disabled"),$(g).attr("aria-selected","false"),c.p.frozenColumns&&(c.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),c.grid.fhDiv.find("th").attr("aria-selected","false")),$("span.ui-icon-"+c.p.sortorder,h).removeClass("ui-state-disabled"),$(h).attr("aria-selected","true"),c.p.lastsort!==b&&(c.p.frozenColumns&&c.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",g).hide(),$("span.s-ico",h).show()),a=a.substring(5+c.p.id.length+1),c.p.sortname=c.p.colModel[b].index||a}if("stop"===c._trigger("jqGridSortCol",[c.p.sortname,b,c.p.sortorder]))return void(c.p.lastsort=b);if($.isFunction(c.p.onSortCol)&&"stop"===c.p.onSortCol.call(c,c.p.sortname,b,c.p.sortorder))return void(c.p.lastsort=b);if("local"===c.p.datatype?c.p.deselectAfterSort&&$(c).jqGrid("resetSelection"):(c.p.selrow=null,c.p.multiselect&&I(!1),c.p.selarrrow=[],c.p.savedRow=[]),c.p.scroll){var i=c.grid.bDiv.scrollLeft;z.call(c,!0,!1),c.grid.hDiv.scrollLeft=i}J()&&H(),c.p.lastsort=b,c.p.sortname!==a&&b&&(c.p.lastsort=b)}},N=function(){var a,b,d,e,g=0,h=$.jgrid.cell_width?0:q(c.p.cellLayout,0),i=0,j=q(c.p.scrollOffset,0),k=!1,l=0;$.each(c.p.colModel,function(){void 0===this.hidden&&(this.hidden=!1),this.widthOrg=b=q(this.width,0),this.hidden===!1&&(g+=b+h,this.fixed?l+=b+h:i++)}),isNaN(c.p.width)&&(c.p.width=g+(c.p.shrinkToFit!==!1||isNaN(c.p.height)?0:j)),f.width=c.p.width,c.p.tblwidth=g,c.p.shrinkToFit===!1&&c.p.forceFit===!0&&(c.p.forceFit=!1),c.p.shrinkToFit===!0&&i>0&&(d=f.width-h*i-l,isNaN(c.p.height)||(d-=j,k=!0),d-=1,g=0,$.each(c.p.colModel,function(e){this.hidden!==!1||this.fixed||(b=Math.round(d*this.width/(c.p.tblwidth-h*i-l)),this.width=b,g+=b,a=e)}),e=0,k?f.width-l-(g+h*i)!==j&&(e=f.width-l-(g+h*i)-j):k||1===Math.abs(f.width-l-(g+h*i))||(e=f.width-l-(g+h*i)),c.p.colModel[a].width+=e-1,c.p.tblwidth=g+(e-1)+h*i+l,c.p.tblwidth>c.p.width&&(c.p.colModel[a].width-=c.p.tblwidth-parseInt(c.p.width,10),c.p.tblwidth=c.p.width))},O=function(a){var b,d=a,e=a;for(b=a+1;b<c.p.colModel.length;b++)if(c.p.colModel[b].hidden!==!0){e=b;break}return e-d},P=function(a){var b=$(c.grid.headers[a].el),d=[b.position().left+b.outerWidth()];return"rtl"===c.p.direction&&(d[0]=c.p.width-d[0]),d[0]-=c.grid.bDiv.scrollLeft,d.push($(c.grid.hDiv).position().top),d.push($(c.grid.bDiv).offset().top-$(c.grid.hDiv).offset().top+$(c.grid.bDiv).height()),d},Q=function(a){var b,d=c.grid.headers,e=$.jgrid.getCellIndex(a);for(b=0;b<d.length;b++)if(a===d[b].el){e=b;break}return e};for(c.p.id=i,-1===$.inArray(c.p.multikey,p)&&(c.p.multikey=!1),c.p.keyIndex=!1,c.p.keyName=!1,g=0;g<c.p.colModel.length;g++)c.p.colModel[g]=$.extend(!0,{},c.p.cmTemplate,c.p.colModel[g].template||{},c.p.colModel[g]),c.p.keyIndex===!1&&c.p.colModel[g].key===!0&&(c.p.keyIndex=g,c.p.keyName=c.p.colModel[g].name);if(c.p.sortorder=c.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),c.p.treeGrid===!0){c.p.oldTreeData=c.p.data,"child"===c.p.treeDataFormat?c.p.data=$.jgrid.childrenDataFormat(c.p.data,c.p.keyName):"line"===c.p.treeDataFormat&&(c.p.data=$.jgrid.treeDataFormat(c.p.data));try{$(c).jqGrid("setTreeGrid")}catch(_){}}c.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"_id_",userdata:"userdata"},c.p.jsonReader),c.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"_id_",userdata:"userdata"},c.p.localReader),c.p.keyName===!1&&(c.p.keyName=c.p.localReader.id),c.p.scroll&&(c.p.pgbuttons=!1,c.p.pginput=!1),c.p.data.length&&A();var R,S,T,U,V,W=[],X=[],Y=[];if(c.p.shrinkToFit===!0&&c.p.forceFit===!0)for(g=c.p.colModel.length-1;g>=0;g--)if(!c.p.colModel[g].hidden){c.p.colModel[g].resizable=!1;break}if(c.p.multiSort)for(W=c.p.sortname.split(","),g=0;g<W.length;g++)Y=$.trim(W[g]).split(" "),W[g]=$.trim(Y[0]),X[g]=Y[1]?$.trim(Y[1]):c.p.sortorder||"asc";for(g=0;g<c.p.colModel.length;g++)c.p.colModel[g].width=c.p.colModel[g].width?parseInt(c.p.colModel[g].width,10):150,"boolean"!=typeof c.p.colModel[g].title&&(c.p.colModel[g].title=!0),c.p.colModel[g].lso="",R=c.p.colModel[g].index||c.p.colModel[g].name,R===c.p.sortname&&(c.p.lastsort=g),c.p.multiSort&&(Y=$.inArray(R,W),-1!==Y&&(c.p.colModel[g].lso=X[Y]));if($("thead tr:first th",$el).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}),c.p.multiselect){var Z,ab=[];$("#cb_"+$.jgrid.jqID(c.p.id),$root).bind("click",function(){c.p.selarrrow=[];var a=c.p.frozenColumns===!0?c.p.id+"_frozen":"";this.checked?($(c.rows).each(function(b){b>0&&($(this).hasClass("jqgroup")||$(this).hasClass("ui-state-disabled")||($("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(this.id))[c.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass("ui-state-highlight").attr("aria-selected","true"),c.p.selarrrow.push(this.id),c.p.selrow=this.id,a&&($("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(this.id),c.grid.fbDiv)[c.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),c.grid.fbDiv).addClass("ui-state-highlight"))))}),Z=!0,ab=[]):($(c.rows).each(function(b){b>0&&($(this).hasClass("ui-state-disabled")||($("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(this.id))[c.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass("ui-state-highlight").attr("aria-selected","false"),ab.push(this.id),a&&($("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(this.id),c.grid.fbDiv)[c.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),c.grid.fbDiv).removeClass("ui-state-highlight"))))}),c.p.selrow=null,Z=!1),c._trigger("jqGridSelectAll",[Z?c.p.selarrrow:ab,Z]),$.isFunction(c.p.onSelectAll)&&c.p.onSelectAll.call(c,Z?c.p.selarrrow:ab,Z)})}if(c.p.autowidth===!0||"100%"===c.p.width){c.p.autowidth=!0;var bb=$root.innerWidth();c.p.width=bb>0?bb:"nw"}N(),$("#gview_"+i).css("width",f.width+"px"),$root.css("width",f.width+"px");var cb="",db=$("thead:first",$root),eb=$("tr:first",db),fb=$("tbody tr:first",$el),gb=null;if(c.p.disableClick=!1,$("th",eb).each(function(a){gb=fb.find("td:eq("+a+")"),S=c.p.colModel[a].width,"undefined"==typeof c.p.colModel[a].resizable&&(c.p.colModel[a].resizable=!0),c.p.colModel[a].resizable&&$(this).addClass(c.p.resizeclass),$(this).css("width",S+"px"),gb.css("width",S+"px"),c.p.colModel[a].hidden&&($(this).css("display","none"),gb.css("display","none")),f.headers[a]={width:S,el:this},T=c.p.colModel[a].sortable,"boolean"!=typeof T&&(c.p.colModel[a].sortable=!0,T=!0);var b=c.p.colModel[a].name;"cb"!==b&&"rn"!==b&&$(">div",this).addClass("ui-jqgrid-sortable"),T&&(c.p.multiSort?c.p.colModel[a].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+c.p.colModel[a].lso,this).removeClass("ui-state-disabled")):a===c.p.lastsort&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+c.p.sortorder,this).removeClass("ui-state-disabled"))),c.p.footerrow&&(cb+="<td role='gridcell' "+r(a,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(a){if(1===$(a.target).closest("th>span.ui-jqgrid-resize").length){var b=Q(this);return c.p.forceFit===!0&&(c.p.nv=O(b)),f.dragStart(b,a,P(b)),!1}}).click(function(a){if(c.p.disableClick)return c.p.disableClick=!1,!1;var b,d,e="th>div.ui-jqgrid-sortable",f=$(a.target).closest(e);if(1===f.length){var g;if(c.p.frozenColumns){var h=$(this)[0].id.substring(c.p.id.length+1);$(c.p.colModel).each(function(a){return this.name===h?(g=a,!1):void 0})}else g=Q(this);return null!=g&&M($("div",this)[0].id,g,b,d,this),!1}}),c.p.sortable&&$.fn.sortable)try{$(c).jqGrid("sortableColumns",eb)}catch(ib){}hg=c.p.caption&&c.p.hiddengrid===!0?!0:!1,db=null,$(".ui-jqgrid-htable",$root).css({width:c.p.tblwidth+"px"});var jb=$(".ui-jqgrid-hdiv",$root);f.hDiv=jb[0],jb.css({width:f.width+"px"}),hg&&jb.hide(),c.p.pager&&($(c.p.pager).css({width:f.width+"px"}),hg&&$(c.p.pager).hide(),K(c.p.pager,"")),c.p.cellEdit===!1&&c.p.hoverrows===!0&&$(c).bind("mouseover",function(a){V=$(a.target).closest("tr.jqgrow"),$(V).addClass("ui-state-hover")}).bind("mouseout",function(a){V=$(a.target).closest("tr.jqgrow"),$(V).removeClass("ui-state-hover")});var kb,lb,mb;if($(c).click(function(a){if(U=a.target,V=$(U,c.rows).closest("tr.jqgrow"),0===$(V).length||V[0].className.indexOf("ui-state-disabled")>-1||($(U,c).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==c.id)return this;var b=$(U).hasClass("cbox");if(!b){var d=$(U).children("input:first");b=$(U).children("input:first").hasClass("cbox"),d.attr("disabled")||d[c.p.useProp?"prop":"attr"]("checked",!d.is(":checked"))}var e=c._trigger("jqGridBeforeSelectRow",[V[0].id,a]);if(e=e===!1||"stop"===e?!1:!0,e&&$.isFunction(c.p.beforeSelectRow)&&(e=c.p.beforeSelectRow.call(c,V[0].id,a)),"A"!==U.tagName&&("INPUT"!==U.tagName&&"TEXTAREA"!==U.tagName&&"OPTION"!==U.tagName&&"SELECT"!==U.tagName||b)&&e===!0)if(kb=V[0].id,lb=$.jgrid.getCellIndex(U),mb=$(U).closest("td,th").html(),c._trigger("jqGridCellSelect",[kb,lb,mb,a]),$.isFunction(c.p.onCellSelect)&&c.p.onCellSelect.call(c,kb,lb,mb,a),c.p.cellEdit===!0)if(c.p.multiselect&&b)$(c).jqGrid("setSelection",kb,!0,a);else{kb=V[0].rowIndex;try{$(c).jqGrid("editCell",kb,lb,!0)}catch(_){}}else if(c.p.multikey)a[c.p.multikey]?$(c).jqGrid("setSelection",kb,!0,a):c.p.multiselect&&b&&(b=$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+kb).is(":checked"),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+kb)[c.p.useProp?"prop":"attr"]("checked",!b));else if(c.p.multiselect&&c.p.multiboxonly)if(b)$(c).jqGrid("setSelection",kb,!0,a);else{var f=c.p.frozenColumns?c.p.id+"_frozen":"";$(c.p.selarrrow).each(function(a,b){var d=$(c).jqGrid("getGridRowById",b);$(d).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(b))[c.p.useProp?"prop":"attr"]("checked",!1),f&&($("#"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(f)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(f))[c.p.useProp?"prop":"attr"]("checked",!1))}),c.p.selarrrow=[],$(c).jqGrid("setSelection",kb,!0,a)}else $(c).jqGrid("setSelection",kb,!0,a)}).bind("reloadGrid",function(a,b){if(c.p.treeGrid===!0&&(c.p.oldTreeData=c.p.data,"child"===c.p.treeDataFormat?c.p.data=$.jgrid.childrenDataFormat(c.p.data,c.p.keyName):"line"===c.p.treeDataFormat&&(c.p.data=$.jgrid.treeDataFormat(c.p.data))),b&&b.current&&c.grid.selectionPreserver(c),"local"===c.p.datatype?($(c).jqGrid("resetSelection"),c.p.data.length&&A()):c.p.treeGrid||(c.p.selrow=null,c.p.multiselect&&(c.p.selarrrow=[],I(!1)),c.p.savedRow=[]),c.p.scroll&&z.call(c,!0,!1),b&&b.page){var d=b.page;d>c.p.lastpage&&(d=c.p.lastpage),1>d&&(d=1),c.p.page=d,c.grid.bDiv.scrollTop=c.grid.prevRowHeight?(d-1)*c.grid.prevRowHeight*c.p.rowNum:0}return c.grid.prevRowHeight&&c.p.scroll?(delete c.p.lastpage,c.grid.populateVisible()):c.grid.populate(),!1}).dblclick(function(a){U=a.target,V=$(U,c.rows).closest("tr.jqgrow"),0!==$(V).length&&(kb=V[0].rowIndex,lb=$.jgrid.getCellIndex(U),c._trigger("jqGridDblClickRow",[$(V).attr("id"),kb,lb,a]),$.isFunction(c.p.ondblClickRow)&&c.p.ondblClickRow.call(c,$(V).attr("id"),kb,lb,a))}).bind("contextmenu",function(a){U=a.target,V=$(U,c.rows).closest("tr.jqgrow"),0!==$(V).length&&(c.p.multiselect||$(c).jqGrid("setSelection",V[0].id,!0,a),kb=V[0].rowIndex,lb=$.jgrid.getCellIndex(U),c._trigger("jqGridRightClickRow",[$(V).attr("id"),kb,lb,a]),$.isFunction(c.p.onRightClickRow)&&c.p.onRightClickRow.call(c,$(V).attr("id"),kb,lb,a))}),isMSIE&&"auto"===String(c.p.height).toLowerCase()&&(c.p.height="100%"),f.bDiv=l[0],l.css({width:f.width+"px"}).scroll(f.scrollGrid),$("table:first",l).css({width:c.p.tblwidth+"px"}),$(".ui-jqgrid-btable , .ui-jqgrid-htable",$root).css("table-layout","fixed"),$.support.tbody||2===$("tbody",$el).length&&$("tbody:gt(0)",$el).remove(),c.p.multikey&&($.jgrid.msie?l.bind("selectstart",function(){return!1}):l.bind("mousedown",function(){return!1})),hg&&l.hide(),c.p.toolbar[0]&&hg&&$(".ui-userdata",$root).hide(),c.p.toppager&&(c.p.toppager=$.jgrid.jqID(c.p.id)+"_toppager",f.topDiv=$("<div id='"+c.p.toppager+"'></div>")[0],c.p.toppager="#"+c.p.toppager,$(f.topDiv).addClass("ui-jqgrid-toppager").width(f.width).insertBefore(f.hDiv),K(c.p.toppager,"_t")),c.p.footerrow&&(f.sDiv=$(".ui-jqgrid-sdiv",$root)[0],$(f.sDiv).width(f.width-2),$("table",f.sDiv).width(c.p.tblwidth),$(".footrow",f.sDiv).html(cb),f.footers=$(".ui-jqgrid-ftable",f.sDiv)[0].rows[0].cells,$(f.footers[0]).width($(f.footers[0]).width()-6),$(f.footers[1]).width($(f.footers[1]).width()-3),c.p.rownumbers&&(f.footers[0].className="jqgrid-rownum"),hg&&$(f.sDiv).hide()),hb=null,c.p.caption){var nb=$(".ui-jqgrid-titlebar",$root);f.cDiv=nb[0],$("a",nb).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).css("rtl"===h?"left":"right","0px");var ob=c.p.datatype;c.p.hidegrid===!0&&($(".ui-jqgrid-titlebar-close",f.cDiv).click(function(a){var b,d=$.isFunction(c.p.onHeaderClick),e=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv ,.ui-userdata",f=this;return b=$(e,"#gview_"+$.jgrid.jqID(c.p.id)).length,"visible"===c.p.gridstate?$(e,"#gbox_"+$.jgrid.jqID(c.p.id)).slideUp("fast",function(){b--,0===b&&($("span",f).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),c.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(c.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(c.p.id)).hide(),c._trigger("jqGridHeaderClick",[c.p.gridstate,a]),d&&(hg||c.p.onHeaderClick.call(c,c.p.gridstate,a)))}):"hidden"===c.p.gridstate&&$(e,"#gbox_"+$.jgrid.jqID(c.p.id)).slideDown("fast",function(){b--,0===b&&($("span",f).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),hg&&(c.p.datatype=ob,H(),hg=!1),c.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(c.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(c.p.id)).show(),c._trigger("jqGridHeaderClick",[c.p.gridstate,a]),d&&(hg||c.p.onHeaderClick.call(c,c.p.gridstate,a)))}),!1}),hg&&(c.p.datatype="local",$(".ui-jqgrid-titlebar-close",f.cDiv).trigger("click")))}$(f.hDiv).mousemove(function(a){return f.resizing?(f.dragMove(a),!1):void 0}),$(".ui-jqgrid-labels",f.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+c.p.id,function(){return f.resizing?(f.dragEnd(),!1):!0}),c._trigger=n,c._bind=o,c.formatCol=r,c.sortData=M,c.updatepager=E,c.refreshIndex=A,c.setHeadCheckBox=I,c.constructTr=B,c.formatter=function(a,b,c,d,e){return t(a,b,c,d,e)},$.extend(f,{populate:H,emptyRows:z,beginReq:F,endReq:G}),c.grid=f,c.addJSONData=function(a){C(a,c.grid.bDiv)},c.grid.cols=c.rows[0].cells,c._trigger("jqGridInitGrid"),$.isFunction(c.p.onInitGrid)&&c.p.onInitGrid.call(c),H(),c.p.hiddengrid=!1,$(c).jqGrid("bindKeys")};if($.jgrid.extend({getGridParam:function(a){var b=this[0];if(b&&b.grid)return a?void 0!==b.p[a]?b.p[a]:null:b.p},setGridParam:function(a){return this.each(function(){this.grid&&"object"==typeof a&&$.extend(!0,this.p,a)})},getGridRowById:function(a){var b;return this.each(function(){try{b=this.rows.namedItem(a)}catch(c){b=$(this.grid.bDiv).find("#"+$.jgrid.jqID(a))}}),b},getDataIDs:function(){var a,b=[],c=0,d=0;return this.each(function(){if(a=this.rows.length,a&&a>0)for(;a>c;)$(this.rows[c]).hasClass("jqgrow")&&(b[d]=this.rows[c].id,d++),c++}),b},getCheckRows:function(){var a=[];return this.each(function(){for(var b=this,c=b.p.selarrrow,d=0;d<c.length;d++)a.push(b.p.data[b.p._index[c[d]]])}),a},setCheckDisabled:function(a,b){return this.each(function(){var c,d,e=this;if($.isArray(a))for(i=0;i<a.length;i++)c=a[i],d=$("#"+c,e),d[0]||"number"!=typeof c||(d=$($(e).find("tr.jqgrow")[c])),d.find("input[type='checkbox']").attr("disabled",b),b?d.addClass("ui-state-disabled"):d.removeClass("ui-state-disabled");else c=a,d=$("#"+c,e),d[0]||"number"!=typeof c||(d=$($(e).find("tr.jqgrow")[c])),d.find("input[type='checkbox']").attr("disabled",b),b?d.addClass("ui-state-disabled"):d.removeClass("ui-state-disabled")})},setAllCheckDisabled:function(a){return this.each(function(){$("#gview_"+this.id).find("input[type='checkbox']").attr("disabled",a),a?$("#gview_"+this.id).find(".jqgrow").addClass("ui-state-disabled"):$("#gview_"+this.id).find(".jqgrow").removeClass("ui-state-disabled")})},setAllCheckRows:function(a){return this.each(function(){var b=this;return a!==!1&&a!==!0&&(a=!$("#cb_"+b.id).attr("checked")),$("#cb_"+b.id).attr("checked",a).trigger("click").attr("checked",a),this})},setCheckRows:function(a,b){return this.each(function(){var c,d,e,f=this;for(i=0;i<a.length;i++)d=a[i],$("#"+d,f)[0]||"number"!=typeof d||(d=$(f).find("tr.jqgrow")[d].id),e=$.inArray(d,f.p.selarrrow),c=b===!0||b===!1?b:-1===e?!0:!1,c===!1&&-1!==e?$(f).jqGrid("setSelection",d):c===!0&&-1===e&&$(f).jqGrid("setSelection",d)})},getSelection:function(){var a={};return this.each(function(){var b=this;a=$(b).jqGrid("getRowData",b.p.selrow)}),a},setSelection:function(a,b,c){return this.each(function(){function d(a){var b=$(m.grid.bDiv)[0].clientHeight,c=$(m.grid.bDiv)[0].scrollTop,d=$(m.rows[a]).position().top,e=m.rows[a].clientHeight;d+e>=b+c?$(m.grid.bDiv)[0].scrollTop=d-(b+c)+e+c:b+c>d&&c>d&&($(m.grid.bDiv)[0].scrollTop=d)}function e(a){var b=!1,c=$(m).jqGrid("getFullTreeNode",a);return c.splice(0,1),$(c).each(function(a){return j=$.inArray(c[a][m.p.keyName]+"",m.p.selarrrow),-1!==j?(b=!0,!1):void 0}),b}function f(a){var b,c,d=m.p._index[m.p.selrow],f=m.p.data[d];m.p.checkChildren&&(c=$(m).jqGrid("getFullTreeNode",f),c.splice(0,1),$(c).each(function(d){b=c[d][m.p.keyName]+"",j=$.inArray(b,m.p.selarrrow),-1===j&&a?($($(m).jqGrid("getGridRowById",b)).addClass("ui-state-highlight").attr("aria-selected","true"),m.p.selarrrow.push(b)):-1===j||a||($($(m).jqGrid("getGridRowById",b)).removeClass("ui-state-highlight").attr({"aria-selected":"false"}),m.p.selarrrow.splice(j,1)),$("#jqg_"+$.jgrid.jqID(m.p.id)+"_"+$.jgrid.jqID(b)).attr("checked",a)})),m.p.checkParent&&(c=$(m).jqGrid("getNodeAncestors",f),$(c).each(function(d){return!a&&e(c[d])?!1:(b=c[d][m.p.keyName]+"",j=$.inArray(b,m.p.selarrrow),-1===j&&a&&($("#jqg_"+$.jgrid.jqID(m.p.id)+"_"+$.jgrid.jqID(b)).attr("checked",a),m.p.selarrrow.push(b)),void(-1===j||a||($("#jqg_"+$.jgrid.jqID(m.p.id)+"_"+$.jgrid.jqID(b)).attr("checked",a),m.p.selarrrow.splice(j,1))))}))}var g,h,i,j,k,l,m=this;void 0!==a&&("object"===$.type(a)&&(a=a[m.p.keyName]),b=b===!1?!1:!0,h=$(m).jqGrid("getGridRowById",a),h||"number"!=typeof a||(h=$(m).find("tr.jqgrow")[a],a=h.id),!h||!h.className||h.className.indexOf("ui-state-disabled")>-1||(m.p.scrollrows===!0&&(i=$(m).jqGrid("getGridRowById",a).rowIndex,i>=0&&d(i)),m.p.frozenColumns===!0&&(l=m.p.id+"_frozen"),m.p.multiselect?(m.setHeadCheckBox(!1),m.p.selrow=h.id,j=$.inArray(m.p.selrow,m.p.selarrrow),-1===j?($(h).addClass("ui-state-highlight").attr("aria-selected","true"),g=!0,m.p.selarrrow.push(m.p.selrow),m.p.treeGrid&&f(g)):($(h).removeClass("ui-state-highlight").attr("aria-selected","false"),g=!1,m.p.selarrrow.splice(j,1),m.p.treeGrid&&f(g),m.p.selarrrow.length>0&&(m.p.selrow=m.p.selarrrow[m.p.selarrrow.length-1]),k=m.p.selarrrow[0],m.p.selrow=void 0===k?null:k),$("#jqg_"+$.jgrid.jqID(m.p.id)+"_"+$.jgrid.jqID(h.id))[m.p.useProp?"prop":"attr"]("checked",g),l&&(-1===j?$("#"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(l)).addClass("ui-state-highlight"):$("#"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(l)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(m.p.id)+"_"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(l))[m.p.useProp?"prop":"attr"]("checked",g)),b&&(m._trigger("jqGridSelectRow",[h.id,g,c]),m.p.onSelectRow&&m.p.onSelectRow.call(m,h.id,g,c))):(m.p.selrow!==h.id?($($(m).jqGrid("getGridRowById",m.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),$(h).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),l&&($("#"+$.jgrid.jqID(m.p.selrow),"#"+$.jgrid.jqID(l)).removeClass("ui-state-highlight"),$("#"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(l)).addClass("ui-state-highlight")),g=!0):g=!1,m.p.selrow=h.id,b&&(m._trigger("jqGridSelectRow",[h.id,g,c]),m.p.onSelectRow&&m.p.onSelectRow.call(m,h.id,g,c),g&&(m._trigger("jqGridChangeRow",[h.id,c]),m.p.onChangeRow&&m.p.onChangeRow.call(m,h.id,c))))))})},resetSelection:function(a){return this.each(function(){var b,c,d=this;d.p.frozenColumns===!0&&(c=d.p.id+"_frozen"),void 0!==a?(b=a===d.p.selrow?d.p.selrow:a,$("#"+$.jgrid.jqID(d.p.id)+" tbody:first tr#"+$.jgrid.jqID(b)).removeClass("ui-state-highlight").attr("aria-selected","false"),c&&$("#"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(c)).removeClass("ui-state-highlight"),d.p.multiselect&&($("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(d.p.id))[d.p.useProp?"prop":"attr"]("checked",!1),c&&$("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(c))[d.p.useProp?"prop":"attr"]("checked",!1),d.setHeadCheckBox(!1)),b=null):d.p.multiselect?($(d.p.selarrrow).each(function(a,b){$($(d).jqGrid("getGridRowById",b)).removeClass("ui-state-highlight").attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(b))[d.p.useProp?"prop":"attr"]("checked",!1),c&&($("#"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(c)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(c))[d.p.useProp?"prop":"attr"]("checked",!1))}),d.setHeadCheckBox(!1),d.p.selarrrow=[]):d.p.selrow&&($("#"+$.jgrid.jqID(d.p.id)+" tbody:first tr#"+$.jgrid.jqID(d.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),c&&$("#"+$.jgrid.jqID(d.p.selrow),"#"+$.jgrid.jqID(c)).removeClass("ui-state-highlight"),d.p.selrow=null),d.p.cellEdit===!0&&parseInt(d.p.iCol,10)>=0&&parseInt(d.p.iRow,10)>=0&&($("td:eq("+d.p.iCol+")",d.rows[d.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(d.rows[d.p.iRow]).removeClass("selected-row ui-state-hover")),d.p.savedRow=[]})},getRowid:function(a){var b;return void 0===a?b:(this.each(function(){var c=this;return b=a[c.p.keyName],!1}),b)},getKeyName:function(){var a;return this.each(function(){var b=this;return a=b.p.keyName,!1}),a},getRowData:function(a){var b,c,d={},e=!1;return this.each(function(){var f,g=this;return void 0===a?(e=!0,b=[],c=g.rows.length,b=g.p.data,!1):(f=$(g).jqGrid("getGridRowById",a))?(c=2,d=g.p.data[g.p._index[a]],!1):d}),b||d},delRowData:function(a){var b,c,d=!1;return this.each(function(){var e=this;if("object"===$.type(a)&&(a=a[e.p.keyName]),b=$(e).jqGrid("getGridRowById",a),!b)return!1;if($(b).remove(),e.p.records--,e.p.reccount--,e.updatepager(!0,!1),d=!0,e.p.multiselect&&(c=$.inArray(a,e.p.selarrrow),-1!==c&&e.p.selarrrow.splice(c,1)),e.p.selrow=e.p.multiselect&&e.p.selarrrow.length>0?e.p.selarrrow[e.p.selarrrow.length-1]:null,"local"===e.p.datatype){var f=$.jgrid.stripPref(e.p.idPrefix,a),g=e.p._index[f];void 0!==g&&(e.p.data.splice(g,1),e.refreshIndex())}if(e.p.altRows===!0&&d){var h=e.p.altclass;$(e.rows).each(function(a){a%2===1?$(this).addClass(h):$(this).removeClass(h)})}}),d},setRowData:function(a,b,c){var d,e,f=!0;return this.each(function(){if(!this.grid)return!1;var g,h,i=this,j=typeof c,k={};if("object"==typeof a&&(c=b,b=a,a=b[i.p.keyName]),h=$(this).jqGrid("getGridRowById",a),!h)return!1;if(b)try{if($(this.p.colModel).each(function(c){d=this.name;var f=$.jgrid.getAccessor(b,d);void 0!==f&&(k[d]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(i,f,this):f,g=i.formatter(a,f,c,b,"edit"),e=this.title?{title:$.jgrid.stripHtml(g)}:{},i.p.treeGrid===!0&&d===i.p.ExpandColumn?$("td[role='gridcell']:eq("+c+") > span:first",h).html(g).attr(e):$("td[role='gridcell']:eq("+c+")",h).html(g).attr(e))}),"local"===i.p.datatype){var l,m=$.jgrid.stripPref(i.p.idPrefix,a),n=i.p._index[m];if(i.p.treeGrid)for(l in i.p.treeReader)i.p.treeReader.hasOwnProperty(l)&&delete k[i.p.treeReader[l]];void 0!==n&&(i.p.data[n]=$.extend(!1,i.p.data[n],b)),k=null}}catch(o){f=!1}f&&("string"===j?$(h).addClass(c):"object"===j&&$(h).css(c),i._trigger("jqGridAfterGridComplete"))}),f},addRowData:function(a,b,c,d){var e=this[0];"object"==typeof a&&(d=c,c=b,b=a,a=void 0),c||(c="last");var f,g,h,i,j,k,l,m,n,o,p,q,r=!1,s="";return b&&($.isArray(b)?(l=!0,m=a||e.p.keyName):(b=[b],l=!1),this.each(function(){var e=this,t=b.length;i=e.p.rownumbers===!0?1:0,h=e.p.multiselect===!0?1:0,l||(void 0!==a?a=String(a):(a=$.jgrid.randId(),m=e.p.keyName,void 0!==b[0][m]?a=b[0][m]:b[0][m]=a)),n=e.p.altclass;for(var u=0,v="",w={},x=$.isFunction(e.p.afterInsertRow)?!0:!1;t>u;){if(o=b[u],g=[],l){try{a=o[m],void 0===a&&(a=$.jgrid.randId(),o[m]=a)}catch(y){a=$.jgrid.randId()}v=e.p.altRows===!0&&(e.rows.length-1)%2===0?n:""}for(q=a,a=e.p.idPrefix+a,i&&(s=e.formatCol(0,1,"",null,a,!0),g[g.length]='<td role="gridcell" class="jqgrid-rownum" '+s+">0</td>"),h&&(k='<input role="checkbox" type="checkbox" id="jqg_'+e.p.id+"_"+a+'" class="cbox"/>',s=e.formatCol(i,1,"",null,a,!0),g[g.length]='<td role="gridcell" '+s+">"+k+"</td>"),B=h+i;B<e.p.colModel.length;B++)p=e.p.colModel[B],f=p.name,w[f]=o[f],k=e.formatter(a,$.jgrid.getAccessor(o,f),B,o),s=e.formatCol(B,1,k,o,a,w),g[g.length]='<td role="gridcell" '+s+">"+k+"</td>";if(g.unshift(e.constructTr(a,!1,v,w,o,!1)),g[g.length]="</tr>",0===e.rows.length)$("table:first",e.grid.bDiv).append(g.join(""));else switch(c){case"last":$(e.rows[e.rows.length-1]).after(g.join("")),j=e.rows.length-1;break;case"first":$(e.rows[0]).after(g.join("")),j=1;break;case"after":j=$(e).jqGrid("getGridRowById",d),j&&($(j).after(g.join("")),j=j.rowIndex+1);break;case"before":j=$(e).jqGrid("getGridRowById",d),j&&($(j).before(g.join("")),j=j.rowIndex-1)}if(e.p.records++,e.p.reccount++,e._trigger("jqGridAfterInsertRow",[a,o,o]),x&&e.p.afterInsertRow.call(e,a,o,o),u++,"local"===e.p.datatype){if(w[e.p.keyName]=q,e.p._index[q]=e.p.data.length,c&&d){for(var z=e.p._index[d],A=[],B=0;B<e.p.data.length;B++)"before"==c&&z==B&&A.push(o),A.push(e.p.data[B]),"after"==c&&z==B&&A.push(o);e.p.data=A,e.refreshIndex()}else e.p.data.push(o);w={}}"after"==c&&(d=q)}e.p.altRows!==!0||l||("last"===c?(e.rows.length-1)%2===1&&$(e.rows[e.rows.length-1]).addClass(n):$(e.rows).each(function(a){a%2===1?$(this).addClass(n):$(this).removeClass(n)})),e.updatepager(!0,!0),r=!0})),r},footerData:function(a,b,c){function d(a){var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}var e,f,g=!1,h={};return void 0===a&&(a="get"),"boolean"!=typeof c&&(c=!0),a=a.toLowerCase(),this.each(function(){var i,j=this;return j.grid&&j.p.footerrow?"set"===a&&d(b)?!1:(g=!0,void $(this.p.colModel).each(function(d){e=this.name,"set"===a?void 0!==b[e]&&(i=c?j.formatter("",b[e],d,b,"edit"):b[e],f=this.title?{title:$.jgrid.stripHtml(i)}:{},$("tr.footrow td:eq("+d+")",j.grid.sDiv).html(i).attr(f),g=!0):"get"===a&&(h[e]=$("tr.footrow td:eq("+d+")",j.grid.sDiv).html())})):!1}),"get"===a?h:g},showHideCol:function(a,b){return this.each(function(){var c,d=this,e=!1,f=$.jgrid.cell_width?0:d.p.cellLayout;if(d.grid){"string"==typeof a&&(a=[a]),b="none"!==b?"":"none";var g=""===b?!0:!1,h=d.p.groupHeader&&("object"==typeof d.p.groupHeader||$.isFunction(d.p.groupHeader));h&&$(d).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(h){if(-1!==$.inArray(this.name,a)&&this.hidden===g){if(d.p.frozenColumns===!0&&this.frozen===!0)return!0;$("tr[role=rowheader]",d.grid.hDiv).each(function(){$(this.cells[h]).css("display",b)}),$(d.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[h]).css("display",b)}),d.p.footerrow&&$("tr.footrow td:eq("+h+")",d.grid.sDiv).css("display",b),c=parseInt(this.width,10),"none"===b?d.p.tblwidth-=c+f:d.p.tblwidth+=c+f,this.hidden=!g,e=!0,d._trigger("jqGridShowHideCol",[g,this.name,h])}}),e===!0&&(d.p.shrinkToFit!==!0||isNaN(d.p.height)||(d.p.tblwidth+=parseInt(d.p.scrollOffset,10)),$(d).jqGrid("setGridWidth",d.p.shrinkToFit===!0?d.p.tblwidth:d.p.width)),h&&$(d).jqGrid("setGroupHeaders",d.p.groupHeader)}})},hideCol:function(a){return this.each(function(){$(this).jqGrid("showHideCol",a,"none")})},showCol:function(a){return this.each(function(){$(this).jqGrid("showHideCol",a,"")})},remapColumns:function(a,b,c){function d(b){var c;c=b.length?$.makeArray(b):$.extend({},b),$.each(a,function(a){b[a]=c[this]})}function e(b,c){$(">tr"+(c||""),b).each(function(){var b=this,c=$.makeArray(b.cells);$.each(a,function(){var a=c[this];a&&b.appendChild(a)})})}var f=this.get(0);d(f.p.colModel),d(f.grid.headers),e($("thead:first",f.grid.hDiv),c&&":not(.ui-jqgrid-labels)"),b&&e($("#"+$.jgrid.jqID(f.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),f.p.footerrow&&e($("tbody:first",f.grid.sDiv)),f.p.remapColumns&&(f.p.remapColumns.length?d(f.p.remapColumns):f.p.remapColumns=$.makeArray(a)),f.p.lastsort=$.inArray(f.p.lastsort,a),f.p.treeGrid&&(f.p.expColInd=$.inArray(f.p.expColInd,a)),f._trigger("jqGridRemapColumns",[a,b,c])},setGridWidth:function(a,b){return this.each(function(){if(this.grid){var c,d,e,f,g=this,h=0,i=$.jgrid.cell_width?0:g.p.cellLayout,j=0,k=!1,l=g.p.scrollOffset,m=0;if("boolean"!=typeof b&&(b=g.p.shrinkToFit),!isNaN(a)){if(a=parseInt(a,10),g.grid.width=g.p.width=a,$("#gbox_"+$.jgrid.jqID(g.p.id)).css("width",a+"px"),$("#gview_"+$.jgrid.jqID(g.p.id)).css("width",a+"px"),$(g.grid.bDiv).css("width",a+"px"),$(g.grid.hDiv).css("width",a+"px"),g.p.pager&&$(g.p.pager).css("width",a+"px"),g.p.toppager&&$(g.p.toppager).css("width",a+"px"),g.p.toolbar[0]===!0&&($("#t_"+g.id).css("width",a+"px"),"both"===g.p.toolbar[1]&&$("#tb_"+g.id).css("width",a+"px")),g.p.footerrow&&$(g.grid.sDiv).css("width",a+"px"),b===!1&&g.p.forceFit===!0&&(g.p.forceFit=!1),b===!0){if($.each(g.p.colModel,function(){this.hidden===!1&&(c=this.widthOrg,h+=c+i,this.fixed?m+=c+i:j++)}),0===j)return;g.p.tblwidth=h,e=a-i*j-m,isNaN(g.p.height)||($(g.grid.bDiv)[0].clientHeight<$(g.grid.bDiv)[0].scrollHeight||1===g.rows.length)&&(k=!0,e-=l),h=0;var n=g.grid.cols.length>0;if($.each(g.p.colModel,function(a){if(this.hidden===!1&&!this.fixed){if(c=this.widthOrg,c=Math.round(e*c/(g.p.tblwidth-i*j-m)),0>c)return;this.width=c,h+=c,g.grid.headers[a].width=c,g.grid.headers[a].el.style.width=c+"px",g.p.footerrow&&(g.grid.footers[a].style.width=c+"px"),n&&(g.grid.cols[a].style.width=c+"px"),d=a}}),!d)return;if(f=0,k?a-m-(h+i*j)!==l&&(f=a-m-(h+i*j)-l):1!==Math.abs(a-m-(h+i*j))&&(f=a-m-(h+i*j)),g.p.colModel[d].width+=f-1,g.p.tblwidth=h+(f-1)+i*j+m,g.p.tblwidth>a){var o=g.p.tblwidth-parseInt(a,10);g.p.tblwidth=a,c=g.p.colModel[d].width=g.p.colModel[d].width-o}else c=g.p.colModel[d].width;g.grid.headers[d].width=c,g.grid.headers[d].el.style.width=c+"px",n&&(g.grid.cols[d].style.width=c+"px"),g.p.footerrow&&(g.grid.footers[d].style.width=c+"px")}g.p.tblwidth&&($("table:first",g.grid.bDiv).css("width",g.p.tblwidth+"px"),$("table:first",g.grid.hDiv).css("width",g.p.tblwidth+"px"),g.grid.hDiv.scrollLeft=g.grid.bDiv.scrollLeft,g.p.footerrow&&$("table:first",g.grid.sDiv).css("width",g.p.tblwidth+"px"))}}})},setGridHeight:function(a){return this.each(function(){var b=this;if(b.grid){var c=$("#gbox_"+b.id);a-=c.outerHeight()-b.p.height;var d=$(b.grid.bDiv);d.css({height:a+(isNaN(a)?"":"px")}),b.p.frozenColumns===!0&&$("#"+$.jgrid.jqID(b.p.id)+"_frozen").parent().height(d.height()-16),b.p.height=a,b.p.scroll&&b.grid.populateVisible()}})},setCaption:function(a){return this.each(function(){this.p.caption=a,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(a),$(this.grid.cDiv).show()})},setLabel:function(a,b,c,d){return this.each(function(){var e=this,f=-1;if(e.grid&&void 0!==a&&($(e.p.colModel).each(function(b){return this.name===a?(f=b,!1):void 0}),f>=0)){var g=$("tr.ui-jqgrid-labels th:eq("+f+")",e.grid.hDiv);
if(b){var h=$(".s-ico",g);$("[id^=jqgh_]",g).empty().html(b).append(h),e.p.colModel[f].label=b}c&&("string"==typeof c?$(g).addClass(c):$(g).css(c)),"object"==typeof d&&$(g).attr(d)}})},setCell:function(a,b,c,d,e,f){return this.each(function(){var g,h,i=this,j=-1;if(i.grid&&(isNaN(b)?$(i.p.colModel).each(function(a){return this.name===b?(j=a,!1):void 0}):j=parseInt(b,10),j>=0)){var k=$(i).jqGrid("getGridRowById",a);if(k){var l=$("td:eq("+j+")",k);if((""!==c||f===!0)&&(g=i.formatter(a,c,j,k,"edit"),h=i.p.colModel[j].title?{title:$.jgrid.stripHtml(g)}:{},i.p.treeGrid&&$(".tree-wrap",$(l)).length>0?$("span",$(l)).html(g).attr(h):$(l).html(g).attr(h),"local"===i.p.datatype)){var m,n=i.p.colModel[j];c=n.formatter&&"string"==typeof n.formatter&&"date"===n.formatter?$.unformat.date.call(i,c,n):c,m=i.p._index[$.jgrid.stripPref(i.p.idPrefix,a)],void 0!==m&&(i.p.data[m][n.name]=c)}"string"==typeof d?$(l).addClass(d):d&&$(l).css(d),"object"==typeof e&&$(l).attr(e)}}})},getCell:function(a,b){var c=!1;return this.each(function(){var d=this,e=-1;if(d.grid&&(isNaN(b)?$(d.p.colModel).each(function(a){return this.name===b?(e=a,!1):void 0}):e=parseInt(b,10),e>=0)){var f=$(d).jqGrid("getGridRowById",a);if(f)try{c=$.unformat.call(d,$("td:eq("+e+")",f),{rowId:f.id,colModel:d.p.colModel[e]},e,!0)}catch(g){c=$.jgrid.htmlDecode($("td:eq("+e+")",f).html())}}}),c},getCol:function(a,b,c){var d,e,f,g,h=[],i=0;return b="boolean"!=typeof b?!1:b,void 0===c&&(c=!1),this.each(function(){var j=this,k=-1;if(j.grid&&(isNaN(a)?$(j.p.colModel).each(function(b){return this.name===a?(k=b,!1):void 0}):k=parseInt(a,10),k>=0)){var l=j.rows.length,m=0,n=0;if(l&&l>0){for(;l>m;){if($(j.rows[m]).hasClass("jqgrow")){try{d=$.unformat.call(j,$(j.rows[m].cells[k]),{rowId:j.rows[m].id,colModel:j.p.colModel[k]},k,!0)}catch(o){d=$.jgrid.htmlDecode(j.rows[m].cells[k].innerHTML)}c?(g=parseFloat(d),isNaN(g)||(i+=g,void 0===f&&(f=e=g),e=Math.min(e,g),f=Math.max(f,g),n++)):h.push(b?{id:j.rows[m].id,value:d}:d)}m++}if(c)switch(c.toLowerCase()){case"sum":h=i;break;case"avg":h=i/n;break;case"count":h=l-1;break;case"min":h=e;break;case"max":h=f}}}}),h},clearGridData:function(a){return this.each(function(){var b=this;if(b.grid){if("boolean"!=typeof a&&(a=!1),b.p.deepempty)$("#"+$.jgrid.jqID(b.p.id)+" tbody:first tr:gt(0)").remove();else{var c=$("#"+$.jgrid.jqID(b.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(b.p.id)+" tbody:first").empty().append(c)}b.p.footerrow&&a&&$(".ui-jqgrid-ftable td",b.grid.sDiv).html("&#160;"),b.p.selrow=null,b.p.selarrrow=[],b.p.savedRow=[],b.p.records=0,b.p.page=1,b.p.lastpage=0,b.p.reccount=0,b.p.data=[],b.p._index={},b.updatepager(!0,!1)}})},getInd:function(a,b){var c,d=!1;return this.each(function(){c=$(this).jqGrid("getGridRowById",a),c&&(d=b===!0?c:c.rowIndex)}),d},bindKeys:function(a){var b=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},a||{});return this.each(function(){var a=this;$("body").is("[role]")||$("body").attr("role","application"),a.p.scrollrows=b.scrollingRows,$(a).keydown(function(c){var d,e,f,g=$(a).find("tr[tabindex=0]")[0],h=a.p.treeReader.expanded_field;if(g)if(f=a.p._index[$.jgrid.stripPref(a.p.idPrefix,g.id)],37===c.keyCode||38===c.keyCode||39===c.keyCode||40===c.keyCode){if(38===c.keyCode){if(e=g.previousSibling,d="",e)if($(e).is(":hidden")){for(;e;)if(e=e.previousSibling,!$(e).is(":hidden")&&$(e).hasClass("jqgrow")){d=e.id;break}}else d=e.id;$(a).jqGrid("setSelection",d,!0,c),c.preventDefault()}if(40===c.keyCode){if(e=g.nextSibling,d="",e)if($(e).is(":hidden")){for(;e;)if(e=e.nextSibling,!$(e).is(":hidden")&&$(e).hasClass("jqgrow")){d=e.id;break}}else d=e.id;$(a).jqGrid("setSelection",d,!0,c),c.preventDefault()}37===c.keyCode&&(a.p.treeGrid&&a.p.data[f][h]&&$(g).find("div.treeclick").trigger("click"),a._trigger("jqGridKeyLeft",[a.p.selrow]),$.isFunction(b.onLeftKey)&&b.onLeftKey.call(a,a.p.selrow)),39===c.keyCode&&(a.p.treeGrid&&!a.p.data[f][h]&&$(g).find("div.treeclick").trigger("click"),a._trigger("jqGridKeyRight",[a.p.selrow]),$.isFunction(b.onRightKey)&&b.onRightKey.call(a,a.p.selrow))}else 13===c.keyCode?(a._trigger("jqGridKeyEnter",[a.p.selrow]),$.isFunction(b.onEnter)&&b.onEnter.call(a,a.p.selrow)):32===c.keyCode&&(a._trigger("jqGridKeySpace",[a.p.selrow]),$.isFunction(b.onSpace)&&b.onSpace.call(a,a.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(a){var b,c=!1;return this.each(function(){void 0!==a&&(b=this.p._index[$.jgrid.stripPref(this.p.idPrefix,a)],b>=0&&(c=this.p.data[b]))}),c}}),$.jgrid.extend({getColProp:function(a){var b={},c=this[0];if(!c.grid)return!1;var d,e=c.p.colModel;for(d=0;d<e.length;d++)if(e[d].name===a){b=e[d];break}return b},setColProp:function(a,b){return this.each(function(){if(this.grid&&b){var c,d=this.p.colModel;for(c=0;c<d.length;c++)if(d[c].name===a){$.extend(!0,this.p.colModel[c],b);break}}})},sortGrid:function(a,b,c){return this.each(function(){var d,e=this,f=-1,g=!1;if(e.grid){for(a||(a=e.p.sortname),d=0;d<e.p.colModel.length;d++)if(e.p.colModel[d].index===a||e.p.colModel[d].name===a){f=d,e.p.frozenColumns===!0&&e.p.colModel[d].frozen===!0&&(g=e.grid.fhDiv.find("#"+e.p.id+"_"+a));break}if(-1!==f){var h=e.p.colModel[f].sortable;"boolean"!=typeof h&&(h=!0),"boolean"!=typeof b&&(b=!1),h&&e.sortData("jqgh_"+e.p.id+"_"+a,f,b,c,g)}}})},clearBeforeUnload:function(){return this.each(function(){var a=this.grid;a.emptyRows.call(this,!0,!0),$(document).unbind("mouseup.jqGrid"+this.p.id),$(a.hDiv).unbind("mousemove"),$(this).unbind(),a.dragEnd=null,a.dragMove=null,a.dragStart=null,a.emptyRows=null,a.populate=null,a.populateVisible=null,a.scrollGrid=null,a.selectionPreserver=null,a.bDiv=null,a.cDiv=null,a.hDiv=null,a.cols=null;var b,c=a.headers.length;for(b=0;c>b;b++)a.headers[b].el=null;this.formatCol=null,this.sortData=null,this.updatepager=null,this.refreshIndex=null,this.setHeadCheckBox=null,this.constructTr=null,this.formatter=null,this.addJSONData=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&$(this.p.pager).remove();try{$(this).jqGrid("clearBeforeUnload"),$("#gbox_"+$.jgrid.jqID(this.id)).remove()}catch(_){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var a={id:$(this).attr("id"),cl:$(this).attr("class")};this.p.pager&&$(this.p.pager).empty().removeClass("ui-jqgrid-pager");var b=document.createElement("table");$(b).attr({id:a.id}),b.className=a.cl;var c=$.jgrid.jqID(this.id);$(b).removeClass("ui-jqgrid-btable"),1===$(this.p.pager).parents("#gbox_"+c).length?($(b).insertBefore("#gbox_"+c).show(),$(this.p.pager).insertBefore("#gbox_"+c)):$(b).insertBefore("#gbox_"+c).show(),$(this).jqGrid("clearBeforeUnload"),$("#gbox_"+c).remove()}})},setGridState:function(a){return this.each(function(){if(this.grid){var b=this;"hidden"===a?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(b.p.id)).slideUp("fast"),b.p.pager&&$(b.p.pager).slideUp("fast"),b.p.toppager&&$(b.p.toppager).slideUp("fast"),b.p.toolbar[0]===!0&&("both"===b.p.toolbar[1]&&$(b.grid.ubDiv).slideUp("fast"),$(b.grid.uDiv).slideUp("fast")),b.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(b.p.id)).slideUp("fast"),$(".ui-jqgrid-titlebar-close span",b.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),b.p.gridstate="hidden"):"visible"===a&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(b.p.id)).slideDown("fast"),b.p.pager&&$(b.p.pager).slideDown("fast"),b.p.toppager&&$(b.p.toppager).slideDown("fast"),b.p.toolbar[0]===!0&&("both"===b.p.toolbar[1]&&$(b.grid.ubDiv).slideDown("fast"),$(b.grid.uDiv).slideDown("fast")),b.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(b.p.id)).slideDown("fast"),$(".ui-jqgrid-titlebar-close span",b.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),b.p.gridstate="visible")}})},filterToolbar:function(a){return a=$.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,operandTitle:"Click to select search operation.",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},$.jgrid.search,a||{}),this.each(function(){var b=this;if(!this.ftoolbar){var c,d=function(){var c,d,e,f={},g=0,h={};$.each(b.p.colModel,function(){var i=$("#gs_"+$.jgrid.jqID(this.name),this.frozen===!0&&b.p.frozenColumns===!0?b.grid.fhDiv:b.grid.hDiv);if(d=this.index||this.name,e=a.searchOperators?i.parent().prev().children("a").attr("soper")||a.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":a.defaultSearch,c="custom"===this.stype&&$.isFunction(this.searchoptions.custom_value)&&i.length>0&&"SPAN"===i[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(b,i.children(".customelement:first"),"get"):i.val(),c||"nu"===e||"nn"===e)f[d]=c,h[d]=e,g++;else try{delete b.p.postData[d]}catch(j){}});var i=g>0?!0:!1;if(a.stringResult===!0||"local"===b.p.datatype){var j='{"groupOp":"'+a.groupOp+'","rules":[',k=0;$.each(f,function(a,b){k>0&&(j+=","),j+='{"field":"'+a+'",',j+='"op":"'+h[a]+'",',b+="",j+='"data":"'+b.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',k++}),j+="]}",$.extend(b.p.postData,{filters:j}),$.each(["searchField","searchString","searchOper"],function(a,c){b.p.postData.hasOwnProperty(c)&&delete b.p.postData[c]})}else $.extend(b.p.postData,f);var l;b.p.searchurl&&(l=b.p.url,$(b).jqGrid("setGridParam",{url:b.p.searchurl}));var m="stop"===b._trigger("jqGridToolbarBeforeSearch")?!0:!1;!m&&$.isFunction(a.beforeSearch)&&(m=a.beforeSearch.call(b)),m||$(b).jqGrid("setGridParam",{search:i}).trigger("reloadGrid",[{page:1}]),l&&$(b).jqGrid("setGridParam",{url:l}),b._trigger("jqGridToolbarAfterSearch"),$.isFunction(a.afterSearch)&&a.afterSearch.call(b)},e=function(c){var d,e={},f=0;c="boolean"!=typeof c?!0:c,$.each(b.p.colModel,function(){var a,c=$("#gs_"+$.jgrid.jqID(this.name),this.frozen===!0&&b.p.frozenColumns===!0?b.grid.fhDiv:b.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(a=this.searchoptions.defaultValue),d=this.index||this.name,this.stype){case"select":if(c.find("option").each(function(b){return 0===b&&(this.selected=!0),$(this).val()===a?(this.selected=!0,!1):void 0}),void 0!==a)e[d]=a,f++;else try{delete b.p.postData[d]}catch(g){}break;case"text":if(c.val(a),void 0!==a)e[d]=a,f++;else try{delete b.p.postData[d]}catch(h){}break;case"custom":$.isFunction(this.searchoptions.custom_value)&&c.length>0&&"SPAN"===c[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(b,c.children(".customelement:first"),"set",a)}});var g=f>0?!0:!1;if(a.stringResult===!0||"local"===b.p.datatype){var h='{"groupOp":"'+a.groupOp+'","rules":[',i=0;$.each(e,function(a,b){i>0&&(h+=","),h+='{"field":"'+a+'",',h+='"op":"eq",',b+="",h+='"data":"'+b.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',i++}),h+="]}",$.extend(b.p.postData,{filters:h}),$.each(["searchField","searchString","searchOper"],function(a,c){b.p.postData.hasOwnProperty(c)&&delete b.p.postData[c]})}else $.extend(b.p.postData,e);var j;b.p.searchurl&&(j=b.p.url,$(b).jqGrid("setGridParam",{url:b.p.searchurl}));var k="stop"===b._trigger("jqGridToolbarBeforeClear")?!0:!1;!k&&$.isFunction(a.beforeClear)&&(k=a.beforeClear.call(b)),k||c&&$(b).jqGrid("setGridParam",{search:g}).trigger("reloadGrid",[{page:1}]),j&&$(b).jqGrid("setGridParam",{url:j}),b._trigger("jqGridToolbarAfterClear"),$.isFunction(a.afterClear)&&a.afterClear()},f=function(){var a=$("tr.ui-search-toolbar",b.grid.hDiv),c=b.p.frozenColumns===!0?$("tr.ui-search-toolbar",b.grid.fhDiv):!1;"none"===a.css("display")?(a.show(),c&&c.show()):(a.hide(),c&&c.hide())},g=function(c,e,f){$("#sopt_menu").remove(),e=parseInt(e,10),f=parseInt(f,10)+18;for(var g,h,i=$(".ui-jqgrid-view").css("font-size")||"11px",j='<ul id="sopt_menu" class="ui-search-menu" role="menu" tabindex="0" style="font-size:'+i+";left:"+e+"px;top:"+f+'px;">',k=$(c).attr("soper"),l=[],m=0,n=$(c).attr("colname"),o=b.p.colModel.length;o>m&&b.p.colModel[m].name!==n;)m++;var p=b.p.colModel[m],q=$.extend({},p.searchoptions);for(q.sopt||(q.sopt=[],q.sopt[0]="select"===p.stype?"eq":a.defaultSearch),$.each(a.odata,function(){l.push(this.oper)}),m=0;m<q.sopt.length;m++)h=$.inArray(q.sopt[m],l),-1!==h&&(g=k===a.odata[h].oper?"ui-state-highlight":"",j+='<li class="ui-menu-item '+g+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+a.odata[h].oper+'" oper="'+a.operands[a.odata[h].oper]+'"><table cellspacing="0" cellpadding="0" border="0"><tr><td width="25px">'+a.operands[a.odata[h].oper]+"</td><td>"+a.odata[h].text+"</td></tr></table></a></li>");j+="</ul>",$("body").append(j),$("#sopt_menu").addClass("ui-menu"),$("#sopt_menu > li > a").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).click(function(){var e=$(this).attr("value"),f=$(this).attr("oper");if(b._trigger("jqGridToolbarSelectOper",[e,f,c]),$("#sopt_menu").hide(),$(c).text(f).attr("soper",e),a.autosearch===!0){var g=$(c).parent().next().children()[0];($(g).val()||"nu"===e||"nn"===e)&&d()}})},h=$("<tr class='ui-search-toolbar' role='rowheader'></tr>");$.each(b.p.colModel,function(e){var f,g,i,j,k,l=this,m="",n="=",o=$("<th role='columnheader' class='ui-th-column'></th>"),p=$("<div style='position:relative;height:100%;padding-right:0.3em;padding-left:0.3em;'></div>"),q=$("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear'></td></tr></table>");if(this.hidden===!0&&$(o).css("display","none"),this.search=this.search===!1?!1:!0,void 0===this.stype&&(this.stype="text"),f=$.extend({},this.searchoptions||{}),this.search){if(a.searchOperators){for(j=f.sopt?f.sopt[0]:"select"===l.stype?"eq":a.defaultSearch,k=0;k<a.odata.length;k++)if(a.odata[k].oper===j){n=a.operands[j]||"";break}var r=null!=f.searchtitle?f.searchtitle:a.operandTitle;m="<a title='"+r+"' style='padding-right: 0.5em;' soper='"+j+"' class='soptclass' colname='"+this.name+"'>"+n+"</a>"}switch($("td:eq(0)",q).attr("colindex",e).append(m),void 0===f.clearSearch&&(f.clearSearch=!0),f.clearSearch&&$("td:eq(2)",q).append("<a title='Clear Search Value' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>x</a>"),this.stype){case"select":if(g=this.surl||f.dataUrl)i=p,$(i).append(q),$.ajax($.extend({url:g,dataType:"html",success:function(c){if(void 0!==f.buildSelect){var e=f.buildSelect(c);e&&$("td:eq(1)",q).append(e)}else $("td:eq(1)",q).append(c);void 0!==f.defaultValue&&$("select",i).val(f.defaultValue),$("select",i).attr({name:l.index||l.name,id:"gs_"+l.name}),f.attr&&$("select",i).attr(f.attr),$("select",i).css({width:"100%"}),$.jgrid.bindEv.call(b,$("select",i)[0],f),a.autosearch===!0&&$("select",i).change(function(){return d(),!1}),c=null}},$.jgrid.ajaxOptions,b.p.ajaxSelectOptions||{}));else{var s,t,u;if(l.searchoptions?(s=void 0===l.searchoptions.value?"":l.searchoptions.value,t=void 0===l.searchoptions.separator?":":l.searchoptions.separator,u=void 0===l.searchoptions.delimiter?";":l.searchoptions.delimiter):l.editoptions&&(s=void 0===l.editoptions.value?"":l.editoptions.value,t=void 0===l.editoptions.separator?":":l.editoptions.separator,u=void 0===l.editoptions.delimiter?";":l.editoptions.delimiter),s){var v=document.createElement("select");v.style.width="100%",$(v).attr({name:l.index||l.name,id:"gs_"+l.name});var w,x,y,z;if("string"==typeof s)for(j=s.split(u),z=0;z<j.length;z++)w=j[z].split(t),x=document.createElement("option"),x.value=w[0],x.innerHTML=w[1],v.appendChild(x);else if("object"==typeof s)for(y in s)s.hasOwnProperty(y)&&(x=document.createElement("option"),x.value=y,x.innerHTML=s[y],v.appendChild(x));void 0!==f.defaultValue&&$(v).val(f.defaultValue),f.attr&&$(v).attr(f.attr),$(p).append(q),$.jgrid.bindEv.call(b,v,f),$("td:eq(1)",q).append(v),a.autosearch===!0&&$(v).change(function(){return d(),!1})}}break;case"text":var A=void 0!==f.defaultValue?f.defaultValue:"";$("td:eq(1)",q).append("<input type='text' style='width:100%;padding:0px;' name='"+(l.index||l.name)+"' id='gs_"+l.name+"' value='"+A+"'/>"),$(p).append(q),f.attr&&$("input",p).attr(f.attr),$.jgrid.bindEv.call(b,$("input",p)[0],f),a.autosearch===!0&&(a.searchOnEnter?$("input",p).keypress(function(a){var b=a.charCode||a.keyCode||0;return 13===b?(d(),!1):this}):$("input",p).keydown(function(a){var b=a.which;switch(b){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:c&&clearTimeout(c),c=setTimeout(function(){d()},500)}}));break;case"custom":$("td:eq(1)",q).append("<span style='width:95%;padding:0px;' name='"+(l.index||l.name)+"' id='gs_"+l.name+"'/>"),$(p).append(q);try{if(!$.isFunction(f.custom_element))throw"e1";var B=f.custom_element.call(b,void 0!==f.defaultValue?f.defaultValue:"",f);if(!B)throw"e2";B=$(B).addClass("customelement"),$(p).find(">span").append(B)}catch(C){"e1"===C&&$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_element' "+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose),"e2"===C?$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_element' "+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose):$.jgrid.info_dialog($.jgrid.errors.errcap,"string"==typeof C?C:C.message,$.jgrid.edit.bClose)}}}$(o).append(p),$(h).append(o),a.searchOperators||$("td:eq(0)",q).hide()}),$("table thead",b.grid.hDiv).append(h),a.searchOperators&&($(".soptclass",h).click(function(a){var b=$(this).offset(),c=b.left,d=b.top;g(this,c,d),a.stopPropagation()}),$("body").on("click",function(a){"soptclass"!==a.target.className&&$("#sopt_menu").hide()})),$(".clearsearchclass",h).click(function(){var c=$(this).parents("tr:first"),e=parseInt($("td.ui-search-oper",c).attr("colindex"),10),f=$.extend({},b.p.colModel[e].searchoptions||{}),g=f.defaultValue?f.defaultValue:"";"select"===b.p.colModel[e].stype?g?$("td.ui-search-input select",c).val(g):$("td.ui-search-input select",c)[0].selectedIndex=0:$("td.ui-search-input input",c).val(g),a.autosearch===!0&&d()}),this.ftoolbar=!0,this.triggerToolbar=d,this.clearToolbar=e,this.toggleToolbar=f}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.ftoolbar=!1,$(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(a){return void 0===a&&(a=!0),this.each(function(){var b,c,d,e,f,g,h,i=this,j=i.grid,k=$("table.ui-jqgrid-htable thead",j.hDiv),l=i.p.colModel;if(j){for($(this).unbind(".setGroupHeaders"),b=$("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels"),e=j.headers,c=0,d=e.length;d>c;c++){h=l[c].hidden?"none":"",f=$(e[c].el).width(e[c].width).css("display",h);try{f.removeAttr("rowSpan")}catch(m){f.attr("rowSpan",1)}b.append(f),g=f.children("span.ui-jqgrid-resize"),g.length>0&&(g[0].style.height=""),f.children("div")[0].style.top=""}$(k).children("tr.ui-jqgrid-labels").remove(),$(k).prepend(b),a===!0&&$(i).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(a){return a=$.extend({useColSpanStyle:!1,groupHeaders:[]},a||{}),this.each(function(){this.p.groupHeader=a;var b,c,d,e,f,g,h,i,j,k,l,m,n,o=this,p=0,q=o.p.colModel,r=q.length,s=o.grid.headers,t=$("table.ui-jqgrid-htable",o.grid.hDiv),u=t.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),v=t.children("thead"),w=t.find(".jqg-first-row-header");void 0===w[0]?w=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):w.empty();var x,y=function(a,b){var c,d=b.length;for(c=0;d>c;c++)if(b[c].startColumnName===a)return c;return-1};for($(o).prepend(v),d=$("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header"),b=0;r>b;b++)if(f=s[b].el,g=$(f),c=q[b],h={height:"0px",width:s[b].width+"px",display:c.hidden?"none":""},$("<th>",{role:"gridcell"}).css(h).addClass("ui-first-th-"+o.p.direction).appendTo(w),f.style.width="",i=y(c.name,a.groupHeaders),i>=0){for(j=a.groupHeaders[i],k=j.numberOfColumns,l=j.titleText,m=0,i=0;k>i&&r>b+i;i++)q[b+i].hidden||m++;e=$("<th>").attr({role:"columnheader"}).addClass("ui-th-column-header").css({"border-top":"0px none"}).html(l),m>0&&e.attr("colspan",String(m)),o.p.headertitles&&e.attr("title",e.text()),0===m&&e.hide(),g.before(e),d.append(f),p=k-1}else 0===p?a.useColSpanStyle?g.attr("rowspan","2"):($("<th>",{role:"columnheader"}).addClass("ui-th-column-header").css({display:c.hidden?"none":"","border-top":"0px none"}).insertBefore(g),d.append(f)):(d.append(f),p--);n=$(o).children("thead"),n.prepend(w),d.insertAfter(u),t.append(n),a.useColSpanStyle&&(t.find("span.ui-jqgrid-resize").each(function(){var a=$(this).parent();a.is(":visible")&&(this.style.cssText="height: "+a.height()+"px !important; cursor: col-resize;")}),t.find("div.ui-jqgrid-sortable").each(function(){var a=$(this),b=a.parent();b.is(":visible")&&b.is(":has(span.ui-jqgrid-resize)")&&a.css("top",(b.height()-a.outerHeight())/2+"px")})),x=n.find("tr.jqg-first-row-header"),o._bind("jqGridResizeStop.setGroupHeaders",function(a,b,c){x.find("th").eq(c).width(b-4)});var z=$("#gbox_"+o.id);$(o).jqGrid("setGridHeight",z.outerHeight()-d.height())})},setFrozenColumns:function(a){return this.each(function(){if(this.grid){var b=this,c=b.p.colModel,d=0,e=c.length,f=-1,g=!1;if(!(b.p.treeGrid===!0||b.p.cellEdit===!0||b.p.sortable||b.p.scroll||b.p.grouping)){if(b.p.rownumbers&&d++,b.p.multiselect&&d++,a&&e>a)for(g=!0,f=a-1;a>d;)c[d].frozen=!0,d++;else for(;e>d&&c[d].frozen===!0;)g=!0,f=d,d++;if(f>=0&&g){var h=b.p.caption?$(b.grid.cDiv).outerHeight():0,i=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(b.p.id)).height();b.p.toppager&&(h+=$(b.grid.topDiv).outerHeight()),b.p.toolbar[0]===!0&&"bottom"!==b.p.toolbar[1]&&(h+=$(b.grid.uDiv).outerHeight()),b.grid.fhDiv=$('<div style="position:absolute;left:0px;top:'+h+"px;height:"+i+'px;border-bottom-width: 0px;" class="frozen-div ui-jqgrid-hdiv"></div>'),b.grid.fbDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(h,10)+parseInt(i,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+$.jgrid.jqID(b.p.id)).append(b.grid.fhDiv);var j=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(b.p.id)).clone(!0);if(b.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",j).each(function(){$("th:gt("+f+")",this).remove();var a=5;0==f&&(a+=4),$("th",this).each(function(){$(this).width($(this).width()+a)})});var k,l,m=-1,n=-1;$("tr.jqg-second-row-header th",j).each(function(){return k=parseInt($(this).attr("colspan"),10),l=parseInt($(this).attr("rowspan"),10),l&&(m++,n++),k&&(m+=k,n++),m===f?!1:void 0}),m!==f&&(n=f),$("tr.jqg-second-row-header",j).each(function(){$("th:gt("+n+")",this).remove()})}else $("tr",j).each(function(){$("th:gt("+f+")",this).remove(),$("th",this).each(function(){$(this).width($(this).width()+9)})});$(j).width(1),$(b.grid.fhDiv).append(j).mousemove(function(a){return b.grid.resizing?(b.grid.dragMove(a),!1):void 0}),b._bind("jqGridResizeStop.setFrozenColumns",function(a,c,d){var e=$("th:eq("+d+")",b.grid.hDiv).outerWidth(),f=$(".ui-jqgrid-htable",b.grid.fhDiv);$("th:eq("+d+")",f).outerWidth(e);var g=$(".ui-jqgrid-btable",b.grid.fbDiv);$("td:eq("+d+")",g).outerWidth(e)}),b._bind("jqGridSortCol.setFrozenColumns",function(a,c,d){var e=$("tr.ui-jqgrid-labels:last th:eq("+b.p.lastsort+")",b.grid.fhDiv),f=$("tr.ui-jqgrid-labels:last th:eq("+d+")",b.grid.fhDiv);$("span.ui-grid-ico-sort",e).addClass("ui-state-disabled"),$(e).attr("aria-selected","false"),$("span.ui-icon-"+b.p.sortorder,f).removeClass("ui-state-disabled"),$(f).attr("aria-selected","true"),b.p.lastsort!==d&&($("span.s-ico",e).hide(),$("span.s-ico",f).show())}),$("#gview_"+$.jgrid.jqID(b.p.id)).append(b.grid.fbDiv),$(b.grid.bDiv).scroll(function(){$(b.grid.fbDiv).scrollTop($(this).scrollTop())}),b.p.hoverrows===!0&&$("#"+$.jgrid.jqID(b.p.id)).unbind("mouseover").unbind("mouseout"),b._bind("jqGridAfterGridComplete.setFrozenColumns",function(){$("#"+$.jgrid.jqID(b.p.id)+"_frozen").remove(),$(b.grid.fbDiv).height($(b.grid.bDiv).height()-18);var a=$("#"+$.jgrid.jqID(b.p.id)).clone(!0);$("tr[role=row]",a).each(function(){$("td[role=gridcell]:gt("+f+")",this).remove()});var c=$(".ui-jqgrid-htable",b.grid.fhDiv).find(".jqg-first-row-header th");$("tr[role=row]:first",a).each(function(){$("td",this).each(function(a){$.jgrid.msie?$(this).width($(c[a]).outerWidth()):$(this).outerWidth($(c[a]).outerWidth())})}),$(a).width(1).attr("id",b.p.id+"_frozen"),$(b.grid.fbDiv).append(a),b.p.hoverrows===!0&&($("tr.jqgrow",a).hover(function(){$(this).addClass("ui-state-hover"),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(b.p.id)).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover"),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(b.p.id)).removeClass("ui-state-hover")}),$("tr.jqgrow","#"+$.jgrid.jqID(b.p.id)).hover(function(){$(this).addClass("ui-state-hover"),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(b.p.id)+"_frozen").addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover"),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(b.p.id)+"_frozen").removeClass("ui-state-hover")})),a=null}),b.grid.hDiv.loading||b._trigger("jqGridAfterGridComplete"),b.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&this.p.frozenColumns===!0){var a=this;if($(a.grid.fhDiv).remove(),$(a.grid.fbDiv).remove(),a.grid.fhDiv=null,a.grid.fbDiv=null,$(this).unbind(".setFrozenColumns"),a.p.hoverrows===!0){var b;$("#"+$.jgrid.jqID(a.p.id)).bind("mouseover",function(a){b=$(a.target).closest("tr.jqgrow"),$(b).addClass("ui-state-hover")}).bind("mouseout",function(a){b=$(a.target).closest("tr.jqgrow"),$(b).removeClass("ui-state-hover")})}this.p.frozenColumns=!1}})}}),$.extend($.jgrid,{findPos:function(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return[b,c]},info_dialog:function(a,b){alert(b)},bindEv:function(a,b){var c=this;$.isFunction(b.dataInit)&&b.dataInit.call(c,a,b),b.dataEvents&&$.each(b.dataEvents,function(){void 0!==this.data?$(a).bind(this.type,this.data,this.fn):$(a).bind(this.type,this.fn)})},createEl:function(a,b,c,d,e){function f(a,b,c){var d=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value"];void 0!==c&&$.isArray(c)&&$.merge(d,c),$.each(b,function(b,c){-1===$.inArray(b,d)&&$(a).attr(b,c)}),b.hasOwnProperty("id")||$(a).attr("id",$.jgrid.randId())}var g="",h=this;switch(a){case"textarea":g=document.createElement("textarea"),d?b.cols||$(g).css({width:"98%"}):b.cols||(b.cols=20),b.rows||(b.rows=2),("&nbsp;"===c||"&#160;"===c||1===c.length&&160===c.charCodeAt(0))&&(c=""),g.value=c,f(g,b),$(g).attr({role:"textbox",multiline:"true"});break;case"checkbox":if(g=document.createElement("input"),g.type="checkbox",b.value){var i=b.value.split(":");c===i[0]&&(g.checked=!0,g.defaultChecked=!0),g.value=i[0],$(g).attr("offval",i[1])}else{var j=(c+"").toLowerCase();j.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==j?(g.checked=!0,g.defaultChecked=!0,g.value=c):g.value="on",$(g).attr("offval","off")}f(g,b,["value"]),$(g).attr("role","checkbox");break;case"select":g=document.createElement("select"),g.setAttribute("role","select");var k,l=[];if(b.multiple===!0?(k=!0,g.multiple="multiple",$(g).attr("aria-multiselectable","true")):k=!1,void 0!==b.dataUrl){var m=b.name?String(b.id).substring(0,String(b.id).length-String(b.name).length-1):String(b.id),n=b.postData||e.postData;h.p&&h.p.idPrefix&&(m=$.jgrid.stripPref(h.p.idPrefix,m)),$.ajax($.extend({url:$.isFunction(b.dataUrl)?b.dataUrl.call(h,m,c,String(b.name)):b.dataUrl,type:"GET",dataType:"html",data:$.isFunction(n)?n.call(h,m,c,String(b.name)):n,context:{elem:g,options:b,vl:c},success:function(a){var b=[],c=this.elem,d=this.vl,e=$.extend({},this.options),g=e.multiple===!0,i=$.isFunction(e.buildSelect)?e.buildSelect.call(h,a):a;"string"==typeof i&&(i=$($.trim(i)).html()),i&&($(c).append(i),f(c,e,n?["postData"]:void 0),void 0===e.size&&(e.size=g?3:1),g?(b=d.split(","),b=$.map(b,function(a){return $.trim(a)})):b[0]=$.trim(d),setTimeout(function(){$("option",c).each(function(a){0===a&&c.multiple&&(this.selected=!1),$(this).attr("role","option"),($.inArray($.trim($(this).text()),b)>-1||$.inArray($.trim($(this).val()),b)>-1)&&(this.selected="selected")})},0))}},e||{}))}else if(b.value){var o;void 0===b.size&&(b.size=k?3:1),k&&(l=c.split(","),l=$.map(l,function(a){return $.trim(a)})),"function"==typeof b.value&&(b.value=b.value());var p,q,r,s=void 0===b.separator?":":b.separator,t=void 0===b.delimiter?";":b.delimiter;if("string"==typeof b.value)for(p=b.value.split(t),o=0;o<p.length;o++)q=p[o].split(s),q.length>2&&(q[1]=$.map(q,function(a,b){return b>0?a:void 0}).join(s)),r=document.createElement("option"),r.setAttribute("role","option"),r.value=q[0],r.innerHTML=q[1],g.appendChild(r),k||$.trim(q[0])!==$.trim(c)&&$.trim(q[1])!==$.trim(c)||(r.selected="selected"),k&&($.inArray($.trim(q[1]),l)>-1||$.inArray($.trim(q[0]),l)>-1)&&(r.selected="selected");else if("object"==typeof b.value){var u,v=b.value;for(u in v)v.hasOwnProperty(u)&&(r=document.createElement("option"),r.setAttribute("role","option"),r.value=u,r.innerHTML=v[u],g.appendChild(r),k||$.trim(u)!==$.trim(c)&&$.trim(v[u])!==$.trim(c)||(r.selected="selected"),k&&($.inArray($.trim(v[u]),l)>-1||$.inArray($.trim(u),l)>-1)&&(r.selected="selected"))}f(g,b,["value"])}break;case"text":case"password":case"button":var w;w="button"===a?"button":"textbox",g=document.createElement("input"),g.type=a,g.value=c,f(g,b),"button"!==a&&(d?b.size||$(g).css({width:"98%"}):b.size||(b.size=20)),$(g).attr("role",w);break;case"image":case"file":g=document.createElement("input"),g.type=a,f(g,b);break;case"custom":g=document.createElement("span");try{if(!$.isFunction(b.custom_element))throw"e1";var x=b.custom_element.call(h,c,b);if(!x)throw"e2";x=$(x).addClass("customelement").attr({id:b.id,name:b.name}),$(g).empty().append(x)}catch(y){"e1"===y&&$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_element' "+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose),"e2"===y?$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_element' "+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose):$.jgrid.info_dialog($.jgrid.errors.errcap,"string"==typeof y?y:y.message,$.jgrid.edit.bClose)}}return g},checkDate:function(a,b){var c,d=function(a){return a%4!==0||a%100===0&&a%400!==0?28:29},e={};if(a=a.toLowerCase(),c=-1!==a.indexOf("/")?"/":-1!==a.indexOf("-")?"-":-1!==a.indexOf(".")?".":"/",a=a.split(c),b=b.split(c),3!==b.length)return!1;var f,g,h=-1,i=-1,j=-1;for(g=0;g<a.length;g++){var k=isNaN(b[g])?0:parseInt(b[g],10);e[a[g]]=k,f=a[g],-1!==f.indexOf("y")&&(h=g),-1!==f.indexOf("m")&&(j=g),-1!==f.indexOf("d")&&(i=g)}f="y"===a[h]||"yyyy"===a[h]?4:"yy"===a[h]?2:-1;var l,m=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1===h?!1:(l=e[a[h]].toString(),2===f&&1===l.length&&(f=1),l.length!==f||0===e[a[h]]&&"00"!==b[h]?!1:-1===j?!1:(l=e[a[j]].toString(),l.length<1||e[a[j]]<1||e[a[j]]>12?!1:-1===i?!1:(l=e[a[i]].toString(),l.length<1||e[a[i]]<1||e[a[i]]>31||2===e[a[j]]&&e[a[i]]>d(e[a[h]])||e[a[i]]>m[e[a[j]]]?!1:!0)))},isEmpty:function(a){return a.match(/^\s+$/)||""===a?!0:!1},checkTime:function(a){var b,c=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!$.jgrid.isEmpty(a)){if(b=a.match(c),!b)return!1;if(b[3]){if(b[1]<1||b[1]>12)return!1}else if(b[1]>23)return!1;if(b[2]>59)return!1}return!0},checkValues:function(a,b,c,d){var e,f,g,h,i,j=this,k=j.p.colModel;if(void 0===c)if("string"==typeof b){for(f=0,i=k.length;i>f;f++)if(k[f].name===b){e=k[f].editrules,b=f,null!=k[f].formoptions&&(g=k[f].formoptions.label);break}}else b>=0&&(e=k[b].editrules);else e=c,g=void 0===d?"_":d;if(e){if(g||(g=null!=j.p.colModel?j.p.colModel[b].label:k[b].label),e.required===!0&&$.jgrid.isEmpty(a))return[!1,g+": "+$.jgrid.edit.msg.required,""];
var l=e.required===!1?!1:!0;if(e.number===!0&&(l!==!1||!$.jgrid.isEmpty(a))&&isNaN(a))return[!1,g+": "+$.jgrid.edit.msg.number,""];if(void 0!==e.minValue&&!isNaN(e.minValue)&&parseFloat(a)<parseFloat(e.minValue))return[!1,g+": "+$.jgrid.edit.msg.minValue+" "+e.minValue,""];if(void 0!==e.maxValue&&!isNaN(e.maxValue)&&parseFloat(a)>parseFloat(e.maxValue))return[!1,g+": "+$.jgrid.edit.msg.maxValue+" "+e.maxValue,""];var m;if(e.email===!0&&!(l===!1&&$.jgrid.isEmpty(a)||(m=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,m.test(a))))return[!1,g+": "+$.jgrid.edit.msg.email,""];if(e.integer===!0&&(l!==!1||!$.jgrid.isEmpty(a))){if(isNaN(a))return[!1,g+": "+$.jgrid.edit.msg.integer,""];if(a%1!==0||-1!==a.indexOf("."))return[!1,g+": "+$.jgrid.edit.msg.integer,""]}if(e.date===!0&&!(l===!1&&$.jgrid.isEmpty(a)||(k[b].formatoptions&&k[b].formatoptions.newformat?(h=k[b].formatoptions.newformat,$.jgrid.formatter.date.masks.hasOwnProperty(h)&&(h=$.jgrid.formatter.date.masks[h])):h=k[b].datefmt||"Y-m-d",$.jgrid.checkDate(h,a))))return[!1,g+": "+$.jgrid.edit.msg.date+" - "+h,""];if(e.time===!0&&!(l===!1&&$.jgrid.isEmpty(a)||$.jgrid.checkTime(a)))return[!1,g+": "+$.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(e.url===!0&&!(l===!1&&$.jgrid.isEmpty(a)||(m=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,m.test(a))))return[!1,g+": "+$.jgrid.edit.msg.url,""];if(e.custom===!0&&(l!==!1||!$.jgrid.isEmpty(a))){if($.isFunction(e.custom_func)){var n=e.custom_func.call(j,a,g,b);return $.isArray(n)?n:[!1,$.jgrid.edit.msg.customarray,""]}return[!1,$.jgrid.edit.msg.customfcheck,""]}}return[!0,"",""]}}),$.jgrid.extend({editCell:function(a,b,c){return this.each(function(){var d,e,f,g,h=this;if(h.grid&&h.p.cellEdit===!0){if(b=parseInt(b,10),h.p.selrow=h.rows[a].id,h.p.savedRow.length>0){if(c===!0&&a==h.p.iRow&&b==h.p.iCol)return;h.p.cellAutoSave===!0||"true"===h.p.cellAutoSave?$(h).jqGrid("saveCell",h.p.savedRow[0].id,h.p.savedRow[0].ic):(h.p.cellAutoSave===!1||"false"===h.p.cellAutoSave)&&$(h).jqGrid("restoreCell",h.p.savedRow[0].id,h.p.savedRow[0].ic)}if(g=h.p.colModel[b],d=g.name,"cb"!==d&&"rn"!==d){if(f=$("td:eq("+b+")",h.rows[a]),g.editable!==!0||c!==!0||f.hasClass("not-editable-cell"))parseInt(h.p.iCol,10)>=0&&parseInt(h.p.iRow,10)>=0&&($("td:eq("+h.p.iCol+")",h.rows[h.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(h.rows[h.p.iRow]).removeClass("selected-row ui-state-hover")),f.addClass("edit-cell ui-state-highlight"),$(h.rows[a]).addClass("selected-row ui-state-hover"),e=f.html().replace(/\&#160\;/gi,""),h._trigger("jqGridSelectCell",[h.rows[a].id,d,e,a,b]),$.isFunction(h.p.onSelectCell)&&h.p.onSelectCell.call(h,h.rows[a].id,d,e,a,b);else{parseInt(h.p.iCol,10)>=0&&parseInt(h.p.iRow,10)>=0&&($("td:eq("+h.p.iCol+")",h.rows[h.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(h.rows[h.p.iRow]).removeClass("selected-row ui-state-hover")),$(f).addClass("edit-cell ui-state-highlight"),$(h.rows[a]).addClass("selected-row ui-state-hover");try{e=$.unformat.call(h,f,{rowId:h.rows[a].id,colModel:g},b,!0)}catch(_){e=g.edittype&&"textarea"===g.edittype?$(f).text():$(f).html()}if(h.p.autoencode&&(e=$.jgrid.htmlDecode(e)),g.edittype||(g.edittype="text"),h.p.savedRow.push({id:a,ic:b,name:d,v:e}),("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))&&(e=""),$.isFunction(h.p.formatCell)){var i=h.p.formatCell.call(h,h.rows[a].id,d,e,a,b);void 0!==i&&(e=i)}h._trigger("jqGridBeforeEditCell",[h.rows[a].id,d,e,a,b]),$.isFunction(h.p.beforeEditCell)&&h.p.beforeEditCell.call(h,h.rows[a].id,d,e,a,b);var j=$.extend({},g.editoptions||{},{id:a+"_"+d,name:d}),k=$.jgrid.createEl.call(h,g.edittype,j,e,!0,$.extend({},$.jgrid.ajaxOptions,h.p.ajaxSelectOptions||{}));$(f).html("").append(k).attr("tabindex","0"),$.jgrid.bindEv.call(h,k,j),window.setTimeout(function(){$(k).focus()},0),$("input, select, textarea",f).bind("keydown",function(c){if(27===c.keyCode&&$(h).jqGrid("restoreCell",a,b),13===c.keyCode)return $(h).jqGrid("saveCell",a,b),!1;if(9===c.keyCode){if(h.grid.hDiv.loading)return!1;c.shiftKey?$(h).jqGrid("prevCell",a,b):$(h).jqGrid("nextCell",a,b)}c.stopPropagation()}),h._trigger("jqGridAfterEditCell",[h.rows[a].id,d,e,a,b]),$.isFunction(h.p.afterEditCell)&&h.p.afterEditCell.call(h,h.rows[a].id,d,e,a,b)}h.p.iCol=b,h.p.iRow=a}}})},saveCell:function(a,b){return this.each(function(){var c,d=this;if(d.grid&&d.p.cellEdit===!0&&(c=d.p.savedRow.length>=1?0:null,null!==c)){var e,f,g=$("td:eq("+b+")",d.rows[a]),h=d.p.colModel[b],i=h.name,j=$.jgrid.jqID(i);switch(h.edittype){case"select":e=$("#"+a+"_"+j+" option:selected",d.rows[a]).val(),f=$("#"+a+"_"+j+" option:selected",d.rows[a]).text(),h.formatter&&(f=e);break;case"checkbox":var k=["Yes","No"];h.editoptions&&(k=h.editoptions.value.split(":")),e=$("#"+a+"_"+j,d.rows[a]).is(":checked")?k[0]:k[1],f=e;break;case"password":case"text":case"textarea":case"button":e=$("#"+a+"_"+j,d.rows[a]).val(),f=e;break;case"custom":try{if(!h.editoptions||!$.isFunction(h.editoptions.custom_value))throw"e1";if(e=h.editoptions.custom_value.call(d,$(".customelement",g),"get"),void 0===e)throw"e2";f=e}catch(l){"e1"===l&&$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_value' "+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose),"e2"===l?$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_value' "+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose):$.jgrid.info_dialog($.jgrid.errors.errcap,l.message,$.jgrid.edit.bClose)}}if(f!==d.p.savedRow[c].v){var m=d._trigger("jqGridBeforeSaveCell",[d.rows[a].id,i,e,a,b]);if(m||$.isFunction(d.p.beforeSaveCell)&&(m=d.p.beforeSaveCell.call(d,d.rows[a].id,i,e,a,b)),m&&"object"==typeof m&&m.push&&m.length>1&&m[0]===!1){try{window.setTimeout(function(){$.jgrid.info_dialog($.jgrid.errors.errcap,e+" "+m[1],$.jgrid.edit.bClose)},100),$(d).jqGrid("restoreCell",a,b)}catch(l){}return!1}var n=$.jgrid.checkValues.call(d,e,b);if(n[0]===!0){var o=d._trigger("jqGridBeforeSubmitCell",[d.rows[a].id,i,e,a,b])||{};$.isFunction(d.p.beforeSubmitCell)&&(o=d.p.beforeSubmitCell.call(d,d.rows[a].id,i,e,a,b),o||(o={})),$(g).empty(),$(d).jqGrid("setCell",d.rows[a].id,b,f,!1,!1,!0);var p=$(g).position().left;$(g).addClass("dirty-cell").prepend('<span class="span-dirty" style="left:'+p+'px"></span>'),$(d.rows[a]).addClass("edited"),d._trigger("jqGridAfterSaveCell",[d.rows[a].id,i,e,a,b]),$.isFunction(d.p.afterSaveCell)&&d.p.afterSaveCell.call(d,d.rows[a].id,i,e,a,b),d.p.savedRow.splice(0,1)}else try{window.setTimeout(function(){$.jgrid.info_dialog($.jgrid.errors.errcap,e+" "+n[1],$.jgrid.edit.bClose)},100),$(d).jqGrid("restoreCell",a,b)}catch(l){}}else $(d).jqGrid("restoreCell",a,b)}})},restoreCell:function(a,b){return this.each(function(){var c,d=this;if(d.grid&&d.p.cellEdit===!0&&(c=d.p.savedRow.length>=1?0:null,null!==c)){var e=$("td:eq("+b+")",d.rows[a]);$(e).empty().attr("tabindex","-1"),$(d).jqGrid("setCell",d.rows[a].id,b,d.p.savedRow[c].v,!1,!1,!0),d._trigger("jqGridAfterRestoreCell",[d.rows[a].id,d.p.savedRow[c].v,a,b]),$.isFunction(d.p.afterRestoreCell)&&d.p.afterRestoreCell.call(d,d.rows[a].id,d.p.savedRow[c].v,a,b),d.p.savedRow.splice(0,1)}})},nextCell:function(a,b){return this.each(function(){var c,d=this,e=!1;if(d.grid&&d.p.cellEdit===!0){for(;a<=d.p.reccount;){for(c=b+1;c<d.p.colModel.length;c++)if(d.p.colModel[c].editable===!0){e=c;break}if(!(e===!1&&a<d.p.reccount))break;a++,b=0}e!==!1?$(d).jqGrid("editCell",a,e,!0):d.p.savedRow.length>0&&$(d).jqGrid("saveCell",a,b)}})},prevCell:function(a,b){return this.each(function(){var c,d=this,e=!1;if(d.grid&&d.p.cellEdit===!0){for(;a>0;){for(c=b-1;c>=0;c--)if(d.p.colModel[c].editable===!0){e=c;break}if(!(e===!1&&a>1))break;a--,b=d.p.colModel.length-1}e!==!1?$(d).jqGrid("editCell",a,e,!0):d.p.savedRow.length>0&&$(d).jqGrid("saveCell",a,b)}})},getChangedCells:function(a){var b=[];return a||(a="all"),this.each(function(){var c,d=this;d.grid&&d.p.cellEdit===!0&&$(d.rows).each(function(e){var f={};$(this).hasClass("edited")&&($("td",this).each(function(b){if(c=d.p.colModel[b].name,"cb"!==c)if("dirty"===a){if($(this).hasClass("dirty-cell"))try{f[c]=$.unformat.call(d,this,{rowId:d.rows[e].id,colModel:d.p.colModel[b]},b,!0)}catch(g){f[c]=$.jgrid.htmlDecode($(this).html())}}else try{f[c]=$.unformat.call(d,this,{rowId:d.rows[e].id,colModel:d.p.colModel[b]},b,!0)}catch(g){f[c]=$.jgrid.htmlDecode($(this).html())}}),f.id=this.id,b.push(f))})}),b}}),$.fmatter={},$.extend($.fmatter,{isBoolean:function(a){return"boolean"==typeof a},isObject:function(a){return a&&("object"==typeof a||$.isFunction(a))||!1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(a){return!this.isString(a)&&this.isValue(a)?!1:this.isValue(a)?(a=$.trim(a).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===a):!0}}),$.fn.fmatter=function(a,b,c,d,e){var f=b;c=$.extend({},$.jgrid.formatter,c);try{f=$.fn.fmatter[a].call(this,b,c,d,e)}catch(g){}return f},$.fmatter.util={NumberFormat:function(a,b){if($.fmatter.isNumber(a)||(a*=1),$.fmatter.isNumber(a)){var c,d=0>a,e=String(a),f=b.decimalSeparator||".";if($.fmatter.isNumber(b.decimalPlaces)){var g=b.decimalPlaces,h=Math.pow(10,g);if(e=String(Math.round(a*h)/h),c=e.lastIndexOf("."),g>0)for(0>c?(e+=f,c=e.length-1):"."!==f&&(e=e.replace(".",f));e.length-1-c<g;)e+="0"}if(b.thousandsSeparator){var i=b.thousandsSeparator;c=e.lastIndexOf(f),c=c>-1?c:e.length;var j,k=e.substring(c),l=-1;for(j=c;j>0;j--)l++,l%3===0&&j!==c&&(!d||j>1)&&(k=i+k),k=e.charAt(j-1)+k;e=k}return e=b.prefix?b.prefix+e:e,e=b.suffix?e+b.suffix:e}return a}},$.fn.fmatter.defaultFormat=function(a,b){return $.fmatter.isValue(a)&&""!==a?a:b.defaultValue||"&#160;"},$.fn.fmatter.email=function(a,b){return $.fmatter.isEmpty(a)?$.fn.fmatter.defaultFormat(a,b):'<a href="mailto:'+a+'">'+a+"</a>"},$.fn.fmatter.checkbox=function(a,b){var c,d=$.extend({},b.checkbox);void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(d=$.extend({},d,b.colModel.formatoptions)),c=d.disabled===!0?'disabled="disabled"':"",($.fmatter.isEmpty(a)||void 0===a)&&(a=$.fn.fmatter.defaultFormat(a,d)),a=String(a),a=(a+"").toLowerCase();var e=a.search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"";return'<input type="checkbox" '+e+' value="'+a+'" offval="no" '+c+"/>"},$.fn.fmatter.linkFunction=function(a,b){var c={cssp:"linkfunction"};if(void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a))return $.fn.fmatter.defaultFormat(a,b);var d=c.cssp;if("string"==typeof d&&""!=$.trim(d))d="class="+d;else if(d){var e=[];for(var f in d)e.push(f+":"+d[f]);d="style="+e.join(",")}return"<a "+d+' href="javascript:'+c.action+'">'+a+"</a>"},$.fn.fmatter.integer=function(a,b){var c=$.extend({},b.integer);return void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a)?c.defaultValue:$.fmatter.util.NumberFormat(a,c)},$.fn.fmatter.number=function(a,b){var c=$.extend({},b.number);return void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a)?c.defaultValue:$.fmatter.util.NumberFormat(a,c)},$.fn.fmatter.currency=function(a,b){var c=$.extend({},b.currency);return void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a)?c.defaultValue:$.fmatter.util.NumberFormat(a,c)},$.fn.fmatter.date=function(a,b,c,d){var e=$.extend({},b.date);return void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(e=$.extend({},e,b.colModel.formatoptions)),e.reformatAfterEdit||"edit"!==d?$.fmatter.isEmpty(a)?$.fn.fmatter.defaultFormat(a,b):$.jgrid.parseDate(e.srcformat,a,e.newformat,e):$.fn.fmatter.defaultFormat(a,b)},$.fn.fmatter.select=function(a,b){a=String(a);var c,d,e=!1,f=[];if(void 0!==b.colModel.formatoptions?(e=b.colModel.formatoptions.value,c=void 0===b.colModel.formatoptions.separator?":":b.colModel.formatoptions.separator,d=void 0===b.colModel.formatoptions.delimiter?";":b.colModel.formatoptions.delimiter):void 0!==b.colModel.editoptions&&(e=b.colModel.editoptions.value,c=void 0===b.colModel.editoptions.separator?":":b.colModel.editoptions.separator,d=void 0===b.colModel.editoptions.delimiter?";":b.colModel.editoptions.delimiter),e){var g,h=b.colModel.editoptions.multiple===!0?!0:!1,i=[];if(h&&(i=a.split(","),i=$.map(i,function(a){return $.trim(a)})),$.fmatter.isString(e)){var j,k=e.split(d),l=0;for(j=0;j<k.length;j++)if(g=k[j].split(c),g.length>2&&(g[1]=$.map(g,function(a,b){return b>0?a:void 0}).join(c)),h)$.inArray(g[0],i)>-1&&(f[l]=g[1],l++);else if($.trim(g[0])===$.trim(a)){f[0]=g[1];break}}else $.fmatter.isObject(e)&&(h?f=$.map(i,function(a){return e[a]}):f[0]=e[a]||"")}return a=f.join(", "),""===a?$.fn.fmatter.defaultFormat(a,b):a},$.fn.fmatter.rowactions=function(a){var b=$(this).closest("tr.jqgrow"),c=b.attr("id"),d=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),e=$("#"+d),f=e[0],g=f.p,h=g.colModel[$.jgrid.getCellIndex(this)],i=h.frozen?$("tr#"+c+" td:eq("+$.jgrid.getCellIndex(this)+") > div",e):$(this).parent(),j={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null,restoreAfterError:!0,delOptions:{}},k=function(a,b){$.isFunction(j.afterSave)&&j.afterSave.call(f,a,b),i.find("div.ui-inline-edit,div.ui-inline-del").show(),i.find("div.ui-inline-save,div.ui-inline-cancel").hide()},l=function(a){$.isFunction(j.afterRestore)&&j.afterRestore.call(f,a),i.find("div.ui-inline-edit,div.ui-inline-del").show(),i.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==h.formatoptions&&(j=$.extend(j,h.formatoptions)),void 0!==g.delOptions&&(j.delOptions=g.delOptions),b.hasClass("jqgrid-new-row")&&(j.extraparam[g.prmNames.oper]=g.prmNames.addoper);var m={keys:j.keys,oneditfunc:j.onEdit,successfunc:j.onSuccess,url:j.url,extraparam:j.extraparam,aftersavefunc:k,errorfunc:j.onError,afterrestorefunc:l,restoreAfterError:j.restoreAfterError};switch(a){case"edit":e.jqGrid("editRow",c,m),i.find("div.ui-inline-edit,div.ui-inline-del").hide(),i.find("div.ui-inline-save,div.ui-inline-cancel").show(),e._trigger("jqGridAfterGridComplete");break;case"save":e.jqGrid("saveRow",c,m)&&(i.find("div.ui-inline-edit,div.ui-inline-del").show(),i.find("div.ui-inline-save,div.ui-inline-cancel").hide(),e._trigger("jqGridAfterGridComplete"));break;case"cancel":e.jqGrid("restoreRow",c,l),i.find("div.ui-inline-edit,div.ui-inline-del").show(),i.find("div.ui-inline-save,div.ui-inline-cancel").hide(),e._trigger("jqGridAfterGridComplete");break;case"del":e.jqGrid("delGridRow",c,j.delOptions)}},$.fn.fmatter.actions=function(a,b){var c,d={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},e=b.rowId,f="";return void 0!==b.colModel.formatoptions&&(d=$.extend(d,b.colModel.formatoptions)),void 0===e||$.fmatter.isEmpty(e)?"":(d.editbutton&&(c="id='jEditButton_"+e+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ",f+="<div title='"+$.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+c+"><span class='ui-icon ui-icon-pencil'></span></div>"),d.delbutton&&(c="id='jDeleteButton_"+e+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+$.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+c+"><span class='ui-icon ui-icon-trash'></span></div>"),c="id='jSaveButton_"+e+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+$.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+c+"><span class='ui-icon ui-icon-disk'></span></div>",c="id='jCancelButton_"+e+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+$.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+c+"><span class='ui-icon ui-icon-cancel'></span></div>","<div style='margin-left:8px;'>"+f+"</div>")},$.unformat=function(a,b,c,d){var e,f,g=b.colModel.formatter,h=b.colModel.formatoptions||{},i=/([\.\*\_\'\(\)\{\}\+\?\\])/g,j=b.colModel.unformat||$.fn.fmatter[g]&&$.fn.fmatter[g].unformat;if(void 0!==j&&$.isFunction(j))e=j.call(this,$(a).text(),b,a);else if(void 0!==g&&$.fmatter.isString(g)){var k,l=$.jgrid.formatter||{};switch(g){case"integer":h=$.extend({},l.integer,h),f=h.thousandsSeparator.replace(i,"\\$1"),k=new RegExp(f,"g"),e=$(a).text().replace(k,"");break;case"number":h=$.extend({},l.number,h),f=h.thousandsSeparator.replace(i,"\\$1"),k=new RegExp(f,"g"),e=$(a).text().replace(k,"").replace(h.decimalSeparator,".");break;case"currency":h=$.extend({},l.currency,h),f=h.thousandsSeparator.replace(i,"\\$1"),k=new RegExp(f,"g"),e=$(a).text(),h.prefix&&h.prefix.length&&(e=e.substr(h.prefix.length)),h.suffix&&h.suffix.length&&(e=e.substr(0,e.length-h.suffix.length)),e=e.replace(k,"").replace(h.decimalSeparator,".");break;case"checkbox":var m=b.colModel.editoptions?b.colModel.editoptions.value.split(":"):["Yes","No"];e=$("input",a).is(":checked")?m[0]:m[1];break;case"select":e=$.unformat.select(a,b,c,d);break;case"actions":return"";default:e=$(a).text()}}return void 0!==e?e:d===!0?$(a).text():$.jgrid.htmlDecode($(a).html())},$.unformat.select=function(a,b,c,d){var e=[],f=$(a).text();if(d===!0)return f;var g=$.extend({},void 0!==b.colModel.formatoptions?b.colModel.formatoptions:b.colModel.editoptions),h=void 0===g.separator?":":g.separator,i=void 0===g.delimiter?";":g.delimiter;if(g.value){var j,k=g.value,l=g.multiple===!0?!0:!1,m=[];if(l&&(m=f.split(","),m=$.map(m,function(a){return $.trim(a)})),$.fmatter.isString(k)){var n,o=k.split(i),p=0;for(n=0;n<o.length;n++)if(j=o[n].split(h),j.length>2&&(j[1]=$.map(j,function(a,b){return b>0?a:void 0}).join(h)),l)$.inArray(j[1],m)>-1&&(e[p]=j[0],p++);else if($.trim(j[1])===$.trim(f)){e[0]=j[0];break}}else($.fmatter.isObject(k)||$.isArray(k))&&(l||(m[0]=f),e=$.map(m,function(a){var b;return $.each(k,function(c,d){return d===a?(b=c,!1):void 0}),void 0!==b?b:void 0}));return e.join(", ")}return f||""},$.unformat.date=function(a,b){var c=$.jgrid.formatter.date||{};return void 0!==b.formatoptions&&(c=$.extend({},c,b.formatoptions)),$.fmatter.isEmpty(a)?$.fn.fmatter.defaultFormat(a,b):$.jgrid.parseDate(c.newformat,a,c.srcformat,c)},$.jgrid.inlineEdit=$.jgrid.inlineEdit||{},$.jgrid.extend({editRow:function(a,b,c,d,e,f,g,h){var i={},j=$.makeArray(arguments).slice(1);return"object"===$.type(j[0])?i=j[0]:(void 0!==b&&(i.keys=b),$.isFunction(c)&&(i.oneditfunc=c),$.isFunction(d)&&(i.successfunc=d),void 0!==e&&(i.extraparam=e),$.isFunction(f)&&(i.aftersavefunc=f),$.isFunction(g)&&(i.errorfunc=g),$.isFunction(h)&&(i.afterrestorefunc=h)),i=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0},$.jgrid.inlineEdit,i),this.each(function(){var b,c,d,e,f,g,h=this,j=0,k=null,l={};h.grid&&(e=$(h).jqGrid("getInd",a,!0),e!==!1&&(g=$.isFunction(i.beforeEditRow)?i.beforeEditRow.call(h,i,a):void 0,void 0===g&&(g=!0),g&&(d=$(e).attr("editable")||"0","0"!==d||$(e).hasClass("not-editable-row")||(f=h.p.colModel,$('td[role="gridcell"]',e).each(function(d){b=f[d].name;var e=h.p.treeGrid===!0&&b===h.p.ExpandColumn;if(e)c=$("span:first",this).html();else try{c=$.unformat.call(h,this,{rowId:a,colModel:f[d]},d,!0)}catch(_){c=f[d].edittype&&"textarea"===f[d].edittype?$(this).text():$(this).html()}if("cb"!==b&&"rn"!==b&&(h.p.autoencode&&(c=$.jgrid.htmlDecode(c)),l[b]=c,f[d].editable===!0)){null===k&&(k=d),e?$("span:first",this).html(""):$(this).html("");var g=$.extend({},f[d].editoptions||{},{id:a+"_"+b,name:b});f[d].edittype||(f[d].edittype="text"),("&nbsp;"===c||"&#160;"===c||1===c.length&&160===c.charCodeAt(0))&&(c="");var i=$.jgrid.createEl.call(h,f[d].edittype,g,c,!0,$.extend({},$.jgrid.ajaxOptions,h.p.ajaxSelectOptions||{}));$(i).addClass("editable"),e?$("span:first",this).append(i):$(this).append(i),$.jgrid.bindEv.call(h,i,g),"select"===f[d].edittype&&void 0!==f[d].editoptions&&f[d].editoptions.multiple===!0&&void 0===f[d].editoptions.dataUrl&&$.jgrid.msie&&$(i).width($(i).width()),j++}}),j>0&&(l.id=a,h.p.savedRow.push(l),$(e).attr("editable","1"),$("td:eq("+k+") input",e).focus(),i.keys===!0&&$(e).bind("keydown",function(b){if(27===b.keyCode)return $(h).jqGrid("restoreRow",a,i.afterrestorefunc),!1;if(13===b.keyCode){var c=b.target;return"TEXTAREA"===c.tagName?!0:($(h).jqGrid("saveRow",a,i),!1)}}),h._trigger("jqGridInlineEditRow",[a,i]),$.isFunction(i.oneditfunc)&&i.oneditfunc.call(h,a))))))})},saveRow:function(a,b,c,d,e){var f=$.makeArray(arguments).slice(1),g={};"object"===$.type(f[0])?g=f[0]:(void 0!==b&&(g.extraparam=b),$.isFunction(c)&&(g.aftersavefunc=c),$.isFunction(d)&&(g.errorfunc=d),$.isFunction(e)&&(g.afterrestorefunc=e)),g=$.extend(!0,{extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0},$.jgrid.inlineEdit,g);var h,i,j,k,l,m=!1,n=this[0],o={},p={};if(!n.grid)return m;if(l=$(n).jqGrid("getInd",a,!0),l===!1)return m;if(i=$(l).attr("editable"),"1"===i){var q;$('td[role="gridcell"]',l).each(function(a){if(q=n.p.colModel[a],h=q.name,"cb"!==h&&q.editable===!0&&"rn"!==h&&!$(this).hasClass("not-editable-cell")){switch(q.edittype){case"checkbox":var b=["Yes","No"];q.editoptions&&(b=q.editoptions.value.split(":")),o[h]=$("input",this).is(":checked")?b[0]:b[1];break;case"text":case"password":case"textarea":case"button":o[h]=$("input, textarea",this).val();break;case"select":o[h]=$("select option:selected",this).val(),p[h]=$("select option:selected",this).text(),q.formatter&&"select"===q.formatter&&(p={});break;case"custom":try{if(!q.editoptions||!$.isFunction(q.editoptions.custom_value))throw"e1";if(o[h]=q.editoptions.custom_value.call(n,$(".customelement",this),"get"),void 0===o[h])throw"e2"}catch(c){"e1"===c&&$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_value' "+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose),"e2"===c?$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_value' "+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose):$.jgrid.info_dialog($.jgrid.errors.errcap,c.message,$.jgrid.edit.bClose)}}if(k=$.jgrid.checkValues.call(n,o[h],a),k[0]===!1)return!1;n.p.autoencode&&(o[h]=$.jgrid.htmlEncode(o[h]))}});var r=n._trigger("jqGridBeforeSaveRow",[a,o,g]);if(void 0===r&&$.isFunction(n.p.beforeSaveRow)&&(r=n.p.beforeSaveRow.call(n,a,o,g)),r&&"object"==typeof r&&r.push&&r.length>1&&r[0]===!1){try{var s=$(n).jqGrid("getGridRowById",a),t=$.jgrid.findPos(s);$.jgrid.info_dialog($.jgrid.errors.errcap,r[1],$.jgrid.edit.bClose,{left:t[0],top:t[1]+$(s).outerHeight()})}catch(u){}return m}if(k[0]===!1){try{var s=$(n).jqGrid("getGridRowById",a),t=$.jgrid.findPos(s);$.jgrid.info_dialog($.jgrid.errors.errcap,k[1],$.jgrid.edit.bClose,{left:t[0],top:t[1]+$(s).outerHeight()})}catch(u){alert(k[1])}return m}var v,w=n.p.prmNames,x=a;if(v=n.p.keyName,o){if(o[w.oper]=w.editoper,void 0===o[v]||""===o[v])o[v]=a;else if(l.id!==n.p.idPrefix+o[v]){var y=$.jgrid.stripPref(n.p.idPrefix,a);if(void 0!==n.p._index[y]&&(n.p._index[o[v]]=n.p._index[y],delete n.p._index[y]),a=n.p.idPrefix+o[v],$(l).attr("id",a),n.p.selrow===x&&(n.p.selrow=a),$.isArray(n.p.selarrrow)){var z=$.inArray(x,n.p.selarrrow);z>=0&&(n.p.selarrrow[z]=a)}if(n.p.multiselect){var A="jqg_"+n.p.id+"_"+a;$("input.cbox",l).attr("id",A).attr("name",A)}}void 0===n.p.inlineData&&(n.p.inlineData={}),o=$.extend({},o,n.p.inlineData,g.extraparam)}o=$.extend({},o,p),n.p.autoencode&&$.each(o,function(a,b){o[a]=$.jgrid.htmlDecode(b)});var B,C=$(n).jqGrid("setRowData",a,o);for($(l).attr("editable","0"),B=0;B<n.p.savedRow.length;B++)if(String(n.p.savedRow[B].id)===String(x)){j=B;break}j>=0&&n.p.savedRow.splice(j,1),n._trigger("jqGridInlineAfterSaveRow",[a,o,g]),$.isFunction(g.aftersavefunc)&&g.aftersavefunc.call(n,a,C,g),m=!0,$(l).removeClass("jqgrid-new-row").unbind("keydown")}return m},restoreRow:function(a,b){var c=$.makeArray(arguments).slice(1),d={};return"object"===$.type(c[0])?d=c[0]:$.isFunction(b)&&(d.afterrestorefunc=b),d=$.extend(!0,{},$.jgrid.inlineEdit,d),this.each(function(){var b,c,e,f=this,g={};if(f.grid&&(c=$(f).jqGrid("getInd",a,!0),c!==!1)){var h=$.isFunction(d.beforeCancelRow)?d.beforeCancelRow.call(f,cancelPrm,sr):void 0;if(void 0===h&&(h=!0),h){for(e=0;e<f.p.savedRow.length;e++)if(String(f.p.savedRow[e].id)===String(a)){b=e;break}b>=0&&($.each(f.p.colModel,function(){this.editable===!0&&f.p.savedRow[b].hasOwnProperty(this.name)&&(g[this.name]=f.p.savedRow[b][this.name])}),$(f).jqGrid("setRowData",a,g),$(c).attr("editable","0").unbind("keydown"),f.p.savedRow.splice(b,1),$("#"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(f.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){$(f).jqGrid("delRowData",a)},0)),f._trigger("jqGridInlineAfterRestoreRow",[a]),$.isFunction(d.afterrestorefunc)&&d.afterrestorefunc.call(f,a)}}})},addRow:function(a){return a=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},a||{}),this.each(function(){if(this.grid){var b=this,c=$.isFunction(a.beforeAddRow)?a.beforeAddRow.call(b,a.addRowParams):void 0;if(void 0===c&&(c=!0),c){var d=b.p.keyName;if(a.rowID=$.isFunction(a.rowID)?a.rowID.call(b,a):null!=a.rowID?a.rowID:a.initdata[d]?a.initdata[d]:$.jgrid.randId(),a.useDefValues===!0&&$(b.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var c=this.editoptions.defaultValue,d=$.isFunction(c)?c.call(b):c;a.initdata[this.name]=d}}),$(b).jqGrid("addRowData",a.rowID,a.initdata,a.position),a.rowID=b.p.idPrefix+a.rowID,$("#"+$.jgrid.jqID(a.rowID),"#"+$.jgrid.jqID(b.p.id)).addClass("jqgrid-new-row"),a.useFormatter)$("#"+$.jgrid.jqID(a.rowID)+" .ui-inline-edit","#"+$.jgrid.jqID(b.p.id)).click();else{var e=b.p.prmNames,f=e.oper;a.addRowParams.extraparam[f]=e.addoper,$(b).jqGrid("editRow",a.rowID,a.addRowParams),$(b).jqGrid("setSelection",a.rowID)}}}})}}),$.jgrid.extend({navButtonAdd:function(a,b){return b=$.extend({caption:"",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},b||{}),this.each(function(){if(this.grid){"string"==typeof a&&0!==a.indexOf("#")&&(a="#"+$.jgrid.jqID(a));var c=$(a)[0],d=this;if(c){if(b.id&&void 0!==$("#"+$.jgrid.jqID(b.id),c)[0])return;var e=$("<div style='float:left;cursor:pointer;margin-left:5px;'></div>");$(e).addClass("ui-pg-button ui-corner-all").append("NONE"===b.buttonicon.toString().toUpperCase()?"<div class='ui-pg-div'>"+b.caption+"</div>":"<div class='ui-pg-div'><span class='ui-icon "+b.buttonicon+"'></span>"+b.caption+"</div>"),b.id&&$(e).attr("id",b.id),"first"===b.position?$(c).prepend(e):$(c).append(e),$(e,c).attr("title",b.title||"").click(function(a){return $(this).hasClass("ui-state-disabled")||$.isFunction(b.onClickButton)&&b.onClickButton.call(d,a),!1}).hover(function(){$(this).hasClass("ui-state-disabled")||$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")})}}})}}),$.jgrid.msie&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(a){return 0===a.offsetWidth||0===a.offsetHeight||"none"===a.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(a,b){var c=setSelected.call(this,a,b);if(b&&this.selectedList){var d=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(d)})}return c}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(a){return this.each(function(){function b(){c.p.disableClick=!0}var c=this,d=$.jgrid.jqID(c.p.id),e={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+d+"_cb,#jqgh_"+d+"_rn),:hidden)",placeholder:{element:function(a){var b=$(document.createElement(a[0].nodeName)).addClass(a[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0];return b},update:function(a,b){b.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),b.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}},update:function(a,b){var d=$(b.item).parent(),e=$(">th",d),f=c.p.colModel,g={},h=c.p.id+"_";$.each(f,function(a){g[this.name]=a});var i=[];e.each(function(){var a=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(h,"");g.hasOwnProperty(a)&&i.push(g[a])}),$(c).jqGrid("remapColumns",i,!0,!0),$.isFunction(c.p.sortable.update)&&c.p.sortable.update(i),setTimeout(function(){c.p.disableClick=!1},50)}};if(c.p.sortable.options?$.extend(e,c.p.sortable.options):$.isFunction(c.p.sortable)&&(c.p.sortable={update:c.p.sortable}),e.start){var f=e.start;e.start=function(a,c){b(),f.call(this,a,c)}}else e.start=b;c.p.sortable.exclude&&(e.items+=":not("+c.p.sortable.exclude+")"),a.sortable(e).data("sortable").floating=!0})},sortableRows:function(a){return this.each(function(){var b=this;b.grid&&(b.p.treeGrid||$.fn.sortable&&(a=$.extend({cursor:"move",axis:"y",items:".jqgrow"},a||{}),a.start&&$.isFunction(a.start)?(a._start_=a.start,delete a.start):a._start_=!1,a.update&&$.isFunction(a.update)?(a._update_=a.update,delete a.update):a._update_=!1,a.start=function(c,d){$(d.item).css("border-width","0px"),$("td",d.item).each(function(a){this.style.width=b.grid.cols[a].style.width}),a._start_&&a._start_.apply(this,[c,d])},a.update=function(c,d){$(d.item).css("border-width",""),b.p.rownumbers===!0&&$("td.jqgrid-rownum",b.rows).each(function(a){$(this).html(a+1+(parseInt(b.p.page,10)-1)*parseInt(b.p.rowNum,10))}),a._update_&&a._update_.apply(this,[c,d])},$("tbody:first",b).sortable(a),$("tbody:first",b).disableSelection()))})},gridDnD:function(a){return this.each(function(){function b(){var a=$.data(e,"dnd");$("tr.jqgrow:not(.ui-draggable)",e).draggable($.isFunction(a.drag)?a.drag.call($(e),a):a.drag)}var c,d,e=this;if(e.grid&&!e.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var f="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if(void 0===$("#jqgrid_dnd")[0]&&$("body").append(f),"string"==typeof a&&"updateDnD"===a&&e.p.jqgdnd===!0)return void b();if(a=$.extend({drag:function(a){return $.extend({start:function(b,c){var d;
for(d=0;d<$.data(e,"dnd").connectWith.length;d++)0===$($.data(e,"dnd").connectWith[d]).jqGrid("getGridParam","reccount")&&$($.data(e,"dnd").connectWith[d]).jqGrid("addRowData","jqg_empty_row",{});c.helper.addClass("ui-state-highlight"),$("td",c.helper).each(function(a){this.style.width=e.grid.headers[a].width+"px"}),a.onstart&&$.isFunction(a.onstart)&&a.onstart.call($(e),b,c)},stop:function(b,c){var d,f;for(c.helper.dropped&&!a.dragcopy&&(f=$(c.helper).attr("id"),void 0===f&&(f=$(this).attr("id")),$(e).jqGrid("delRowData",f)),d=0;d<$.data(e,"dnd").connectWith.length;d++)$($.data(e,"dnd").connectWith[d]).jqGrid("delRowData","jqg_empty_row");a.onstop&&$.isFunction(a.onstop)&&a.onstop.call($(e),b,c)}},a.drag_opts||{})},drop:function(a){return $.extend({accept:function(a){if(!$(a).hasClass("jqgrow"))return a;var b=$(a).closest("table.ui-jqgrid-btable");if(b.length>0&&void 0!==$.data(b[0],"dnd")){var c=$.data(b[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),c)?!0:!1}return!1},drop:function(b,c){if($(c.draggable).hasClass("jqgrow")){var d=$(c.draggable).attr("id"),f=c.draggable.parent().parent().jqGrid("getRowData",d);if(!a.dropbyname){var g,h,i=0,j={},k=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(h in f)f.hasOwnProperty(h)&&(g=k[i].name,"cb"!==g&&"rn"!==g&&f.hasOwnProperty(h)&&k[i]&&(j[g]=f[h]),i++);f=j}catch(l){}}if(c.helper.dropped=!0,a.beforedrop&&$.isFunction(a.beforedrop)){var m=a.beforedrop.call(this,b,c,f,$("#"+$.jgrid.jqID(e.p.id)),$(this));void 0!==m&&null!==m&&"object"==typeof m&&(f=m)}if(c.helper.dropped){var n;a.autoid&&($.isFunction(a.autoid)?n=a.autoid.call(this,f):(n=Math.ceil(1e3*Math.random()),n=a.autoidprefix+n)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",n,f,a.droppos)}a.ondrop&&$.isFunction(a.ondrop)&&a.ondrop.call(this,b,c,f)}}},a.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},a||{}),a.connectWith)for(a.connectWith=a.connectWith.split(","),a.connectWith=$.map(a.connectWith,function(a){return $.trim(a)}),$.data(e,"dnd",a),0===e.p.reccount||e.p.jqgdnd||b(),e.p.jqgdnd=!0,c=0;c<a.connectWith.length;c++)d=a.connectWith[c],$(d).droppable($.isFunction(a.drop)?a.drop.call($(e),a):a.drop)}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id);if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(a,b){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",b.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,a,b)},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}}),$.jgrid.extend({setTreeNode:function(a,b){return this.each(function(){var c=this;if(c.grid&&c.p.treeGrid)for(var d,e,f,g,h,i,j=c.p.expColInd,k=c.p.treeReader.expanded_field,l=c.p.treeReader.leaf_field,m=c.p.treeReader.level_field,n=c.p.treeReader.icon_field,o=c.p.treeReader.loaded;b>a;){var p,q=$.jgrid.stripPref(c.p.idPrefix,c.rows[a].id),r=c.p._index[q];if(h=c.p.data[r],d=parseInt(h[m],10),0===c.p.tree_root_level?(e=d+1,f=d):(e=d,f=d-1),g="<div class='tree-wrap' style='width:"+18*e+"px;'>",g+="<div style='left:"+18*f+"px;' class='ui-icon ",void 0!==h[o]&&(h[o]="true"===h[o]||h[o]===!0?!0:!1),"true"===h[l]||h[l]===!0?(g+=(void 0!==h[n]&&""!==h[n]?h[n]:c.p.treeIcons.leaf)+" tree-leaf treeclick",h[l]=!0,i="leaf"):(h[l]=!1,i=""),h[k]=("true"===h[k]||h[k]===!0?!0:!1)&&(h[o]||void 0===h[o]),g+=h[k]===!1?h[l]===!0?"'":c.p.treeIcons.plus+" tree-plus treeclick'":h[l]===!0?"'":c.p.treeIcons.minus+" tree-minus treeclick'",g+="></div></div>",$(c.rows[a].cells[j]).wrapInner("<span class='cell-wrapper"+i+"'></span>").prepend(g),d!==parseInt(c.p.tree_root_level,10)){var s=$(c).jqGrid("getNodeParent",h);p=s&&s.hasOwnProperty(k)?s[k]:!0,p||$(c.rows[a]).css("display","none")}$(c.rows[a].cells[j]).find("div.treeclick").bind("click",function(a){var b=a.target||a.srcElement,d=$.jgrid.stripPref(c.p.idPrefix,$(b,c.rows).closest("tr.jqgrow")[0].id),e=c.p._index[d],f=c._trigger("jqGridBeforeSelectRow",[d,a]);if(f=f===!1||"stop"===f?!1:!0,f&&$.isFunction(c.p.beforeSelectRow)&&(f=c.p.beforeSelectRow.call(c,d,a)),f===!1)return!1;if(!c.p.data[e][l])if(c.p.data[e][k])$(c).jqGrid("collapseNode",c.p.data[e]),c._trigger("jqGridOnRowCollapse",[c.p.data[e]]),$.isFunction(c.p.onRowCollapse)&&c.p.onRowCollapse.call(c,c.p.data[e]);else{if($(c).jqGrid("expandNode",c.p.data[e]),c._trigger("jqGridOnRowExpand",[c.p.data[e]]),$.isFunction(c.p.onRowExpand)&&c.p.onRowExpand.call(c,c.p.data[e]),!c.p.leafChange)return!1;var g=c.p.data[e],h=$(c).jqGrid("getNodeChildren",g);if(0==h.length){g[l]=!0,g[k]=!1,$(c).jqGrid("setTreeRow",g[c.p.keyName],g);var i=$(c).jqGrid("getInd",g[c.p.keyName]);$(c.rows[i]).find("span.cell-wrapper").removeClass("cell-wrapper").addClass("cell-wrapperleaf").end().find("div.tree-minus").removeClass(c.p.treeIcons.minus+" tree-minus").addClass(c.p.treeIcons.leaf+" tree-leaf")}}return!1}),c.p.ExpandColClick===!0&&$(c.rows[a].cells[j]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(a){var b=a.target||a.srcElement,d=$.jgrid.stripPref(c.p.idPrefix,$(b,c.rows).closest("tr.jqgrow")[0].id),e=c.p._index[d];return c.p.data[e][l]||(c.p.data[e][k]?$(c).jqGrid("collapseNode",c.p.data[e]):$(c).jqGrid("expandNode",c.p.data[e])),$(c).jqGrid("setSelection",d),!1}),a++}})},setTreeGrid:function(){return this.each(function(){var a,b,c,d,e=this,f=0,g=!1,h=[];if(e.p.treeGrid){e.p.altRows=!1,e.p.viewrecords=!1,e.p.expColInd=0,a="ui-icon-triangle-1-"+("rtl"===e.p.direction?"w":"e"),e.p.treeIcons=$.extend({plus:a,minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},e.p.treeIcons||{}),e.p.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},e.p.treeReader);for(c in e.p.colModel)if(e.p.colModel.hasOwnProperty(c)){b=e.p.colModel[c].name,b!==e.p.ExpandColumn||g||(g=!0,e.p.expColInd=f),f++;for(d in e.p.treeReader)e.p.treeReader.hasOwnProperty(d)&&e.p.treeReader[d]===b&&h.push(b)}$.each(e.p.treeReader,function(a,b){b&&-1===$.inArray(b,h)&&("leaf_field"===a&&(e.p._treeleafpos=f),f++,e.p.colModel.push({label:b,name:b,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(a){this.each(function(){var b=this;if(b.grid&&b.p.treeGrid){var c=$(b).jqGrid("getNodeChildren",a),d=b.p.treeReader.expanded_field;$(c).each(function(){var a=b.p.idPrefix+$.jgrid.getAccessor(this,b.p.keyName);$($(b).jqGrid("getGridRowById",a)).css("display",""),this[d]&&$(b).jqGrid("expandRow",this)})}})},collapseRow:function(a){this.each(function(){var b=this;if(b.grid&&b.p.treeGrid){var c=$(b).jqGrid("getNodeChildren",a),d=b.p.treeReader.expanded_field;$(c).each(function(){var a=b.p.idPrefix+$.jgrid.getAccessor(this,b.p.keyName);$($(b).jqGrid("getGridRowById",a)).css("display","none"),this[d]&&$(b).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var a=[];return this.each(function(){var b=this;if(b.grid&&b.p.treeGrid){var c=b.p.treeReader.parent_id_field;$(b.p.data).each(function(){(null===this[c]||"null"===String(this[c]).toLowerCase()||void 0===this[c]||"undefined"===this[c]||""===this[c])&&a.push(this)})}}),a},getNodeDepth:function(a){var b=null;return this.each(function(){if(this.grid&&this.p.treeGrid){var c=this;b=$(c).jqGrid("getNodeAncestors",a).length}}),b},getNodeParent:function(a){var b=null;return this.each(function(){var c=this;if(c.grid&&c.p.treeGrid){var d=c.p.treeReader.parent_id_field,e=c.p.keyName;$(this.p.data).each(function(){return this[e]===$.jgrid.stripPref(c.p.idPrefix,a[d])?(b=this,!1):void 0})}}),b},getNodeChildren:function(a){var b=[];return this.each(function(){var c=this;if(c.grid&&c.p.treeGrid){var d=c.p.treeReader.parent_id_field,e=c.p.keyName;$(this.p.data).each(function(){this[d]==$.jgrid.stripPref(c.p.idPrefix,a[e])&&b.push(this)})}}),b},getFullTreeNode:function(a){var b=[];return this.each(function(){var c,d=this;if(d.grid&&d.p.treeGrid&&a){b.push(a);var e=d.p.treeReader.parent_id_field,f=d.p.keyName;$(this.p.data).each(function(a){for(c=b.length,a=0;c>a;a++)if($.jgrid.stripPref(d.p.idPrefix,b[a][f])===this[e]){b.push(this);break}})}}),b},getNodeAncestors:function(a){var b=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var c=$(this).jqGrid("getNodeParent",a);c;)b.push(c),c=$(this).jqGrid("getNodeParent",c)}),b},isVisibleNode:function(a){var b=!0;return this.each(function(){var c=this;if(c.grid&&c.p.treeGrid){var d=$(c).jqGrid("getNodeAncestors",a),e=c.p.treeReader.expanded_field;$(d).each(function(){return b=b&&this[e],b?void 0:!1})}}),b},expandNode:function(a){return this.each(function(){var b=this;if(this.grid&&this.p.treeGrid){var c=this.p.treeReader.expanded_field;if(!a[c]||"false"===a[c]){a[c]=!0;var d=$.jgrid.getAccessor(a,this.p.keyName),e=$("#"+this.p.idPrefix+$.jgrid.jqID(d),this.grid.bDiv)[0];$("div.treeclick",e).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")}$(b).jqGrid("expandRow",a)}})},collapseNode:function(a){return this.each(function(){var b=this;if(this.grid&&this.p.treeGrid){var c=this.p.treeReader.expanded_field;if(a[c]||"true"===a[c]){a[c]=!1;var d=$.jgrid.getAccessor(a,this.p.keyName),e=$("#"+this.p.idPrefix+$.jgrid.jqID(d),this.grid.bDiv)[0];$("div.treeclick",e).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus")}$(b).jqGrid("collapseRow",a)}})},SortTree:function(a,b,c,d){return this.each(function(){if(this.grid&&this.p.treeGrid){var e,f,g,h,i,j=[],k=this,l=$(this).jqGrid("getRootNodes");for(h=$.jgrid.from(l),h.orderBy(a,b,c,d),i=h.select(),e=0,f=i.length;f>e;e++)g=i[e],j.push(g),$(this).jqGrid("collectChildrenSortTree",j,g,a,b,c,d);$.each(j,function(a){var b=$.jgrid.getAccessor(this,k.p.keyName);$("#"+$.jgrid.jqID(k.p.id)+" tbody tr:eq("+a+")").after($("tr#"+$.jgrid.jqID(b),k.grid.bDiv))}),h=null,i=null,j=null}})},collectChildrenSortTree:function(a,b,c,d,e,f){return this.each(function(){if(this.grid&&this.p.treeGrid){var g,h,i,j,k,l;for(j=$(this).jqGrid("getNodeChildren",b),k=$.jgrid.from(j),k.orderBy(c,d,e,f),l=k.select(),g=0,h=l.length;h>g;g++)i=l[g],a.push(i),$(this).jqGrid("collectChildrenSortTree",a,i,c,d,e,f)}})},setTreeRow:function(a,b){return this.jqGrid("modTreeNode",a,b)},modTreeNode:function(a,b){var c=!1;return this.each(function(){var d=this;d.grid&&d.p.treeGrid&&(c=$(d).jqGrid("setRowData",a,b))}),c},delTreeNode:function(a){var b=this[0],c=b.p.keyName;return"object"===$.type(a)&&(a=a[c]),this.each(function(){if(b.grid&&b.p.treeGrid){var d=b.p._index[a];if(void 0!==d){var e=$(b).jqGrid("getFullTreeNode",b.p.data[d]);if(e.length>0)for(var f=0;f<e.length;f++)$(b).jqGrid("delRowData",e[f][c])}}})},addChildNode:function(a,b,c,d){var e=this[0];if("object"===$.type(a)&&(d=c,c=a,a=c[e.p.keyName]),"object"===$.type(b)&&(b=b[e.p.keyName]),c){var f,g,h,i,j,k,l,m=e.p.treeReader.expanded_field,n=e.p.treeReader.leaf_field,o=e.p.treeReader.level_field,p=e.p.treeReader.parent_id_field,q=e.p.treeReader.loaded,r=0,s=b;if(void 0===d&&(d=!1),void 0===a||null===a){if(j=e.p.data.length-1,j>=0)for(;j>=0;)r=Math.max(r,parseInt(e.p.data[j][e.p.keyName],10)),j--;a=r+1}var t=$(e).jqGrid("getInd",b);if(l=!1,void 0===b||null===b||""===b)b=null,s=null,f="last",i=e.p.tree_root_level,j=e.p.data.length+1;else{f="after",g=e.p._index[b],h=e.p.data[g],b=h[e.p.keyName],i=parseInt(h[o],10)+1;var u=$(e).jqGrid("getFullTreeNode",h);u.length?(j=u[u.length-1][e.p.keyName],s=j,j=$(e).jqGrid("getInd",s)+1):j=$(e).jqGrid("getInd",b)+1,h[n]&&(l=!0,h[m]=!0,$(e.rows[t]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(e.p.treeIcons.leaf+" tree-leaf").addClass(e.p.treeIcons.minus+" tree-minus"),e.p.data[g][n]=!1,h[q]=!0)}k=j+1,void 0===c[m]&&(c[m]=!1),void 0===c[q]&&(c[q]=!1),c[o]=i,void 0===c[n]&&(c[n]=!0),c[p]=b,$(e).jqGrid("addRowData",a,c,f,s),$(e).jqGrid("setTreeNode",j,k),h&&!h[m]&&d&&$(e.rows[t]).find("div.treeclick").click()}},addChildNodes:function(a,b,c){var d,b,e,f=this[0];if("object"===$.type(b)&&(d=b,b=d[f.p.keyName]),e=b,a){var g,h,i,j,k,l,e,m=f.p.treeReader.expanded_field,n=f.p.treeReader.leaf_field,o=f.p.treeReader.level_field,p=f.p.treeReader.parent_id_field,q=f.p.treeReader.loaded;void 0===c&&(c=!1);var r=$(f).jqGrid("getInd",b);if(l=!1,void 0===b||null===b||""===b)b=null,e=null,g="last",i=f.p.tree_root_level,j=f.p.data.length+1;else{g="after",h=f.p._index[b],b=d[f.p.keyName],i=parseInt(d[o],10)+1;var s=$(f).jqGrid("getFullTreeNode",d);s.length?(j=s[s.length-1][f.p.keyName],e=j,j=$(f).jqGrid("getInd",e)+1):j=$(f).jqGrid("getInd",b)+1,d[n]&&(l=!0,d[m]=!0,$(f.rows[r]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(f.p.treeIcons.leaf+" tree-leaf").addClass(f.p.treeIcons.minus+" tree-minus"),f.p.data[h][n]=!1,d[q]=!0)}k=j+a.length;for(var t=0;t<a.length;t++)void 0===a[t][m]&&(a[t][m]=!1),a[t][q]=!0,a[t][o]=i,void 0===a[t][n]&&(a[t][n]=!0),a[t][p]=b;$(f).jqGrid("addRowData",f.p.keyName,a,g,e),$(f).jqGrid("setTreeNode",j,k),d&&!d[m]&&c&&$(f.rows[r]).find("div.treeclick").click()}}}),$.jgrid.treeDataFormat=function(a,b){for(var c=0;c<a.length;c++)null==a[c].isLeaf&&(a[c].isLeaf=c==a.length-1||a[c+1].level<=a[c].level?!0:!1),a[c].level=a[c].level-1,b?a[c].expanded=!0:null==a[c].expanded&&(a[c].expanded=!1),a[c].loaded=!0;return a},$.jgrid.childrenDataFormat=function(a,b,c){function d(a,g,h){for(var i=0;i<a.length;i++){var j=a[i],k=j;k.level=g,k.parent=h,null==k.isLeaf&&(k.isLeaf=k.hasOwnProperty("children")?!1:!0),c?k.expanded=!0:null==k.expanded&&(k.expanded=!1),k.loaded=!0,e[f++]=k,null!=k.children&&(k.children.length>0&&d(k.children,g+1,k[b]),k.children=null)}}var e=[],f=0,g=0;return d(a,g,null),e},$.fn.grid=$.fn.jqGrid=function(a){var b=Array.apply(null,arguments),c=this;return b.shift(),this.each(function(){var d=$(this),e=d.data("grid"),f="object"==typeof a&&a;if(e||"string"===$.type(a)){if("string"===$.type(a)){var g=$.jgrid.getMethod(a);if(!g)throw"grid - No such method: "+a;c=g.apply(d,b)}}else{this.id?"":d.uniqueId();var h=this.id;new jqGrid(this,$.extend({},$.jgrid.defaults,f)),c=$("#"+h),c.data("grid",!0)}}),c}}),!function(a){"function"==typeof define&&define.amd?define("fish.intro",a):a()}(function(){$.widget("ui.intro",{options:{nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",toolTipPosition:"bottom",toolTipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,scrollToElement:!0,overlayOpacity:.8,rtl:!1,beforeChange:$.noop,change:$.noop,afterChange:$.noop,complete:$.noop,exit:$.noop},_create:function(){var a=this.element;this.options=$.extend({},this.options,{nextLabel:a.data("next-label"),prevLabel:a.data("prev-label"),skipLabel:a.data("skip-label"),doneLabel:a.data("done-label"),toolTipPosition:a.data("tooltip-position"),toolTipClass:a.data("tooltip-class"),exitOnEsc:a.data("exit-on-esc"),exitOnOverlayClick:a.data("exit-on-overlay-click"),showStepNumbers:a.data("show-step-numbers"),keyboardNavigation:a.data("keyboard-navigation"),showButtons:a.data("show-buttons"),showBullets:a.data("show-bulltets")})},_init:function(){},_destroy:function(){},_start:function(){var a=[],b=this.element;if(this.options.steps)for(var c=[],d=0,e=this.options.steps.length;e>d;d++){var f=$.extend(!0,{},this.options.steps[d]);f.step=a.length+1,"string"==typeof f.element&&(f.element=$(f.element)),null!=f.element&&a.push(f)}else{var c=b.find("*[data-intro]");if(c.length<1)return!1;for(var d=0,g=c.length;g>d;d++){var h=$(c[d]),i=parseInt(h.data("step"),10);a[i-1]={element:h,intro:h.data("intro"),step:i,tooltipClass:h.data("tooltipClass"),position:h.data("position")||this.options.tooltipposition}}}a.sort(function(a,b){return a.step-b.step}),this.introItems=a,this._addOverlayLayer(),this._nextStep(),this._handleEvent()},_handleEvent:function(){function a(a){a.keyCode===$.ui.keyCode.ESCAPE&&c.options.exitOnEsc===!0?(c._trigger("exit",null,c.introItems[c.currentStep]),c._exitIntro()):a.keyCode===$.ui.keyCode.LEFT?c._previousStep():(a.keyCode===$.ui.keyCode.RIGHT||a.keyCode===$.ui.keyCode.ENTER)&&(c._nextStep(),a.preventDefault?a.preventDefault():a.returnValue=!1)}var b,c=this;this.options.keyboardNavigation===!0&&(document.addEventListener?$(window).on("keydown.intro",a):$(document).on("keydown.intro",a)),$(window).on("resize.intro",function(){clearTimeout(b),b=setTimeout(function(){c._setHelperLayer(c.element.find(".ui-intro-helper-layer"))},150)})},_addOverlayLayer:function(){var a=$('<div class="ui-intro-overlay"></div>'),b="",c=this,d=this.element;if(d.is(document)||d.is(document.body))b+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",a.attr("style",b);else{var e=d.offset();b+="width:"+d.outerwidth()+"px",b+=",height:"+d.outerheight()+"px",b+=",top:"+e.top+"px",b+=",left:"+e.left+"px",a.attr("style",b)}return d.append(a),a.on("click",function(){c.options.exitOnOverlayClick===!0&&(a.off("click"),c._trigger("exit",null,c.introItems[c.currentStep]),c._exitIntro())}),setTimeout(function(){b+="opacity: "+c.options.overlayOpacity+";",a.attr("style",b)},10),!0},_setHelperLayer:function(a){if(a&&0!=a.length){var b=this.introItems[this.currentStep];if(!b)return;var c=this._getOffset(b.element),d=10;"floating"==b.position&&(d=0),a.attr("style","width: "+(c.width+d)+"px; height:"+(c.height+d)+"px; top:"+(c.top-5)+"px;left: "+(c.left-5)+"px;")}},_showIntro:function(a){this._trigger("change",null,a);{var b=this,c=document.querySelector(".ui-intro-helper-layer");this._getOffset(a.element)}if(null!=c){var d=$(c),e=c.querySelector(".ui-intro-helper-number-layer"),f=c.querySelector(".ui-intro-tooltiptext"),g=c.querySelector(".ui-intro-arrow"),h=c.querySelector(".ui-intro-tooltip"),i=d.find(".ui-intro-skipbutton"),j=d.find(".ui-intro-prevbutton"),k=d.find(".ui-intro-nextbutton");if(h.style.opacity=0,null!=e){var l=this.introItems[a.step-2>=0?a.step-2:0];(null!=l&&"forward"==this._direction&&"floating"==l.position||"backward"==this._direction&&"floating"==a.position)&&(e.style.opacity=0)}this._setHelperLayer($(c)),$(".ui-intro-fix-parent").removeClass("ui-intro-fix-parent");var m=document.querySelector(".ui-intro-show-element");m.className=m.className.replace(/ui-intro-[a-za-z]+/g,"").replace(/^\s+|\s+$/g,""),b._lastshowelementtimer&&clearTimeout(b._lastshowelementtimer),b._lastshowelementtimer=setTimeout(function(){null!=e&&(e.innerHTML=a.step),f.innerHTML=a.intro,b._placeToolTip(a.element,h,g,e),d.find(".ui-intro-bullets li > a.active").removeClass(),d.find(".ui-intro-bullets li > a").each(function(){var b=$(this);return b.data("step-number")==a.step?(b.addClass("active"),!1):void 0}),h.style.opacity=1,e&&(e.style.opacity=1)},350)}else{var n=$('<div class="ui-intro-helper-layer"></div>'),o=$('<div class="ui-intro-arrow"></div>'),p=$('<div class="ui-intro-tooltip"></div>'),q=$('<div class="ui-intro-tooltiptext"></div>').html(a.intro),r=$('<div class="ui-intro-bullets"></div>'),s=$('<div class="ui-intro-tooltipbuttons"></div>');this.options.rtl===!0&&(s.addClass("rtl"),p.addClass("rtl")),this._setHelperLayer(n),this.element.append(n),this.options.showBullets===!1&&r.css("display","none");for(var t=$("<ul>"),u=0,v=this.introItems.length;v>u;u++){var w=$("<li>"),x=$('<a href="javascript:void(0)">&nbsp;</a>');x.on("click",function(){var a=$(this).data("step-number");t.find("li a.active").data("step-number")!==a&&b.goToStep(a)}),u===a.step-1&&x.removeClass().addClass("active"),x.data("step-number",this.introItems[u].step),w.append(x),t.append(w)}if(r.append(t),this.options.showButtons===!1&&s.css("display","none"),p.append(q).append(r),this.options.showStepNumbers===!0){var y=$('<span class="ui-intro-helper-number-layer">'+a.step+"</span>");n.append(y)}n.append(p.append(o));var k=$('<a href="javascript:void(0)" class="ui-intro-button ui-intro-nextbutton">'+this.options.nextLabel+"</a>");k.on("click",function(){b.introItems.length-1!=b.currentStep&&b._nextStep()});var j=$('<a href="javascript:void(0)" class="ui-intro-button ui-intro-prevbutton">'+this.options.prevLabel+"</a>");j.on("click",function(){0!=b.currentStep&&b._previousStep()});var i=$('<a href="javascript:void(0)" class="ui-intro-button ui-intro-skipbutton">'+this.options.skiplabel+"</a>");i.on("click",function(){b.introItems.length-1==b.currentStep&&b._trigger("complete"),b.introItems.length-1!=b.currentStep&&b._trigger("exit",null,b.introItems[b.currentStep]),b._exitIntro()}),this.options.rtl===!0&&i.addClass("rtl"),s.append(i),this.introItems.length>1&&s.append(j).append(k),p.append(s),this._placeToolTip(a.element,p[0],o[0],y[0])}0==this.currentStep&&this.introItems.length>1?(j.addClass("ui-intro-disabled"),k.removeClass("ui-intro-disabled"),i.html(this.options.skipLabel)):this.introItems.length-1==this.currentStep||1==this.introItems.length?(j.removeClass("ui-intro-disabled"),k.addClass("ui-intro-disabled"),i.html(this.options.doneLabel)):(j.removeClass("ui-intro-disabled"),k.removeClass("ui-intro-disabled"),i.html(this.options.skipLabel)),k.focus(),a.element.addClass("ui-intro-show-element");var z=a.element.css("position");"absolute"!==z&&"relative"!==z&&a.element.addClass("ui-intro-relative-position");for(var A=a.element.parent();null!=A&&0!=A.length;){var B=A[0];if("body"===B.tagName.toLowerCase())break;var C=A.css("z-index"),D=parseFloat(A.css("opacity")),E=A.css("transform")||A.css("-webkit-transform")||A.css("-moz-transform")||A.css("-ms-transform")||A.css("-o-transform");(/[0-9]+/.test(C)||1>D||"none"!==E)&&A.addClass("ui-intro-fix-parent"),A=A.parent()}if(!this._isInViewPort(a.element[0])&&this.options.scrollToElement===!0){var F=a.element[0],G=F.getBoundingClientRect(),H=$(window).outerHeight(),I=G.bottom-(G.bottom-G.top),J=G.bottom-H;0>I||F.clientHeight>H?window.scrollBy(0,I-30):window.scrollBy(0,J+100)}this._trigger("afterChange",null,a)},_placeToolTip:function(a,b,c,d){var e,f,g,h="";if(b.style.top=null,b.style.right=null,b.style.bottom=null,b.style.left=null,b.style.marginLeft=null,b.style.marginTop=null,c.style.display="inherit","undefined"!=typeof d&&null!=d&&(d.style.top=null,d.style.left=null),this.introItems[this.currentStep]){e=this.introItems[this.currentStep],h="string"==typeof e.tooltipClass?e.tooltipClass||"":this.options.tooltipClass||"",b.className=(b.className+h).replace(/^\s+|\s+$/g,"");var h=this.options.tooltipClass,i=this.introItems[this.currentStep].position;switch(i){case"top":b.style.left="15px",b.style.top="-"+(this._getOffset($(b)).height+10)+"px",c.className="ui-intro-arrow bottom";break;case"right":b.style.left=this._getOffset($(a)).width+20+"px",c.className="ui-intro-arrow left";break;case"left":1==this.options.showStepNumbers&&(b.style.top="15px"),b.style.right=this._getOffset($(a)).width+20+"px",c.className="ui-intro-arrow right";break;case"floating":c.style.display="none",f=this._getOffset($(b)),b.style.left="50%",b.style.top="50%",b.style.marginLeft="-"+f.width/2+"px",b.style.marginTop="-"+f.height/2+"px","undefined"!=typeof d&&null!=d&&(d.style.left="-"+(f.width/2+18)+"px",d.style.top="-"+(f.height/2+18)+"px");break;case"bottom-right-aligned":c.className="ui-intro-arrow top-right",b.style.right="0px",b.style.bottom="-"+(this._getOffset($(b)).height+10)+"px";break;case"bottom-middle-aligned":g=this._getOffset(a),f=this._getOffset(b),c.className="ui-intro-arrow top-middle",b.style.left=g.width/2-f.width/2+"px",b.style.bottom="-"+(f.height+10)+"px";break;case"bottom-left-aligned":case"bottom":default:b.style.bottom="-"+(this._getOffset($(b)).height+10)+"px",c.className="ui-intro-arrow top"}}},_getOffset:function(a){var b=a.offset();return $.extend({},b,{width:a.outerWidth(),height:a.outerHeight()})},_isInViewPort:function(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom+80<=window.innerHeight&&b.right<=window.innerWidth},_nextStep:function(){if(this.direction="forward","undefined"==typeof this.currentStep?this.currentStep=0:++this.currentStep,this.introItems.length<=this.currentStep)return this._trigger("complete"),void this._exitIntro();var a=this.introItems[this.currentStep];this._trigger("beforeChange",null,a),this._showIntro(a)},_previousStep:function(){if(this.direction="backward",0===this.currentStep)return!1;var a=this.introItems[--this.currentStep];this._trigger("beforeChange",null,a),this._showIntro(a)},_goToStep:function(a){this.currentStep=a-2,"undefined"!=typeof this.introItems&&this._nextStep()},_exitIntro:function(){var a=this.element,b=a.find(".ui-intro-overlay");if(null!=b&&0!==b.length){b.css("opacity",0),setTimeout(function(){b.remove()},500),a.find(".ui-intro-helper-layer").remove(),a.find(".ui-intro-floating-element").remove();var c=document.querySelector(".ui-intro-show-element");c&&(c.className=c.className.replace(/ui-intro-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var d=document.querySelectorAll(".ui-intro-fix-parent");if(d&&d.length>0)for(var e=d.length-1;e>=0;e--)d[e].className=d[e].className.replace(/ui-intro-fix-parent/g,"").replace(/^\s+|\s+$/g,"");document.addEventListener?$(window).off("keydown.intro"):$(document).off("resize.intro"),this.currentStep=void 0}},start:function(){return this._start(),this},goToStep:function(a){return this._goToStep(a),this},nextStep:function(){return this._nextStep(),this},previousStep:function(){return this._previousStep(),this},exit:function(){return this._exitIntro(),this}})}),!function(a){"function"==typeof define&&define.amd?define("fish.loadUI",a):a()}(function(){function a(a,c){var e=a==window,h=c&&void 0!==c.message?c.message:void 0;if(c=$.extend({},$.blockUI.defaults,c||{}),!c.ignoreIfBlocked||!$(a).data("blockUI.isBlocked")){if(h=void 0===h?c.message:h,e&&i&&b(window,{fadeOut:0}),h&&"string"!=typeof h&&(h.parentNode||h.jquery)){var k=h.jquery?h[0]:h,l={};$(a).data("blockUI.history",l),l.el=k,l.parent=k.parentNode,l.display=k.style.display,l.position=k.style.position,l.parent&&l.parent.removeChild(k)}$(a).data("blockUI.onUnblock",c.onUnblock);var m,n,o,p,q=c.baseZ;m=$('<div class="blockUI" style="display:none"></div>'),n=$('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+q++ +';display:none"></div>'),p=e?'<div class="blockUI '+c.blockMsgClass+' blockPage" style="z-index:'+(q+10)+';display:none;position:fixed"><span class="loading"></span><span class="blockUI-content"></span></div>':'<div class="blockUI '+c.blockMsgClass+' blockElement" style="z-index:'+(q+10)+';display:none;position:absolute"><span class="loading"></span><span class="blockUI-content"></span></div>',o=$(p),c.theme||n.addClass("overlayCSS"),n.css("position",e?"fixed":"absolute");var r=[n,o],s=$(e?"body":a);if($.each(r,function(){this.appendTo(s)}),h?o.find(".blockUI-content").html(h):o.find(".blockUI-content").addClass("blockUI-iconOnly"),c.showLoading?o.find(".loading").show():o.find(".loading").hide(),e&&o.css("margin-left",-(o.outerWidth()/2)+"px"),c.showOverlay&&n.show(),o.show(),c.onBlock&&c.onBlock(),d(1,a,c),e?(i=o[0],j=$(c.focusableElements,i),c.focusInput&&setTimeout(f,20)):g(o[0],c.centerX,c.centerY),c.timeout){var t=setTimeout(function(){e?$.unblockUI(c):$(a).unblock(c)},c.timeout);$(a).data("blockUI.timeout",t)}}}function b(a,b){var e,f=a==window,g=$(a),h=g.data("blockUI.history"),k=g.data("blockUI.timeout");k&&(clearTimeout(k),g.removeData("blockUI.timeout")),b=$.extend({},$.blockUI.defaults,b||{}),d(0,a,b),null===b.onUnblock&&(b.onUnblock=g.data("blockUI.onUnblock"),g.removeData("blockUI.onUnblock"));var l;l=f?$("body").children().filter(".blockUI").add("body > .blockUI"):g.find(">.blockUI"),b.cursorReset&&(l.length>1&&(l[1].style.cursor=b.cursorReset),l.length>2&&(l[2].style.cursor=b.cursorReset)),f&&(i=j=null),b.fadeOut?(e=l.length,l.stop().fadeOut(b.fadeOut,function(){0===--e&&c(l,h,b,a)})):c(l,h,b,a)}function c(a,b,c,d){var e=$(d);if(!e.data("blockUI.isBlocked")){a.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),b&&b.el&&(b.el.style.display=b.display,b.el.style.position=b.position,b.parent&&b.parent.appendChild(b.el),e.removeData("blockUI.history")),e.data("blockUI.static")&&e.css("position","static"),"function"==typeof c.onUnblock&&c.onUnblock(d,c);var f=$(document.body),g=f.width(),h=f[0].style.width;f.width(g-1).width(g),f[0].style.width=h}}function d(a,b,c){var d=b==window,f=$(b);if((a||(!d||i)&&(d||f.data("blockUI.isBlocked")))&&(f.data("blockUI.isBlocked",a),d&&c.bindEvents&&(!a||c.showOverlay))){var g="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";a?$(document).bind(g,c,e):$(document).unbind(g,e)}}function e(a){if("keydown"===a.type&&a.keyCode&&9==a.keyCode&&i&&a.data.constrainTabKey){var b=j,c=!a.shiftKey&&a.target===b[b.length-1],d=a.shiftKey&&a.target===b[0];if(c||d)return setTimeout(function(){f(d)},10),!1}var e=a.data,g=$(a.target);return g.hasClass("blockOverlay")&&e.onOverlayClick&&e.onOverlayClick(a),g.parents("div."+e.blockMsgClass).length>0?!0:0===g.parents().children().filter("div.blockUI").length}function f(a){if(j){var b=j[a===!0?j.length-1:0];b&&b.focus()}}function g(a,b,c){var d=a.parentNode,e=a.style,f=(d.offsetWidth-a.offsetWidth)/2-h(d,"borderLeftWidth"),g=(d.offsetHeight-a.offsetHeight)/2-h(d,"borderTopWidth");b&&(e.left=f>0?f+"px":"0"),c&&(e.top=g>0?g+"px":"0")}function h(a,b){return parseInt($.css(a,b),10)||0}$.blockUI=function(b){a(window,b)},$.unblockUI=function(a){b(window,a)},$.fn.block=function(b){if(this[0]===window)return $.blockUI(b),this;var c=$.extend({},$.blockUI.defaults,b||{});return this.each(function(){var a=$(this);c.ignoreIfBlocked&&a.data("blockUI.isBlocked")||a.unblock({fadeOut:0})}),this.each(function(){"static"==$.css(this,"position")&&(this.style.position="relative",$(this).data("blockUI.static",!0)),this.style.zoom=1,a(this,b)})},$.fn.unblock=function(a){return this[0]===window?($.unblockUI(a),this):this.each(function(){b(this,a)})},$.blockUI.version=2.66,$.blockUI.defaults={message:fish.getResource("loadUI.loading")||"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!0,showLoading:!0,cursorReset:"default",baseZ:1e3,centerX:!0,centerY:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var i=null,j=[]}),!function(a){"function"==typeof define&&define.amd?define("fish.md5",a):a()}(function(){"use strict";function a(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function b(a,b){return a<<b|a>>>32-b}function c(c,d,e,f,g,h){return a(b(a(a(d,c),a(f,h)),g),e)}function d(a,b,d,e,f,g,h){return c(b&d|~b&e,a,b,f,g,h)}function e(a,b,d,e,f,g,h){return c(b&e|d&~e,a,b,f,g,h)}function f(a,b,d,e,f,g,h){return c(b^d^e,a,b,f,g,h)}function g(a,b,d,e,f,g,h){return c(d^(b|~e),a,b,f,g,h)}function h(b,c){b[c>>5]|=128<<c%32,b[(c+64>>>9<<4)+14]=c;var h,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(h=0;h<b.length;h+=16)i=m,j=n,k=o,l=p,m=d(m,n,o,p,b[h],7,-680876936),p=d(p,m,n,o,b[h+1],12,-389564586),o=d(o,p,m,n,b[h+2],17,606105819),n=d(n,o,p,m,b[h+3],22,-1044525330),m=d(m,n,o,p,b[h+4],7,-176418897),p=d(p,m,n,o,b[h+5],12,1200080426),o=d(o,p,m,n,b[h+6],17,-1473231341),n=d(n,o,p,m,b[h+7],22,-45705983),m=d(m,n,o,p,b[h+8],7,1770035416),p=d(p,m,n,o,b[h+9],12,-1958414417),o=d(o,p,m,n,b[h+10],17,-42063),n=d(n,o,p,m,b[h+11],22,-1990404162),m=d(m,n,o,p,b[h+12],7,1804603682),p=d(p,m,n,o,b[h+13],12,-40341101),o=d(o,p,m,n,b[h+14],17,-1502002290),n=d(n,o,p,m,b[h+15],22,1236535329),m=e(m,n,o,p,b[h+1],5,-165796510),p=e(p,m,n,o,b[h+6],9,-1069501632),o=e(o,p,m,n,b[h+11],14,643717713),n=e(n,o,p,m,b[h],20,-373897302),m=e(m,n,o,p,b[h+5],5,-701558691),p=e(p,m,n,o,b[h+10],9,38016083),o=e(o,p,m,n,b[h+15],14,-660478335),n=e(n,o,p,m,b[h+4],20,-405537848),m=e(m,n,o,p,b[h+9],5,568446438),p=e(p,m,n,o,b[h+14],9,-1019803690),o=e(o,p,m,n,b[h+3],14,-187363961),n=e(n,o,p,m,b[h+8],20,1163531501),m=e(m,n,o,p,b[h+13],5,-1444681467),p=e(p,m,n,o,b[h+2],9,-51403784),o=e(o,p,m,n,b[h+7],14,1735328473),n=e(n,o,p,m,b[h+12],20,-1926607734),m=f(m,n,o,p,b[h+5],4,-378558),p=f(p,m,n,o,b[h+8],11,-2022574463),o=f(o,p,m,n,b[h+11],16,1839030562),n=f(n,o,p,m,b[h+14],23,-35309556),m=f(m,n,o,p,b[h+1],4,-1530992060),p=f(p,m,n,o,b[h+4],11,1272893353),o=f(o,p,m,n,b[h+7],16,-155497632),n=f(n,o,p,m,b[h+10],23,-1094730640),m=f(m,n,o,p,b[h+13],4,681279174),p=f(p,m,n,o,b[h],11,-358537222),o=f(o,p,m,n,b[h+3],16,-722521979),n=f(n,o,p,m,b[h+6],23,76029189),m=f(m,n,o,p,b[h+9],4,-640364487),p=f(p,m,n,o,b[h+12],11,-421815835),o=f(o,p,m,n,b[h+15],16,530742520),n=f(n,o,p,m,b[h+2],23,-995338651),m=g(m,n,o,p,b[h],6,-198630844),p=g(p,m,n,o,b[h+7],10,1126891415),o=g(o,p,m,n,b[h+14],15,-1416354905),n=g(n,o,p,m,b[h+5],21,-57434055),m=g(m,n,o,p,b[h+12],6,1700485571),p=g(p,m,n,o,b[h+3],10,-1894986606),o=g(o,p,m,n,b[h+10],15,-1051523),n=g(n,o,p,m,b[h+1],21,-2054922799),m=g(m,n,o,p,b[h+8],6,1873313359),p=g(p,m,n,o,b[h+15],10,-30611744),o=g(o,p,m,n,b[h+6],15,-1560198380),n=g(n,o,p,m,b[h+13],21,1309151649),m=g(m,n,o,p,b[h+4],6,-145523070),p=g(p,m,n,o,b[h+11],10,-1120210379),o=g(o,p,m,n,b[h+2],15,718787259),n=g(n,o,p,m,b[h+9],21,-343485551),m=a(m,i),n=a(n,j),o=a(o,k),p=a(p,l);
return[m,n,o,p]}function i(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function j(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function k(a){return i(h(j(a),8*a.length))}function l(a,b){var c,d,e=j(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=h(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=h(f.concat(j(b)),512+8*b.length),i(h(g.concat(d),640))}function m(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function n(a){return unescape(encodeURIComponent(a))}function o(a){return k(n(a))}function p(a){return m(o(a))}function q(a,b){return l(n(a),n(b))}function r(a,b){return m(q(a,b))}var s=fish.MD5=function(a,b,c){return b?c?q(b,a):r(b,a):c?o(a):p(a)};return s}),!function(a){"function"==typeof define&&define.amd?define("fish.menu",a):a()}(function(){var a=!1;$.widget("ui.menu",{defaultElement:"<ul>",delay:300,options:{icons:{submenu:"arrow-left",firstmenu:"arrow-down"},menus:"ul",position:{my:"left top",at:"right top",collision:"flipfit"},firstposition:{my:"left top",at:"left bottom+2",collision:"flipfit"},role:"menu",disabled:!1,blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,$.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=$(b.target).closest(".ui-menu-item");!a&&c.not(".ui-state-disabled").length&&(a=!0,this.select(b),c.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){var b=$(a.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(a,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(a){this._delay(function(){$.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){$(b.target).closest(".ui-menu").length||this.collapseAll(b),a=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=$(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider")},_keydown:function(a){function b(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var c,d,e,f,g,h=!0;switch(a.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(a);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case $.ui.keyCode.HOME:this._move("first","first",a);break;case $.ui.keyCode.END:this._move("last","last",a);break;case $.ui.keyCode.UP:this.previous(a);break;case $.ui.keyCode.DOWN:this.next(a);break;case $.ui.keyCode.LEFT:this.collapse(a);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(a);break;case $.ui.keyCode.ESCAPE:this.collapse(a);break;default:h=!1,d=this.previousFilter||"",e=String.fromCharCode(a.keyCode),f=!1,clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,g=new RegExp("^"+b(e),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test($(this).children("a").text())}),c=f&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(a.keyCode),g=new RegExp("^"+b(e),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test($(this).children("a").text())})),c.length?(this.focus(a,c),c.length>1?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a,b=this,c=this.options.icons,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var a=$(this),d=a.prev("a"),e=b.element.hasClass("ui-menu-horizontal")&&b.element[0]==a.parent().parent()[0],f=$("<span>").addClass("ui-menu-icon "+(e?c.firstmenu:c.submenu)).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(f),a.attr("aria-labelledby",d.attr("id"))}),a=d.add(this.element),a.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),a.children(":not(.ui-menu-item)").each(function(){var a=$(this);/[^\-\s]/.test(a.text())||a.addClass("ui-menu-divider")}),a.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var b,c,d,e,f,g;this._hasScroll()&&(b=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,c=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,d=a.offset().top-this.activeMenu.offset().top-b-c,e=this.activeMenu.scrollTop(),f=this.activeMenu.height(),g=a.height(),0>d?this.activeMenu.scrollTop(e+d):d+g>f&&this.activeMenu.scrollTop(e+d-f+g))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(a){var b=this.element.hasClass("ui-menu-horizontal")&&this.element[0]==a.parent().parent()[0],c=$.extend({of:this.active},b?this.options.firstposition:this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true"),a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(a,b){clearTimeout(this.timer),this.timer=this._delay(function(){var c=b?this.element:$(a&&a.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element),this._close(c),this.blur(a),this.activeMenu=c},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(a){var b,c,d;return this.active?void(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=$(this),b.offset().top-c-d<0}),this.focus(a,b)):this.focus(a,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(a)},previousPage:function(a){var b,c,d;return this.active?void(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=$(this),b.offset().top-c+d>0}),this.focus(a,b)):this.focus(a,this.activeMenu.children(".ui-menu-item").first()))):void this.next(a)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||$(a.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0),this._trigger("select",a,b)}})}),!function(a){"function"==typeof define&&define.amd?define("fish.multiselect",a):a()}(function(){var $,a,b,c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},a.prototype.escapeExpression=function(a){var b,c;return null==a||a===!1?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},a}(),c.select_to_array=function(a){var b,d,e,f,g;for(d=new c,g=a.childNodes,e=0,f=g.length;f>e;e++)b=g[e],d.add_node(b);return d.parsed},a=function(){function a(a,b){this.form_field=a,this.options=null!=b?b:{},this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers()}return a.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text},a.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},a.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},a.prototype.results_option_build=function(a){var b,c,d,e,f;for(b="",f=this.results_data,d=0,e=f.length;e>d;d++)c=f[d],b+=c.group?this.result_add_group(c):this.result_add_option(c),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return b},a.prototype.result_add_option=function(a){var b,c;return a.search_match&&this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,this.outerHTML(c)):""},a.prototype.result_add_group=function(a){var b;return(a.search_match||a.group_match)&&a.active_options>0?(b=document.createElement("li"),b.className="group-result",b.innerHTML=a.search_text,this.outerHTML(b)):""},a.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},a.prototype.reset_single_select_options=function(){var a,b,c,d,e;for(d=this.results_data,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.selected?a.selected=!1:void 0);return e},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(this.no_results_clear(),e=0,g=this.get_search_text(),a=g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),d=this.search_contains?"":"^",c=new RegExp(d+a,"i"),j=new RegExp(a,"i"),m=this.results_data,k=0,l=m.length;l>k;k++)b=m[k],b.search_match=!1,f=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(f=this.results_data[b.group_array_index],0===f.active_options&&f.search_match&&(e+=1),f.active_options+=1),(!b.group||this.group_search)&&(b.search_text=b.group?b.label:b.html,b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(e+=1),b.search_match?(g.length&&(h=b.search_text.search(j),i=b.search_text.substr(0,h+g.length)+"</em>"+b.search_text.substr(h+g.length),b.search_text=i.substr(0,h)+"<em>"+i.substr(h)),null!=f&&(f.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),1>e&&g.length?(this.update_results_content(""),this.no_results(g)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},a.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},a.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},a.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},a.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.clipboard_event_checker=function(){var a=this;return setTimeout(function(){return a.results_search()},50)},a.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},a.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},a.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},a.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},a.prototype.search_results_touchend=function(a){return this.touch_started?this.search_results_mouseup(a):void 0},a.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},a.default_multiple_text=fish.getResource("multiselect.multiple_text")||"Select Some Options",a.default_single_text=fish.getResource("multiselect.single_text")||"Select an Option",a.default_no_result_text=fish.getResource("multiselect.no_result_text")||"No results match",a}(),b=function(a){function b(){return d=b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.setup=function(){return this.form_field_jq=$(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},b.prototype.set_up_html=function(){var a,b;return a=["chosen-container"],a.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&a.push(this.form_field.className),this.is_rtl&&a.push("chosen-rtl"),b={"class":a.join(" "),title:this.form_field.title},this.form_field.id.length&&(b.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=$("<div />",b),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default ui-widget-create" autocomplete="off"/></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("multiselectready",{chosen:this})},b.prototype.register_observers=function(){var a=this;this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)});var b=this.form_field_jq.closest("form");if(b.length){var c=b.data("fields")||{};this.form_field_jq.attr("name")&&(c[this.form_field_jq.attr("name")]={instance:a.form_field_jq,widgetName:"multiselect"}),b.data("fields",c),!b.data("form-multiselect")&&b.on("reset.multiselect",function(){return window.setTimeout(function(){return b.find("select").filter(function(){return $(this).data("chosen")}).each(function(){return $(this).multiselect("value",[])})},1)}).on("formclear.multiselect",function(){return window.setTimeout(function(){return b.find("select").filter(function(){return $(this).data("chosen")}).each(function(){return $(this).multiselect("value",[])})},1)}).data("form-multiselect",!0)}return this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},b.prototype.destroy=function(){$(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("multiselect");var a=this.form_field_jq.closest("form");return a.length&&a.off(".multiselect").removeData("form-multiselect"),this.form_field_jq.show()},b.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},b.prototype.container_mousedown=function(a){return this.is_disabled||(a&&"mousedown"===a.type&&!this.results_showing&&a.preventDefault(),null!=a&&$(a.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!a||$(a.target)[0]!==this.selected_item[0]&&!$(a.target).parents("a.chosen-single").length||(a.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),$(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},b.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},b.prototype.search_results_mousewheel=function(a){var b;return a.originalEvent&&(b=-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},b.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},b.prototype.close_field=function(){return $(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},b.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},b.prototype.test_active_click=function(a){var b=$(a.target).closest(".chosen-container");return b.length&&this.container[0]===b[0]?this.active_field=!0:this.close_field()},b.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=c.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},b.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},b.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},b.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("multiselectmaxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("multiselectshowingdropdown",{chosen:this}))},b.prototype.update_results_content=function(a){return this.search_results.html(a)},b.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("multiselecthidingdropdown",{chosen:this})),this.results_showing=!1},b.prototype.set_tab_index=function(){var a;return this.form_field.tabIndex?(a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a):void 0},b.prototype.set_label_behavior=function(){var a=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=$("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(b){return a.is_multiple?a.container_mousedown(b):a.activate_field()}):void 0},b.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},b.prototype.search_results_mouseup=function(a){var b;return b=$(a.target).hasClass("active-result")?$(a.target):$(a.target).parents(".active-result").first(),b.length?(this.result_highlight=b,this.result_select(a),this.search_field.focus()):void 0},b.prototype.search_results_mouseover=function(a){var b;return b=$(a.target).hasClass("active-result")?$(a.target):$(a.target).parents(".active-result").first(),b?this.result_do_highlight(b):void 0},b.prototype.search_results_mouseout=function(a){return $(a.target).hasClass("active-result")?this.result_clear_highlight():void 0},b.prototype.choice_build=function(a){var b,c,d=this;return b=$("<li />",{"class":"search-choice"}).html("<span>"+a.html+"</span>"),a.disabled?b.addClass("search-choice-disabled"):(c=$("<a />",{"class":"search-choice-close","data-option-array-index":a.array_index}),c.bind("click.chosen",function(a){return d.choice_destroy_link_click(a)}),b.append(c)),this.search_container.before(b)},b.prototype.choice_destroy_link_click=function(a){return a.preventDefault(),a.stopPropagation(),this.is_disabled?void 0:this.choice_destroy($(a.target))},b.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},b.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("multiselectchange"),this.active_field?this.results_hide():void 0},b.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},b.prototype.result_select=function(a){var b,c;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("multiselectmaxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(c.text),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("multiselectchange",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0
},b.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(a)},b.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("multiselectchange",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},b.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},b.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":$("<div/>").text($.trim(this.search_field.val())).html()},b.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},b.prototype.no_results=function(a){var b;return b=$('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),b.find("span").first().html(a),this.search_results.append(b),this.form_field_jq.trigger("multiselectnoresult",{chosen:this})},b.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},b.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},b.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},b.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},b.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},b.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},b.prototype.search_field_scale=function(){var a,b,c,d,e,f,g,h,i;if(this.is_multiple){for(c=0,g=0,e="position:absolute; left: -1000px; top: -1000px; display:none;",f=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],h=0,i=f.length;i>h;h++)d=f[h],e+=d+":"+this.search_field.css(d)+";";return a=$("<div />",{style:e}),a.text(this.search_field.val()),$("body").append(a),g=a.width()+25,a.remove(),b=this.container.outerWidth(),g>b-10&&(g=b-10),this.search_field.css({width:g+"px"})}},b.prototype.open=function(){this.form_field_jq.trigger("chosen:open")},b.prototype.close=function(){this.form_field_jq.trigger("chosen:close")},b.prototype.activate=function(){this.form_field_jq.trigger("chosen:activate")},b.prototype.enable=function(){this.form_field_jq.attr("disabled",!1).trigger("chosen:updated")},b.prototype.disable=function(){this.form_field_jq.attr("disabled",!0).trigger("chosen:updated")},b.prototype.refresh=function(){this.form_field_jq.trigger("chosen:updated")},b.prototype.value=function(a){switch($.type(a)){case"undefined":return this.form_field_jq.val();default:a=null==a||0==a.length?[]:[a];case"array":this.form_field_jq.val(a).trigger("chosen:updated")}},b.prototype.data=function(a,b,c){if(b=null==b?"key":b,c=null==c?"value":c,"array"===$.type(a)){var d="";$.each(a,function(a,e){d+='<option value="'+e[b]+'"'+(e.disabled?' disabled="true" ':"")+">"+e[c]+"</option>"}),this.form_field_jq.empty().html(d).trigger("chosen:updated")}},b}(a),$=jQuery,$.fn.extend({multiselect:function(a){var c=arguments,d=this;return this.each(function(){var e,f;e=$(this),f=e.data("multiselect"),"destroy"===a&&f?f.destroy():f?"string"===$.type(a)&&(d=f[a].apply(f,$(c).slice(1))):(e.data("multiselect",new b(this,a)),e.on("multiselectchange.valid",function(a,b){if(b.deselected)try{e.isValid()}catch(c){}}),e.on("multiselecthidingdropdown.valid",function(){try{e.isValid()}catch(a){}}))}),d}})}),!function(a){"function"==typeof define&&define.amd?define("fish.progressbar",a):a()}(function(){$.widget("ui.progressbar",{version:"@VERSION",options:{max:100,value:0,progressbarClass:"",label:"",change:null,complete:null},min:0,_getCreateEventData:function(){return{progressbar:this.element}},_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar"+this.options.progressbarClass).attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=$("<div class='ui-progressbar-value'></div>").appendTo(this.element),this.labelDiv=$('<div class="progress-label"></div>').html(this.options.label).prependTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},label:function(a){this.labelDiv.html(a)},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,b=this._percentage();this.valueDiv.toggle(this.indeterminate||a>this.min).css("width",b.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=$("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==a&&(this.oldValue=a,this._trigger("change",null,{progressbar:this.element})),a===this.options.max&&this._trigger("complete",null,{progressbar:this.element})}})}),!function(a){"function"==typeof define&&define.amd?define("fish.resize",a):a()}(function(){"use strict";var a,b,c=$.event;a=c.special.debouncedresize={setup:function(){$(this).on("resize",a.handler)},teardown:function(){$(this).off("resize",a.handler)},handler:function(d,e){var f=this,g=arguments,h=function(){d.type="debouncedresize",c.dispatch.apply(f,g)};b&&clearTimeout(b),e?h():b=setTimeout(h,a.threshold)},threshold:150};var d,e,f,g={_:0},h=0;d=c.special.throttledresize={setup:function(){$(this).on("resize",d.handler)},teardown:function(){$(this).off("resize",d.handler)},handler:function(a,b){var i=this,j=arguments;e=!0,f||(setInterval(function(){h++,(h>d.threshold&&e||b)&&(a.type="throttledresize",c.dispatch.apply(i,j),e=!1,h=0),h>9&&($(g).stop(),f=!1,h=0)},30),f=!0)},threshold:0}}),!function(a){"function"==typeof define&&define.amd?define("fish.router",a):a()}(function(){var _=fish.util,a=fish.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},b=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,d=/\*\w+/g,e=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(a.prototype,{initialize:function(){},route:function(a,b,c){_.isRegExp(a)||(a=this._routeToRegExp(a)),_.isFunction(b)&&(c=b,b=""),c||(c=this[b]);var d=this;return fish.history.route(a,function(e){var f=d._extractParameters(a,e);d.execute(c,f,b)!==!1}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,b){return fish.history.navigate(a,b),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var a,b=_.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(e,"\\$&").replace(b,"(?:$1)?").replace(c,function(a,b){return b?a:"([^/?]+)"}).replace(d,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return _.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var f=fish.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},g=/^[#\/]|\s+$/g,h=/^\/+|\/+$/g,i=/#.*$/;f.started=!1,_.extend(f.prototype,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.location.search},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=decodeURI(this.location.pathname+this.location.search),b=this.root.slice(0,-1);return a.indexOf(b)||(a=a.slice(b.length)),a.slice(1)},getFragment:function(a){return null==a&&(a=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash()),a.replace(g,"")},start:function(a){if(f.started)throw new Error("Backbone.history has already been started");f.started=!0,this.options=_.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment();var b=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};if(this.root=("/"+this.root+"/").replace(h,"/"),!(this._hasHashChange||!this._wantsHashChange||this._wantsPushState&&this._hasPushState)){var c=document.createElement("iframe");c.src="javascript:0",c.style.display="none",c.tabIndex=-1;var d=document.body;this.iframe=d.insertBefore(c,d.firstChild).contentWindow,this.navigate(this.fragment)}if(this._hasPushState?b("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe?b("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.location.replace(this.root+"#"+this.getPath()),!0;this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}return this.options.silent?void 0:this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._hasPushState?a("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),f.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe)),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),_.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!f.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=decodeURI(a.replace(i,"")),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe)&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),fish.history=new f;var j=function(a,b){var c,d=this;c=a&&_.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},_.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&_.extend(c.prototype,a),c.__super__=d.prototype,c};a.extend=f.extend=j}),!function(a){"function"==typeof define&&define.amd?define("fish.scrollspy",a):a()}(function(){"use strict";function a(b,c){var d=$.proxy(this.process,this);this.$body=$("body"),this.$scrollElement=$($(b).is("body")?window:b),this.options=$.extend({},a.DEFAULTS,c),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll",d),this.refresh(),this.process()}function b(b){return this.each(function(){var c=$(this),d=c.data("bs.scrollspy"),e="object"==typeof b&&b;d||c.data("bs.scrollspy",d=new a(this,e)),"string"==typeof b&&d[b]()})}a.DEFAULTS={offset:10},a.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},a.prototype.refresh=function(){var a="offset",b=0;$.isWindow(this.$scrollElement[0])||(a="position",b=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var c=this;this.$body.find(this.selector).map(function(){var c=$(this),d=c.data("target")||c.attr("href"),e=/^#./.test(d)&&$(d);return e&&e.length&&e.is(":visible")&&[[e[a]().top+b,d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},a.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},a.prototype.activate=function(a){this.activeTarget=a,$(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var b=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',c=$(b).parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")};var c=$.fn.scrollspy;$.fn.scrollspy=b,$.fn.scrollspy.Constructor=a,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=c,this}}),!function(a){"function"==typeof define&&define.amd?define("fish.slider",a):a()}(function(){var a=5;$.widget("ui.slider",$.ui.mouse,{version:"@VERSION",widgetEventPrefix:"slide",options:{sliderClass:"",animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,ticks:!1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit();var a="ui-slider ui-slider-"+this.orientation;a+=" "+this.options.sliderClass,this.element.addClass(a),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._createTicks(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var a,b,c=this.options,d=this.element.find(".ui-slider-handle"),e="<a class='ui-slider-handle' href='#'></a>",f=[];for(b=c.values&&c.values.length||1,d.length>b&&(d.slice(b).remove(),d=d.slice(0,b)),a=d.length;b>a;a++)f.push(e);this.handles=d.add($(f.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(a){$(this).data("ui-slider-handle-index",a)})},_createRange:function(){var a=this.options,b="";a.range?(a.range===!0&&(a.values?a.values.length&&2!==a.values.length?a.values=[a.values[0],a.values[0]]:$.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=$("<div></div>").appendTo(this.element),b="ui-slider-range"),this.range.addClass(b+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:""))):(this.range&&this.range.remove(),this.range=null)},_createTicks:function(){if(this.options.ticks&&!(this.options.step<5)){this.element.find(".ui-slider-tick").remove();for(var a,b=this.options.max,c=this.options.min,d=this.options.min+this.options.step,e=this.element.css("border-color"),f="horizontal"===this.orientation?"left":"bottom";b>d;){a=(d-c)/(b-c)*100+"%";var g={background:e};g[f]=a,$("<div/>").addClass("ui-slider-tick "+this.orientation).appendTo(this.element).css(g),d+=this.options.step}}},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.options.ticks&&this.element.find(".ui-slider-tick").remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical"),this._mouseDestroy()},_mouseCapture:function(a){var b,c,d,e,f,g,h,i,j=this,k=this.options;return k.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b),d=this._valueMax()-this._valueMin()+1,this.handles.each(function(a){var b=Math.abs(c-j.values(a));(d>b||d===b&&(a===j._lastChangedValue||j.values(a)===k.min))&&(d=b,e=$(this),f=a)}),g=this._start(a,f),g===!1?!1:(this._mouseSliding=!0,this._handleIndex=f,e.addClass("ui-state-active").focus(),h=e.offset(),i=!$(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=i?{left:0,top:0}:{left:a.pageX-h.left-e.width()/2,top:a.pageY-h.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,f,c),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(a,b){var c,d,e;if(arguments.length>1)return this.options.values[a]=this._trimAlignValue(b),this._refreshValue(),void this._change(null,a);if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();for(c=this.options.values,d=arguments[0],e=0;e<c.length;e+=1)c[e]=this._trimAlignValue(d[e]),this._change(null,e);this._refreshValue()},_setOption:function(a,b){var c,d=0;switch("range"===a&&this.options.range===!0&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),$.isArray(this.options.values)&&(d=this.options.values.length),$.Widget.prototype._setOption.apply(this,arguments),a){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this._refreshTick();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),c=0;d>c;c+=1)this._change(null,c);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._refreshTick(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshTick:function(){this._createTicks()},_refreshValue:function(){var a,b,c,d,e,f=this.options.range,g=this.options,h=this,i=this._animateOff?!1:g.animate,j={};this.options.values&&this.options.values.length?this.handles.each(function(c){b=(h.values(c)-h._valueMin())/(h._valueMax()-h._valueMin())*100,j["horizontal"===h.orientation?"left":"bottom"]=b+"%",$(this).stop(1,1)[i?"animate":"css"](j,g.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===c&&h.range.stop(1,1)[i?"animate":"css"]({left:b+"%"},g.animate),1===c&&h.range[i?"animate":"css"]({width:b-a+"%"},{queue:!1,duration:g.animate})):(0===c&&h.range.stop(1,1)[i?"animate":"css"]({bottom:b+"%"},g.animate),1===c&&h.range[i?"animate":"css"]({height:b-a+"%"},{queue:!1,duration:g.animate}))),a=b}):(c=this.value(),d=this._valueMin(),e=this._valueMax(),b=e!==d?(c-d)/(e-d)*100:0,j["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[i?"animate":"css"](j,g.animate),"min"===f&&"horizontal"===this.orientation&&this.range.stop(1,1)[i?"animate":"css"]({width:b+"%"},g.animate),"max"===f&&"horizontal"===this.orientation&&this.range[i?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:g.animate}),"min"===f&&"vertical"===this.orientation&&this.range.stop(1,1)[i?"animate":"css"]({height:b+"%"},g.animate),"max"===f&&"vertical"===this.orientation&&this.range[i?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:g.animate}))},_handleEvents:{keydown:function(b){var c,d,e,f,g=$(b.target).data("ui-slider-handle-index");switch(b.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,$(b.target).addClass("ui-state-active"),c=this._start(b,g),c===!1))return}switch(f=this.options.step,d=e=this.options.values&&this.options.values.length?this.values(g):this.value(),b.keyCode){case $.ui.keyCode.HOME:e=this._valueMin();break;case $.ui.keyCode.END:e=this._valueMax();break;case $.ui.keyCode.PAGE_UP:e=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/a);break;case $.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/a);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(d===this._valueMax())return;e=this._trimAlignValue(d+f);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(d===this._valueMin())return;e=this._trimAlignValue(d-f)}this._slide(b,g,e)},click:function(a){a.preventDefault()},keyup:function(a){var b=$(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,b),this._change(a,b),$(a.target).removeClass("ui-state-active"))}}})}),!function(a){"function"==typeof define&&define.amd?define("fish.spinner",["fish.formfield","jquery.mousewheel"],a):a()}(function(){function a(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}var b;$.widget("ui.spinner",$.ui.formfield,{version:"@VERSION",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"arrow-down",up:"arrow-up"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._initFormField(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a={},b=this.element;return $.each(["min","max","step"],function(c,d){var e=b.attr(d);void 0!==e&&e.length&&(a[d]=e)}),a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(a){function b(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c}))}var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),a.preventDefault(),b.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,b.call(this)}),this._start(a)!==!1&&this._repeat(null,$(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){return $(a.currentTarget).hasClass("ui-state-active")?this._start(a)===!1?!1:void this._repeat(null,$(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.options,c=this,d=this.uiSpinner=this.element.addClass("ui-spinner-input ui-widget-create").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=d.find(".ui-spinner-button").attr("tabIndex",-1),this.buttons.addClass(" btn-default"),this.buttons.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:($(this).addClass("ui-state-active"),b=this,void c.document.one("mouseup",function(){b=null}))}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:void $(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return a.disabled?!1:void((b.keyCode===$.ui.keyCode.SPACE||b.keyCode===$.ui.keyCode.ENTER)&&$(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active")}),this.buttons.height()>Math.ceil(.5*d.height())&&d.height()>0&&d.height(d.height()),this.options.disabled&&this.disable()},_keydown:function(a){var b=this.options,c=$.ui.keyCode;switch(a.keyCode){case c.UP:return this._repeat(null,1,a),!0;case c.DOWN:return this._repeat(null,-1,a),!0;case c.PAGE_UP:return this._repeat(null,b.page,a),!0;case c.PAGE_DOWN:return this._repeat(null,-b.page,a),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner '></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up'><span class='"+this.options.icons.up+"'></span></a><a class='ui-spinner-button ui-spinner-down'><span class='"+this.options.icons.down+"'></span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(a){var b=this.options.incremental;return b?$.isFunction(b)?b(a):Math.floor(a*a*a/5e4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,void this.element.val(this._format(c))}("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(this.buttons.first().find("span").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find("span").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.element.parent().prop("disabled",!0)):(this.element.parent().prop("disabled",!1),this.element.prop("disabled",!1)))
},_setOptions:a(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:a(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:a(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:a(function(a){this._stepDown((a||1)*this.options.page)}),value:function(b){return arguments.length?void a(this._value).call(this,b):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;c=function(a){return new c.prototype.init(a)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c:a.Globalize=c,c.cultures={},c.prototype={constructor:c,init:function(a){return this.cultures=c.cultures,this.cultureSelector=a,this}},c.prototype.init.prototype=c.prototype,c.cultures["default"]=fish.getResource("spinner"),d=/^0x[a-f0-9]+$/i,e=/^[+\-]?infinity$/i,f=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,g=/^\s+|\s+$/g,h=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},i=function(a,b){return a.substr(a.length-b.length)===b},j=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,n=arguments.length,o=!1;for("boolean"==typeof h&&(o=h,h=arguments[1]||{},i=2),"object"==typeof h||l(h)||(h={});n>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(o&&e&&(m(e)||(f=k(e)))?(f?(f=!1,g=d&&k(d)?d:[]):g=d&&m(d)?d:{},h[c]=j(o,g,e)):e!==b&&(h[c]=e));return h},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},l=function(a){return"[object Function]"===Object.prototype.toString.call(a)},m=function(a){return"[object Object]"===Object.prototype.toString.call(a)},n=function(a,b){return 0===a.indexOf(b)},o=function(a){return(a+"").replace(g,"")},p=function(a){return isNaN(a)?0/0:Math[0>a?"ceil":"floor"](a)},q=function(a,b,c){var d;for(d=a.length;b>d;d+=1)a=c?"0"+a:a+"0";return a},r=function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},s=function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},t=function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=u[b-2]+d,c.substr(c.length-b,b)):c=d}function e(){return o||p?o:(o=y.test(b),p=!0,o)}function f(a,b){if(q)return q[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b}}var g,h=c.calendar,i=h.convert;if(!b||!b.length||"i"===b){if(c&&c.name.length)if(i)g=t(a,h.patterns.F,c);else{var j=new Date(a.getTime()),k=w(a,h.eras);j.setFullYear(x(a,h,k)),g=j.toLocaleString()}else g=a.toString();return g}var l=h.eras,m="s"===b;b=s(h,b),g=[];var n,o,p,q,u=["0","00","000"],y=/([^d]|^)(d|dd)([^d]|$)/g,z=0,A=v();for(!m&&i&&(q=i.fromGregorian(a));;){var B=A.lastIndex,C=A.exec(b),D=b.slice(B,C?C.index:b.length);if(z+=r(D,g),!C)break;if(z%2)g.push(C[0]);else{var E=C[0],F=E.length;switch(E){case"ddd":case"dddd":var G=3===F?h.days.namesAbbr:h.days.names;g.push(G[a.getDay()]);break;case"d":case"dd":o=!0,g.push(d(f(a,2),F));break;case"MMM":case"MMMM":var H=f(a,1);g.push(h.monthsGenitive&&e()?h.monthsGenitive[3===F?"namesAbbr":"names"][H]:h.months[3===F?"namesAbbr":"names"][H]);break;case"M":case"MM":g.push(d(f(a,1)+1,F));break;case"y":case"yy":case"yyyy":H=q?q[0]:x(a,h,w(a,l),m),4>F&&(H%=100),g.push(d(H,F));break;case"h":case"hh":n=a.getHours()%12,0===n&&(n=12),g.push(d(n,F));break;case"H":case"HH":g.push(d(a.getHours(),F));break;case"m":case"mm":g.push(d(a.getMinutes(),F));break;case"s":case"ss":g.push(d(a.getSeconds(),F));break;case"t":case"tt":H=a.getHours()<12?h.AM?h.AM[0]:" ":h.PM?h.PM[0]:" ",g.push(1===F?H.charAt(0):H);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,F));break;case"z":case"zz":n=a.getTimezoneOffset()/60,g.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),F));break;case"zzz":n=a.getTimezoneOffset()/60,g.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":h.eras&&g.push(h.eras[w(a,l)].name);break;case"/":g.push(h["/"]);break;default:throw"Invalid date format pattern '"+E+"'."}}}return g.join("")},function(){var a;a=function(a,b,c){var d=c.groupSizes,e=d[0],f=1,g=Math.pow(10,b),h=Math.round(a*g)/g;isFinite(h)||(h=a),a=h;var i=a+"",j="",k=i.split(/e/i),l=k.length>1?parseInt(k[1],10):0;i=k[0],k=i.split("."),i=k[0],j=k.length>1?k[1]:"",l>0?(j=q(j,l,!1),i+=j.slice(0,l),j=j.substr(l)):0>l&&(l=-l,i=q(i,l+1,!0),j=i.slice(-l,i.length)+j,i=i.slice(0,-l)),j=b>0?c["."]+(j.length>b?j.slice(0,b):q(j,b)):"";for(var m=i.length-1,n=c[","],o="";m>=0;){if(0===e||e>m)return i.slice(0,m+1)+(o.length?n+o+j:j);o=i.slice(m-e+1,m+1)+(o.length?n+o:""),m-=e,f<d.length&&(e=d[f],f++)}return i.slice(0,m+1)+n+o+j},u=function(b,c,d){if(!isFinite(b))return 1/0===b?d.numberFormat.positiveInfinity:b===-1/0?d.numberFormat.negativeInfinity:d.numberFormat.NaN;if(!c||"i"===c)return d.name.length?b.toLocaleString():b.toString();c=c||"D";var e,f=d.numberFormat,g=Math.abs(b),h=-1;c.length>1&&(h=parseInt(c.slice(1),10));var i,j=c.charAt(0).toUpperCase();switch(j){case"D":e="n",g=p(g),-1!==h&&(g=q(""+g,h,!0)),0>b&&(g="-"+g);break;case"N":i=f;case"C":i=i||f.currency;case"P":i=i||f.percent,e=0>b?i.pattern[0]:i.pattern[1]||"n",-1===h&&(h=i.decimals),g=a(g*("P"===j?100:1),h,i);break;default:throw"Bad number format specifier: "+j}for(var k=/n|\$|-|%/g,l="";;){var m=k.lastIndex,n=k.exec(e);if(l+=e.slice(m,n?n.index:e.length),!n)break;switch(n[0]){case"n":l+=g;break;case"$":l+=f.currency.symbol;break;case"-":/[1-9]/.test(g)&&(l+=f["-"]);break;case"%":l+=f.percent.symbol}}return l}}(),v=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},w=function(a,b){if(!b)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},x=function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},function(){var a,b,c,d,e,f,g;a=function(a,b){if(100>b){var c=new Date,d=w(c),e=x(c,a,d),f=a.twoDigitYearMax;f="string"==typeof f?(new Date).getFullYear()%100+parseInt(f,10):f,b+=e-e%100,b>f&&(b-=100)}return b},b=function(a,b,c){var d,e=a.days,i=a._upperDays;return i||(a._upperDays=i=[g(e.names),g(e.namesAbbr),g(e.namesShort)]),b=f(b),c?(d=h(i[1],b),-1===d&&(d=h(i[2],b))):d=h(i[0],b),d},c=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,i=a._upperMonths,j=a._upperMonthsGen;i||(a._upperMonths=i=[g(d.names),g(d.namesAbbr)],a._upperMonthsGen=j=[g(e.names),g(e.namesAbbr)]),b=f(b);var k=h(c?i[1]:i[0],b);return 0>k&&(k=h(c?j[1]:j[0],b)),k},d=function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=s(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=v();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=r(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\/)";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}r(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},e=function(a,b,c){return b>a||a>c},f=function(a){return a.split("").join(" ").toUpperCase()},g=function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=f(a[c]);return b},y=function(f,g,h){f=o(f);var i=h.calendar,j=d(i,g),k=new RegExp(j.regExp).exec(f);if(null===k)return null;for(var l,m=j.groups,p=null,q=null,r=null,s=null,t=null,u=0,v=0,w=0,x=0,y=null,z=!1,A=0,B=m.length;B>A;A++){var C=k[A+1];if(C){var D=m[A],E=D.length,F=parseInt(C,10);switch(D){case"dd":case"d":if(s=F,e(s,1,31))return null;break;case"MMM":case"MMMM":if(r=c(i,C,3===E),e(r,0,11))return null;break;case"M":case"MM":if(r=F-1,e(r,0,11))return null;break;case"y":case"yy":case"yyyy":if(q=4>E?a(i,F):F,e(q,0,9999))return null;break;case"h":case"hh":if(u=F,12===u&&(u=0),e(u,0,11))return null;break;case"H":case"HH":if(u=F,e(u,0,23))return null;break;case"m":case"mm":if(v=F,e(v,0,59))return null;break;case"s":case"ss":if(w=F,e(w,0,59))return null;break;case"tt":case"t":if(z=i.PM&&(C===i.PM[0]||C===i.PM[1]||C===i.PM[2]),!z&&(!i.AM||C!==i.AM[0]&&C!==i.AM[1]&&C!==i.AM[2]))return null;break;case"f":case"ff":case"fff":if(x=F*Math.pow(10,3-E),e(x,0,999))return null;break;case"ddd":case"dddd":if(t=b(i,C,3===E),e(t,0,6))return null;break;case"zzz":var G=C.split(/:/);if(2!==G.length)return null;if(l=parseInt(G[0],10),e(l,-12,13))return null;var H=parseInt(G[1],10);if(e(H,0,59))return null;y=60*l+(n(C,"-")?-H:H);break;case"z":case"zz":if(l=F,e(l,-12,13))return null;y=60*l;break;case"g":case"gg":var I=C;if(!I||!i.eras)return null;I=o(I.toLowerCase());for(var J=0,K=i.eras.length;K>J;J++)if(I===i.eras[J].name.toLowerCase()){p=J;break}if(null===p)return null}}}var L,M=new Date,N=i.convert;if(L=N?N.fromGregorian(M)[0]:M.getFullYear(),null===q?q=L:i.eras&&(q+=i.eras[p||0].offset),null===r&&(r=0),null===s&&(s=1),N){if(M=N.toGregorian(q,r,s),null===M)return null}else{if(M.setFullYear(q,r,s),M.getDate()!==s)return null;if(null!==t&&M.getDay()!==t)return null}if(z&&12>u&&(u+=12),M.setHours(u,v,w,x),null!==y){var O=M.getMinutes()-(y+M.getTimezoneOffset());M.setHours(M.getHours()+parseInt(O/60,10),O%60)}return M}}(),z=function(a,b,c){var d,e=b["-"],f=b["+"];switch(c){case"n -":e=" "+e,f=" "+f;case"n-":i(a,e)?d=["-",a.substr(0,a.length-e.length)]:i(a,f)&&(d=["+",a.substr(0,a.length-f.length)]);break;case"- n":e+=" ",f+=" ";case"-n":n(a,e)?d=["-",a.substr(e.length)]:n(a,f)&&(d=["+",a.substr(f.length)]);break;case"(n)":n(a,"(")&&i(a,")")&&(d=["-",a.substr(1,a.length-2)])}return d||["",a]},c.prototype.findClosestCulture=function(a){return c.findClosestCulture.call(this,a)},c.prototype.format=function(a,b,d){return c.format.call(this,a,b,d)},c.prototype.localize=function(a,b){return c.localize.call(this,a,b)},c.prototype.parseInt=function(a,b,d){return c.parseInt.call(this,a,b,d)},c.prototype.parseFloat=function(a,b,d){return c.parseFloat.call(this,a,b,d)},c.prototype.culture=function(a){return c.culture.call(this,a)},c.findClosestCulture=function(){return this.cultures["default"]},c.format=function(a,b,c){var d=this.findClosestCulture(c);return a instanceof Date?a=t(a,b,d):"number"==typeof a&&(a=u(a,b,d)),a},c.localize=function(a,b){return this.findClosestCulture(b).messages[a]||this.cultures["default"].messages[a]},c.parseDate=function(a,b,c){c=this.findClosestCulture(c);var d,e,f;if(b){if("string"==typeof b&&(b=[b]),b.length)for(var g=0,h=b.length;h>g;g++){var i=b[g];if(i&&(d=y(a,i,c)))break}}else{f=c.calendar.patterns;for(e in f)if(d=y(a,f[e],c))break}return d||null},c.parseInt=function(a,b,d){return p(c.parseFloat(a,b,d))},c.parseFloat=function(a,b,c){"number"!=typeof b&&(c=b,b=10);var g=this.findClosestCulture(c),h=0/0,i=g.numberFormat;if(a.indexOf(g.numberFormat.currency.symbol)>-1&&(a=a.replace(g.numberFormat.currency.symbol,""),a=a.replace(g.numberFormat.currency["."],g.numberFormat["."])),a.indexOf(g.numberFormat.percent.symbol)>-1&&(a=a.replace(g.numberFormat.percent.symbol,"")),a=a.replace(/ /g,""),e.test(a))h=parseFloat(a);else if(!b&&d.test(a))h=parseInt(a,16);else{var j=z(a,i,i.pattern[0]),k=j[0],l=j[1];""===k&&"(n)"!==i.pattern[0]&&(j=z(a,i,"(n)"),k=j[0],l=j[1]),""===k&&"-n"!==i.pattern[0]&&(j=z(a,i,"-n"),k=j[0],l=j[1]),k=k||"+";var m,n,o=l.indexOf("e");0>o&&(o=l.indexOf("E")),0>o?(n=l,m=null):(n=l.substr(0,o),m=l.substr(o+1));var p,q,r=i["."],s=n.indexOf(r);0>s?(p=n,q=null):(p=n.substr(0,s),q=n.substr(s+r.length));var t=i[","];p=p.split(t).join("");var u=t.replace(/\u00A0/g," ");t!==u&&(p=p.split(u).join(""));var v=k+p;if(null!==q&&(v+="."+q),null!==m){var w=z(m,i,"-n");v+="e"+(w[0]||"+")+w[1]}f.test(v)&&(h=parseFloat(v))}return h},c.culture=function(a){return"undefined"!=typeof a&&(this.cultureSelector=a),this.findClosestCulture(a)||this.cultures["default"]}}(this)}),!function(a){"function"==typeof define&&define.amd?define("fish.splitter",["fish.resize"],a):a()}(function(){function a(a){return e.test(a)}function b(a){return d.test(a)||/^\d+$/.test(a)}function c(c){return!a(c)&&!b(c)}var d=/^\d+(\.\d+)?px$/i,e=/^\d+(\.\d+)?%$/i,f=".splitter";$.widget("ui.splitter",$.ui.mouse,{version:"@VERSION",widgetEventPrefix:"split",options:{orientation:"horizontal"},_create:function(){var a="vertical"!=this.options.orientation.toLowerCase();this.orientation=a?"horizontal":"vertical",a?(this.sizingProperty="width",this.sizingDomProperty="outerWidth",this.alternateSizingProperty="height",this.positioningProperty="left",this.mousePositioningProperty="pageX"):(this.sizingProperty="height",this.sizingDomProperty="outerHeight",this.alternateSizingProperty="width",this.positioningProperty="top",this.mousePositioningProperty="pageY");this.element.uniqueId();this._marker=this.element.attr("id"),this._initPanes(),this._mouseInit()},_initPanes:function(){var a=this.options.panes||[],b=this;this.element.addClass("ui-widget").addClass("ui-splitter").children().each(function(c,d){"script"!=d.nodeName.toLowerCase()&&b._initPane(d,a[c])}),this._resize()},_initPane:function(a,b){a=$(a).attr("role","group").addClass("ui-pane"),a.data("pane",b?b:{}).toggleClass("ui-scrollable",b?b.scrollable!==!1:!0)},_resize:function(){var b=this,d=b.element,e=d.children(".ui-pane"),f=d.children(".ui-splitbar"),g=f.length,h=d[b.sizingProperty]();0===g?(g=e.length-1,e.slice(0,g).after("<div tabindex='0' class='ui-splitbar' data-marker='"+b._marker+"' />"),b._updateSplitBars(),f=d.children(".ui-splitbar")):b._updateSplitBars(),f.each(function(){h-=$(this)[b.sizingDomProperty]()});var i=0,j=0,k=$();e.css({position:"absolute",top:0})[b.sizingProperty](function(){var b,d=$(this).data("pane")||{};if(d.collapsed)b=0,$(this).css("overflow","hidden");else{if(c(d.size))return void(k=k.add(this));b=parseInt(d.size,10),a(d.size)&&(b=Math.floor(b*h/100))}return j++,i+=b,b}),h-=i;var l=k.length,m=Math.floor(h/l);k.slice(0,l-1).css(b.sizingProperty,m).end().eq(l-1).css(b.sizingProperty,h-(l-1)*m);var n=0;if(0===l){var o=e.filter(function(){return!($(this).data("pane")||{}).collapsed}).last();if(0>h&&o[0]==e.last()[0]){var p=e.eq(-2);p[b.sizingProperty](h+p[b.sizingDomProperty]())}else o[b.sizingProperty](h+o[b.sizingDomProperty]())}d.children().css(b.alternateSizingProperty,d[b.alternateSizingProperty]()).each(function(a,c){"script"!=c.tagName.toLowerCase()&&($(c).css(b.positioningProperty,Math.floor(n)+"px"),n+=$(c)[b.sizingDomProperty]())}),b._detachEvents(),b._attachEvents(),$(b.element).find(".ui-splitter").each(function(a,b){$(b).splitter("donotusethismethod")}),b._trigger("layoutChange")},donotusethismethod:function(){this._resize()},_updateSplitBars:function(){var a=this;this.element.children(".ui-splitbar").each(function(){var b=$(this),c=b.prevAll(".ui-pane").first().data("pane"),d=b.nextAll(".ui-pane").first().data("pane");d&&a._updateSplitBar(b,c,d)})},_updateSplitBar:function(a,b,c){var d=function(a,b){return b?"<div class='ui-icon "+a+"' />":""},e=this.orientation,f=b.resizable!==!1&&c.resizable!==!1,g=b.collapsible,h=b.collapsed,i=c.collapsible,j=c.collapsed;a.addClass("ui-splitbar ui-state-default ui-splitbar-"+e).attr("role","separator").attr("aria-expanded",!(h||j)).removeClass("ui-splitbar-"+e+"-hover").toggleClass("ui-splitbar-draggable-"+e,f&&!h&&!j).toggleClass("ui-splitbar-static-"+e,!f&&!g&&!i).html(d("ui-collapse-prev",g&&!h&&!j)+d("ui-expand-prev",g&&h&&!j)+d("ui-resize-handle",f)+d("ui-collapse-next",i&&!j&&!h)+d("ui-expand-next",i&&j&&!h))},_attachEvents:function(){var a=this,b=a.orientation;a.element.children(".ui-splitbar-draggable-"+b).on("mousedown"+f,function(a){a.currentTarget.focus()}).on("focus"+f,function(a){$(a.currentTarget).addClass("ui-state-focused")}).on("blur"+f,function(a){$(a.currentTarget).removeClass("ui-state-focused")}).on("mouseenter"+f,function(){$(this).addClass("ui-splitbar-"+b+"-hover")}).on("mouseleave"+f,function(){$(this).removeClass("ui-splitbar-"+b+"-hover")}).on("mousedown"+f,function(){a._panes().append("<div class='ui-splitter-overlay ui-overlay' />")}).on("mouseup"+f,function(){a._panes().children(".ui-splitter-overlay").remove()}).end().children(".ui-splitbar").on("dblclick"+f,$.proxy(a._togglePane,a)).children(".ui-collapse-next, .ui-collapse-prev").on("click"+f,a._arrowClick("collapse")).end().children(".ui-expand-next, .ui-expand-prev").on("click"+f,a._arrowClick("expand")).end().end(),$(window).on("debouncedresize"+f+a._marker,$.proxy(a._resize,a))},_detachEvents:function(){var a=this;a.element.children(".ui-splitbar-draggable-"+a.orientation).off(f).end().children(".ui-splitbar").off("dblclick"+f).children(".ui-collapse-next, .ui-collapse-prev, .ui-expand-next, .ui-expand-prev").off(f),$(window).off("debouncedresize"+f+a._marker)},_triggerAction:function(a,b){this[a](b[0]),this._trigger(a,null,b[0])},_togglePane:function(a){var b,c=this,d=$(a.target);d.closest(".ui-splitter")[0]==c.element[0]&&(b=d.children(".ui-icon:not(.ui-resize-handle)"),1===b.length&&(b.is(".ui-collapse-prev")?this.collapse(d.prev()):b.is(".ui-collapse-next")?this.collapse(d.next()):b.is(".ui-expand-prev")?this.expand(d.prev()):b.is(".ui-expand-next")&&this.expand(d.next())))},toggle:function(a,b,c){var d,e,f=this;a=f.element.find(a),d=a.data("pane"),(c||d.collapsible)&&(arguments.length<3&&(c=void 0===d.collapsed?!1:d.collapsed),d.collapsed=!c,e=d.collapsed?"collapse":"expand",d.collapsed?a.css("overflow","hidden"):a.css("overflow",""),f._resize(),0!=b&&f._trigger(e,null,a[0]))},collapse:function(a,b){b=void 0===b?!0:b,this.toggle(a,b,!1)},expand:function(a,b){b=void 0===b?!0:b,this.toggle(a,b,!0)},_arrowClick:function(a){var b=this;return function(c){var d,e=$(c.target);e.closest(".ui-splitter")[0]==b.element[0]&&(d=e.is(".ui-"+a+"-prev")?e.parent().prev():e.parent().next(),b[a](d))}},_panes:function(){return this.element.children(".ui-pane")},_mouseCapture:function(a){var b=!1,c=$(a.target);return($(a.target).is(".ui-splitbar")||$(a.target).is(".ui-resize-handle"))&&(b=!0),(c.is(".ui-splitbar-static-vertical")||c.is(".ui-splitbar-static-horizontal"))&&(b=!1),b},_mouseStart:function(a){var c=this,d=c.splitbar=$(a.target).is(".ui-resize-handle")?$(a.target).parent():$(a.target);c._initialElementPosition=d.position()[c.positioningProperty],c._initialMousePosition=a[c.mousePositioningProperty],c.hint=$("<div class='ui-ghost-splitbar ui-ghost-splitbar-"+c.orientation+" ui-state-default' />").css(c.alternateSizingProperty,d[c.alternateSizingProperty]()),c.hint.css({position:"absolute"}).css(c.positioningProperty,c._initialElementPosition).appendTo(c.element);var e=d.prev(),f=d.next(),g=e.data("pane"),h=f.data("pane"),i=parseInt(e.css(c.positioningProperty),10),j=parseInt(f.css(c.positioningProperty),10)+f[c.sizingDomProperty]()-d[c.sizingDomProperty](),k=parseInt(c.element[c.sizingProperty](),10),l=function(a){var c=parseInt(a,10);return(b(a)?c:k*c/100)||0},m=l(g.min),n=l(g.max)||j-i,o=l(h.min),p=l(h.max)||j-i;c.previousPane=e,c.nextPane=f,c._maxPosition=Math.min(j-o,i+n),c._minPosition=Math.max(i+m,j-p)},_mouseDrag:function(a){var b,c=this,d=c._maxPosition,e=c._minPosition,f=c._initialElementPosition+(a[c.mousePositioningProperty]-c._initialMousePosition);b=void 0!==e?Math.max(e,f):f,c.position=b=void 0!==d?Math.min(d,b):b,c.hint&&c.hint.toggleClass("ui-restricted-size-"+c.orientation||"",b==d||b==e).css(c.positioningProperty,b),c.resizing=!0,c._trigger("resize",$.extend(a,{position:b}))},_mouseStop:function(){var a=this;a.hint&&a.hint.remove(),a.resizing=!1,a._panes().children(".ui-splitter-overlay").remove();var b=a.position,d=a.splitbar.prev(),e=a.splitbar.next(),f=d.data("pane"),g=e.data("pane"),h=b-parseInt(d.css(a.positioningProperty),10),i=parseInt(e.css(a.positioningProperty),10)+e[a.sizingDomProperty]()-b-a.splitbar[a.sizingDomProperty](),j=a.element.children(".ui-pane").filter(function(){return c($(this).data("pane").size)}).length;(!c(f.size)||j>1)&&(c(f.size)&&j--,f.size=h+"px"),(!c(g.size)||j>1)&&(g.size=i+"px"),a._resize()},destroy:function(){$.Widget.prototype.destroy.call(this)}})}),!function(a){"function"==typeof define&&define.amd?define("fish.switchBtn",["fish.formfield"],a):a()}(function(){function a(a,b){null==b&&(b={}),this.$element=$(a),this.options=$.extend({},c,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class"),customClass:this.$element.data("custom-class"),radioAllOff:this.$element.data("radio-all-off")},b),this.$wrapper=$("<div>",{"class":function(a){return function(){var b;return b=[""+a.options.baseClass].concat(a._getClasses(a.options.wrapperClass)),b.push(a.options.state?""+a.options.baseClass+"-on":""+a.options.baseClass+"-off"),null!=a.options.size&&b.push(""+a.options.baseClass+"-"+a.options.size),a.options.animate&&b.push(""+a.options.baseClass+"-animate"),a.options.disabled&&b.push(""+a.options.baseClass+"-disabled"),a.options.readonly&&b.push(""+a.options.baseClass+"-readonly"),a.options.indeterminate&&b.push(""+a.options.baseClass+"-indeterminate"),a.$element.attr("id")&&b.push(""+a.options.baseClass+"-id-"+a.$element.attr("id")),b.push(a.options.customClass),b.join(" ")}}(this)()}),this.$container=$("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=$("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=$("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=$("<label>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this.$element.on("init",function(b){return function(){return b.options.onInit.apply(a,arguments)}}(this)),this.$element.on("switchChange",function(b){return function(){return b.options.onSwitchChange.apply(a,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.$on).before(this.$label).before(this.$off).trigger("init"),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler()}var b=[].slice,c={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",baseClass:"bootstrap-switch",wrapperClass:"wrapper",customClass:"",radioAllOff:!1,onInit:$.noop,onSwitchChange:$.noop};a.prototype.value=function(a){return this.state(a)},a.prototype.disable=function(){return this.disabled(!0)},a.prototype.enable=function(){return this.disabled(!1)},a.prototype.state=function(a,b){return"undefined"==typeof a?this.options.state:this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(a=!!a,this.$element.prop("checked",a).trigger("change",b),this.$element)},a.prototype.toggleState=function(a){return this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.$element.prop("checked",!this.options.state).trigger("change",a)},a.prototype.size=function(a){return"undefined"==typeof a?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),a&&this.$wrapper.addClass(""+this.options.baseClass+"-"+a),this.options.size=a,this.$element)},a.prototype.animate=function(a){return"undefined"==typeof a?this.options.animate:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](""+this.options.baseClass+"-animate"),this.options.animate=a,this.$element)},a.prototype.disabled=function(a){return"undefined"==typeof a?this.options.disabled:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](""+this.options.baseClass+"-disabled"),this.$element.prop("disabled",a),this.options.disabled=a,this.$element)},a.prototype.toggleDisabled=function(){return this.$element.prop("disabled",!this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.options.disabled=!this.options.disabled,this.$element},a.prototype.readonly=function(a){return"undefined"==typeof a?this.options.readonly:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](""+this.options.baseClass+"-readonly"),this.$element.prop("readonly",a),this.options.readonly=a,this.$element)},a.prototype.toggleReadonly=function(){return this.$element.prop("readonly",!this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.options.readonly=!this.options.readonly,this.$element},a.prototype.indeterminate=function(a){return"undefined"==typeof a?this.options.indeterminate:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](""+this.options.baseClass+"-indeterminate"),this.$element.prop("indeterminate",a),this.options.indeterminate=a,this.$element)},a.prototype.toggleIndeterminate=function(){return this.$element.prop("indeterminate",!this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this.options.indeterminate=!this.options.indeterminate,this.$element},a.prototype.onColor=function(a){var b;return b=this.options.onColor,"undefined"==typeof a?b:(null!=b&&this.$on.removeClass(""+this.options.baseClass+"-"+b),this.$on.addClass(""+this.options.baseClass+"-"+a),this.options.onColor=a,this.$element)},a.prototype.offColor=function(a){var b;return b=this.options.offColor,"undefined"==typeof a?b:(null!=b&&this.$off.removeClass(""+this.options.baseClass+"-"+b),this.$off.addClass(""+this.options.baseClass+"-"+a),this.options.offColor=a,this.$element)},a.prototype.onText=function(a){return"undefined"==typeof a?this.options.onText:(this.$on.html(a),this.options.onText=a,this.$element)},a.prototype.offText=function(a){return"undefined"==typeof a?this.options.offText:(this.$off.html(a),this.options.offText=a,this.$element)},a.prototype.labelText=function(a){return"undefined"==typeof a?this.options.labelText:(this.$label.html(a),this.options.labelText=a,this.$element)},a.prototype.baseClass=function(){return this.options.baseClass},a.prototype.wrapperClass=function(a){return"undefined"==typeof a?this.options.wrapperClass:(a||(a=c.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(a).join(" ")),this.options.wrapperClass=a,this.$element)},a.prototype.radioAllOff=function(a){return"undefined"==typeof a?this.options.radioAllOff:(this.options.radioAllOff=a,this.$element)},a.prototype.onInit=function(a){return"undefined"==typeof a?this.options.onInit:(a||(a=c.onInit),this.options.onInit=a,this.$element)},a.prototype.onSwitchChange=function(a){return"undefined"==typeof a?this.options.onSwitchChange:(a||(a=c.onSwitchChange),this.options.onSwitchChange=a,this.$element)},a.prototype.destroy=function(){var a;return a=this.$element.closest("form"),a.length&&a.off(".switchBtn").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},a.prototype._elementHandlers=function(){return this.$element.on({change:function(a){return function(b,c){var d;return b.preventDefault(),b.stopImmediatePropagation(),d=a.$element.is(":checked"),d!==a.options.state?(a.options.state=d,a.$wrapper.removeClass(d?""+a.options.baseClass+"-off":""+a.options.baseClass+"-on").addClass(d?""+a.options.baseClass+"-on":""+a.options.baseClass+"-off"),c?void 0:(a.$element.is(":radio")&&$("[name='"+a.$element.attr("name")+"']").not(a.$element).prop("checked",!1).trigger("change",!0),a.$element.trigger("switchChange",[d]))):void 0}}(this),focus:function(a){return function(b){return a.disabled()?void 0:(b.preventDefault(),a.$wrapper.addClass(""+a.options.baseClass+"-focused"))}}(this),blur:function(a){return function(b){return b.preventDefault(),a.$wrapper.removeClass(""+a.options.baseClass+"-focused")}}(this),keydown:function(a){return function(b){if(b.which&&!a.options.disabled&&!a.options.readonly&&!a.options.indeterminate)switch(b.which){case 37:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!1);case 39:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!0)}}}(this)}),this},a.prototype._handleHandlers=function(){var a=this;return this.$on.on("click",function(a){return function(){return a.state(!1),a.$element.trigger("focus")}}(this)),this.$off.on("click",function(a){return function(){return a.state(!0),a.$element.trigger("focus")}}(this)),$(document).on("mousedown, focus",function(){a.$element.trigger("blur")}),this},a.prototype._labelHandlers=function(){var a=this;this.$label.on({click:function(){a.$element.trigger("focus")},"mousemove touchmove":function(a){return function(b){var c,d,e,f;if(a.isLabelDragging)return b.preventDefault(),a.isLabelDragged=!0,d=b.pageX||b.originalEvent.touches[0].pageX,e=(d-a.$wrapper.offset().left)/a.$wrapper.width()*100,c=25,f=75,a.options.animate&&a.$wrapper.removeClass(""+a.options.baseClass+"-animate"),c>e?e=c:e>f&&(e=f),a.$container.css("margin-left",""+(e-f)+"%"),a.$element.trigger("focus")}}(this),"mousedown touchstart":function(a){return function(b){return a.isLabelDragging||a.options.disabled||a.options.readonly||a.options.indeterminate?void 0:(b.preventDefault(),a.isLabelDragging=!0,a.$element.trigger("focus"))}}(this),"mouseup touchend":function(a){return function(b){return a.isLabelDragging?(b.preventDefault(),a.isLabelDragged?(a.isLabelDragged=!1,a.state(parseInt(a.$container.css("margin-left"),10)>-(a.$container.width()/6)),a.options.animate&&a.$wrapper.addClass(""+a.options.baseClass+"-animate"),a.$container.css("margin-left","")):a.state(!a.options.state),a.isLabelDragging=!1):void 0}}(this),mouseleave:function(a){return function(){return a.$label.trigger("mouseup")}}(this)})},a.prototype._formHandler=function(){var a=this,b=this.$element.closest("form");if(b.length){var c=b.data("fields")||{};
if(this.$element.attr("name")&&(c[this.$element.attr("name")]={instance:a.$element,widgetName:"switch"}),b.data("fields",c),b.data("bootstrap-switch"))return;b.on("reset.switchBtn",function(){return window.setTimeout(function(){return b.find("input").filter(function(){return $(this).data("bootstrap-switch")}).each(function(){return $(this).switchBtn("state",this.checked)})},1)}).on("formclear.switchBtn",function(){return window.setTimeout(function(){return b.find("input").filter(function(){return $(this).data("bootstrap-switch")}).each(function(){return $(this).switchBtn("state",!1)})},1)}).data("bootstrap-switch",!0)}},a.prototype._getClasses=function(a){var b,c,d,e;if(!$.isArray(a))return[""+this.options.baseClass+"-"+a];for(c=[],d=0,e=a.length;e>d;d++)b=a[d],c.push(""+this.options.baseClass+"-"+b);return c},$.fn.switchBtn=function(){var c,d,e;return d=arguments[0],c=2<=arguments.length?b.call(arguments,1):[],e=this,this.each(function(){var b,f;return b=$(this),f=b.data("bootstrap-switch"),f||b.data("bootstrap-switch",f=new a(this,d)),"string"==typeof d?e=f[d].apply(f,c):void 0}),e}}),!function(a){"function"==typeof define&&define.amd?define("fish.tabs",a):a()}(function(){function a(){return++c}function b(a){return a.hash.length>1&&a.href.replace(d,"")===location.href.replace(d,"").replace(/\s/g,"%20")}var c=0,d=/#.*$/;$.widget("ui.tabs",{delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeRemove:null,remove:null,add:null,paging:!1},_create:function(){var a=this,b=this.options,c=b.active;this.running=!1,this.element.addClass("ui-tabs").toggleClass("ui-tabs-collapsible",b.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(a){$(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){$(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===c&&(null===c&&(c=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===c||-1===c)&&(c=this.tabs.length?0:!1)),c!==!1&&(c=this.tabs.index(this.tabs.eq(c)),-1===c&&(c=b.collapsible?!1:0)),b.active=c,!b.collapsible&&b.active===!1&&this.anchors.length&&(b.active=0),$.isArray(b.disabled)&&(b.disabled=$.unique(b.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(b){return a.tabs.index(b)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(this.options.active):$(),this._refresh(),b.canClose&&this._bindCloseEvent(!0)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):$()}},_tabKeydown:function(a){var b=$(this.document[0].activeElement).closest("li"),c=this.tabs.index(b),d=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:c++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:d=!1,c--;break;case $.ui.keyCode.END:c=this.anchors.length-1;break;case $.ui.keyCode.HOME:c=0;break;case $.ui.keyCode.SPACE:return a.preventDefault(),clearTimeout(this.activating),void this._activate(c);case $.ui.keyCode.ENTER:return a.preventDefault(),clearTimeout(this.activating),void this._activate(c===this.options.active?!1:c);default:return}a.preventDefault(),clearTimeout(this.activating),c=this._focusNextTab(c,d),a.ctrlKey||(b.attr("aria-selected","false"),this.tabs.eq(c).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",c)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===$.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===$.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===$.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(a,b){function c(){return a>d&&(a=0),0>a&&(a=d),a}for(var d=this.tabs.length-1;-1!==$.inArray(c(),this.options.disabled);)a=b?a+1:a-1;return a},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):("canClose"===a&&this._bindCloseEvent(b),"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b))))},_tabId:function(b){return b.attr("aria-controls")||"ui-tabs-"+a()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,b=this.tablist.children(":has(a[href])");a.disabled=$.map(b.filter(".ui-state-disabled"),function(a){return b.index(a)}),this._processTabs(),a.active!==!1&&this.anchors.length?this.active.length&&!$.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=$()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=$()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0),this.options.paging&&this._paging()},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return $("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=$(),this.anchors.each(function(c,d){var e,f,g=$(d).uniqueId().attr("id"),h=$(d).closest("li");b(d)&&(e=d.hash,f=a.element.find(a._sanitizeSelector(e))),f.length&&(a.panels=a.panels.add(f)),h.attr({"aria-controls":e.substring(1),"aria-labelledby":g}),f.attr("aria-labelledby",g)}),this.panels.addClass("ui-tabs-panel").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(a){return $("<div>").attr("id",a).addClass("ui-tabs-panel").data("ui-tabs-destroy",!0)},_setupDisabled:function(a){$.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var b,c=0;b=this.tabs[c];c++)a===!0||-1!==$.inArray(c,a)?$(b).addClass("ui-state-disabled").attr("aria-disabled","true"):$(b).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var b={click:function(a){a.preventDefault()}};a&&$.each(a.split(" "),function(a,c){b[c]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,b),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(a){var b,c,d=this.element.parent();"fill"===a?($.support.minHeight||(c=d.css("overflow"),d.css("overflow","hidden")),b=d.height(),this.element.siblings(":visible").each(function(){var a=$(this),c=a.css("position");"absolute"!==c&&"fixed"!==c&&(b-=a.outerHeight(!0))}),c&&d.css("overflow",c),this.element.children().not(this.panels).each(function(){b-=$(this).outerHeight(!0)}),this.panels.each(function(){$(this).height(Math.max(0,b-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===a&&(b=0,this.panels.each(function(){b=Math.max(b,$(this).height("").height())}).height(b))},_eventHandler:function(a){var b=this.options,c=this.active,d=$(a.currentTarget),e=d.closest("li"),f=e[0]===c[0],g=f&&b.collapsible,h=g?$():this._getPanelForTab(e),i=c.length?this._getPanelForTab(c):$(),j={oldTab:c,oldPanel:i,newTab:g?$():e,newPanel:h};a.preventDefault(),e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||this.running||f&&!b.collapsible||this._trigger("beforeActivate",a,j)===!1||(b.active=g?!1:this.tabs.index(e),this.active=f?$():e,this.xhr&&this.xhr.abort(),i.length||h.length||$.error("jQuery UI Tabs: Mismatching fragment identifier."),this._toggle(a,j))},_toggle:function(a,b){function c(){e.running=!1,e._trigger("activate",a,b)}function d(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),f.length&&e.options.show?e._show(f,e.options.show,c):(f.show(),c())}var e=this,f=b.newPanel,g=b.oldPanel;this.running=!0,g.length&&this.options.hide?this._hide(g,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),g.hide(),d()),g.attr({"aria-expanded":"false","aria-hidden":"true"}),b.oldTab.attr("aria-selected","false"),f.length&&g.length?b.oldTab.attr("tabIndex",-1):f.length&&this.tabs.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),f.attr({"aria-expanded":"true","aria-hidden":"false"}),b.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(a){var b,c=this._findActive(a);if(c[0]!==this.active[0]&&(c.length||(c=this.active),b=c.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:$.noop}),this.options.paging)){var d=this,e=d.options.currentPage,f=d.options.pages;for(var g in f){var h=f[g].start,i=f[g].end;if(a>=h&&i>a){g!=e&&(d.tabs.hide().slice(h,i).show(),d._delay(function(){d.active.focus()}),e=parseInt(g),0==e?(d._enableButton("next"),!d.options.cycle&&0>=h&&d._disableButton("prev")):(d._enableButton("prev"),!d.options.cycle&&i>=d.tabs.length&&d._disableButton("next")));break}}d.options.currentPage=e}},_findActive:function(a){return a===!1?$():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){$.data(this,"ui-tabs-destroy")?$(this).remove():$(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var a=$(this),b=a.data("ui-tabs-aria-controls");b?a.attr("aria-controls",b):a.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var b=this.options.disabled;b!==!1&&(void 0===a?b=!1:(a=this._getIndex(a),b=$.isArray(b)?$.map(b,function(b){return b!==a?b:null}):$.map(this.tabs,function(b,c){return c!==a?c:null})),this._setupDisabled(b))},disable:function(a){var b=this.options.disabled;if(b!==!0){if(void 0===a)b=!0;else{if(a=this._getIndex(a),-1!==$.inArray(a,b))return;b=$.isArray(b)?$.merge([a],b).sort():[a]}this._setupDisabled(b)}},_getPanelForTab:function(a){var b=$(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}}),$.widget("ui.tabs",$.ui.tabs,{options:{canClose:!1,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>",tabCanCloseTemplate:"<li><a href='#{href}'>#{label}</a><button type='button' class='ui-tabs-close close' role='button'><span aria-hidden='true' title='close'><span class='sr-only'>Close</span></span></button></li>",panelTemplate:"<div></div>"},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_createPanel:function(a){return $(this.options.panelTemplate).attr("id",a)},add:function(b){b=b||{};{var c=b.index,d=b.id,e=b.label;b.content}void 0===c&&(c=this.anchors.length),d=d||"ui-tabs-"+a(),e=e||d,this.options.paging&&this._pageReset();var f,g,h=this.options,i=$((h.canClose?h.tabCanCloseTemplate:h.tabTemplate).replace(/#\{href\}/g,"#"+d).replace(/#\{label\}/g,e));return f=c>=this.tabs.length,g=this.element.find("#"+d),g.length||(g=this._createPanel(d),g.append(b.content),f?c>0?g.insertAfter(this.panels.eq(-1)):g.appendTo(this.element):g.insertBefore(this.panels[c])),g.hide(),f?i.appendTo(this.tablist):i.insertBefore(this.tabs[c]),h.disabled=$.map(h.disabled,function(a){return a>=c?++a:a}),this.refresh(),1===this.tabs.length&&h.active===!1&&this.option("active",0),b.active===!0&&this.option("active",c),this._trigger("add",null,this._ui(this.anchors[c],this.panels[c])),this},remove:function(a){this.options.paging&&this._pageReset(),a=this._getIndex(a);var b=this.options,c=this.tabs.eq(a),d=this._getPanelForTab(c);return this._trigger("beforeRemove",null,this._ui(c,d))!==!1?(c.remove(),d.remove(),c.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(a+(a+1<this.anchors.length?1:-1)),b.disabled=$.map($.grep(b.disabled,function(b){return b!==a}),function(b){return b>=a?--b:b}),this.refresh(),this._trigger("remove",null,this._ui(c.find("a")[0],d[0])),this):void 0},update:function(a,b){a=this._getIndex(a);var c=(this.options,this.tabs.eq(a)),d=(this._getPanelForTab(c),c.find("span"));return d.length||(d=c.find("a")),void 0===b.label?"":d.text(b.label),alert(typeof b.cssprop),void 0!==b.cssprop&&("string"==typeof b.cssprop?d.addClass(b.cssprop):"object"==typeof b.cssprop&&d.css(b.cssprop)),this},_bindCloseEvent:function(){var a=this;a.hasBindCloseEvent||(this.element.on("click","button.ui-tabs-close",function(){var b=a.tabs.index($(this).closest("li"));a.remove(b)}),a.hasBindCloseEvent=!0)}}),$.widget("ui.tabs",$.ui.tabs,{_disableButton:function(a){$(".ui-tabs-paging-"+a,this.element).addClass("ui-tabs-paging-disabled")},_enableButton:function(a){$(".ui-tabs-paging-"+a,this.element).removeClass("ui-tabs-paging-disabled")},_pageReset:function(){$(".ui-tabs-paging-next",this.element).remove(),$(".ui-tabs-paging-prev",this.element).remove(),this.tabs.show()},_paging:function(){var a={tabsPerPage:0,nextButton:"&#187;",prevButton:"&#171;",follow:!0,cycle:!1};a=$.extend(a,this.options.paging);var b,c,d,e,f,g,h,i,j,k=this;k._pageReset(),i=$(window).height(),j=$(window).width(),e=0,b=0,g=0,c=0,h=new Array,f=new Array,selectedTabWidths=new Array,d=k.element.width();var l=0;if(k.tabs.each(function(a){a==k.options.active?(selectedTabWidths[a]=$(this).outerWidth(!0),f[a]=k.tabs.eq(a).removeClass("ui-tabs-selected").outerWidth(!0),k.tabs.eq(a).addClass("ui-tabs-selected"),l=Math.min(l,Math.abs(selectedTabWidths[a]-f[a])),e+=f[a]):(f[a]=$(this).outerWidth(!0),selectedTabWidths[a]=k.tabs.eq(a).addClass("ui-tabs-selected").outerWidth(!0),k.tabs.eq(a).removeClass("ui-tabs-selected"),l=Math.max(l,Math.abs(selectedTabWidths[a]-f[a])),e+=f[a])}),e+=l+($.browser.msie?4:0),e>d){li=$("<li></li>").addClass("ui-state-default ui-tabs-paging-next ui-corner-right").append($('<a href="#"></a>').click(function(){return $(this).closest("li").hasClass("ui-tabs-paging-disabled")?!1:(k._page("next"),!1)}).html(a.nextButton)),k.tabs.eq(k.tabs.length-1).after(li),c=li.outerWidth(!0),li=$("<li></li>").addClass("ui-state-default ui-tabs-paging-prev ui-corner-left").append($('<a href="#"></a>').click(function(){return $(this).closest("li").hasClass("ui-tabs-paging-disabled")?!1:(k._page("prev"),!1)}).html(a.prevButton)),k.tabs.eq(0).before(li),c+=li.outerWidth(!0);for(var m=0,n=0,o=0,p=0;p<f.length;p++)(0==n||selectedTabWidths[p]-f[p]>o)&&(o=selectedTabWidths[p]-f[p]),null==h[m]?h[m]={start:p}:(p>0&&p%a.tabsPerPage==0||f[p]+n+c>d)&&(n+o>g&&(g=n+o),m++,h[m]={start:p},n=0),h[m].end=p+1,n+=f[p],p==k.options.active&&(b=m);n+o>g&&(g=n+o),k.tabs.hide().slice(h[b].start,h[b].end).show(),b!=h.length-1||a.cycle||k._disableButton("next"),0!=b||a.cycle||k._disableButton("prev")}else k._pageReset();k.options.currentPage=b,k.options.pages=h,k.options.cycle=a.cycle,k.options.follow=a.follow},_page:function(a){var b=this,c=b.options.currentPage,d=b.options.pages;c+="prev"==a?-1:1,"prev"==a&&0>c&&b.options.cycle||"next"==a&&c>=d.length&&!b.options.cycle?c=d.length-1:("prev"==a&&0>c||"next"==a&&c>=d.length&&b.options.cycle)&&(c=0);var e=d[c].start,f=d[c].end;b.tabs.hide().slice(e,f).show(),"prev"==a?(b._enableButton("next"),b.options.follow&&(b.options.active<e||b.options.active>f-1)&&b._activate(f-1),!b.options.cycle&&0>=e&&b._disableButton("prev")):(b._enableButton("prev"),b.options.follow&&(b.options.active<e||b.options.active>f-1)&&b._activate(e),!b.options.cycle&&f>=b.tabs.length&&b._disableButton("next")),b.options.currentPage=c}})}),!function(a){"function"==typeof define&&define.amd?define("fish.tooltip",a):a()}(function(){function a(a,b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data(a+"-id",c).attr("aria-describedby",$.trim(d.join(" ")))}function b(a,b){var c=b.data(a+"-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=$.inArray(c,d);-1!==e&&d.splice(e,1),b.removeData(a+"-id"),d=$.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")}var c=0;$.widget("ui.tooltip",{version:"@VERSION",options:{title:"",content:function(){var a=$(this),b=a.attr("title")||"",c=a.data("ui-tooltip")||a.data("ui-popover");return c&&c.noHoverEvent&&(b=b||a.data(c.prefix+"-title")||""),$("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",template:'<div role="tooltip" class="ui-tooltip "><h3 class="ui-tooltip-title"></h3><div class="ui-tooltip-content"></div></div>',position:{my:"center top+8",at:"center bottom",collision:"flipfit flip"},event:"hover focus",show:!0,extClass:null,track:!1,showArrow:!0,close:null,open:null},_create:function(){this.prefix="ui-"+this.widgetName,this._parseOptions();var a={};this.options.event=this.options.event||"hover focus",$.each(this.options.event.split(" "),function(b,c){switch(c){case"click":a.click="open";break;case"hover":a.mouseover="open";break;case"focus":a.focusin="open";break;case"manual":}}),this._on(a),this.noHoverEvent=-1===this.options.event.indexOf("hover"),this.noHoverEvent&&this._on({mouseover:"_nohoverHandler"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_parseOptions:function(){var a=this,b=null;if("string"===$.type(this.options.position)){var c=15;switch(this.options.position){case"left":b={my:"right-"+c+" center",at:"left center"};break;case"top":b={my:"center bottom-"+c,at:"center top"};break;case"right":b={my:"left+"+c+" center",at:"right center"};break;case"bottom":b={my:"center top+"+c,at:"center bottom"}}this.options.position=$.extend({},this.options.position,b)}this.options.showArrow&&(this.options.position=$.extend(this.options.position,{using:function(b,c){$(this).css(b),$("<div>").addClass(a.prefix+"-arrow").addClass(c.vertical).addClass(c.horizontal).appendTo(this)}}))},_setOption:function(a,b){var c=this;return"disabled"===a?(this[b?"_disable":"_enable"](),void(this.options[a]=b)):(this._super(a,b),void("content"===a&&$.each(this.tooltips,function(a,b){c._updateContent(b)})))},_disable:function(){var a=this;$.each(this.tooltips,function(b,c){var d=$.Event("blur");d.target=d.currentTarget=c[0],a.close(d,!0)}),this.element.find(this.options.items).addBack().each(function(){var b=$(this);b.is("[title]")&&b.data(a.prefix+"-title",b.attr("title")).attr("title","")})},_enable:function(){var a=this;this.element.find(this.options.items).addBack().each(function(){var b=$(this);b.data(a.prefix+"-title")&&b.attr("title",b.data(a.prefix+"-title"))})},_nohoverHandler:function(a){var b=$(a?a.target:this.element);b.attr("title")&&(b.data(this.prefix+"-title",b.attr("title")),b.attr("title",""))},open:function(a){var b=this,c=$(a?a.target:this.element).closest(this.options.items);c.length&&!c.data(b.prefix+"-id")&&(c.attr("title")&&c.data(b.prefix+"-title",c.attr("title")),c.data(b.prefix+"-open",!0),a&&"mouseover"===a.type&&c.parents().each(function(){var a,c=$(this);c.data("ui-tooltip-open")&&(a=$.Event("blur"),a.target=a.currentTarget=this,b.close(a,!0)),c.attr("title")&&(c.uniqueId(),b.parents[this.id]={element:this,title:c.attr("title")},c.attr("title",""))}),this._updateContent(c,a))},title:function(a){this.element.data(this.prefix+"-title",a).attr("title","")},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){a.data(e.prefix+"-open")&&e._delay(function(){b&&(b.type=f),this._open(b,a,c)})}),void(c&&this._open(b,a,c)))},_open:function(b,c,d){function e(a){i.of=a,f.is(":hidden")||f.position(i)}var f,g,h,i=$.extend({},this.options.position);if(d){if(f=this._find(c),f.length)return void f.find("."+this.prefix+"-content").html(d);c.is("[title]")&&(b&&"mouseover"===b.type?c.attr("title",""):c.removeAttr("title")),f=this._tooltip(c),a(this.prefix,c,f.attr("id")),f.find("."+this.prefix+"-content").html(d),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:e}),e(b)):f.position($.extend({of:c},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){f.is(":visible")&&(e(i.of),f.css("overflow","visible"),clearInterval(h))},$.fx.interval)),this._trigger("open",b,{tooltip:f}),g={keyup:function(a){if(a.keyCode===$.ui.keyCode.ESCAPE){var b=$.Event(a);b.currentTarget=c[0],this.close(b,!0)}},remove:function(){this._removeTooltip(f)}},b&&"mouseover"!==b.type||(g.mouseleave="close"),b&&"focusin"!==b.type||(g.focusout="close"),this._on(!0,c,g)}},close:function(a){var c=this,d=$(a?a.currentTarget:this.element),e=this._find(d);this.closing||d.data(c.prefix+"-open")&&(clearInterval(this.delayedShow),d.data(c.prefix+"-title")&&d.attr("title",d.data(c.prefix+"-title")),b(this.prefix,d),e.stop(!0),this._hide(e,this.options.hide,function(){c._removeTooltip($(this))}),d.removeData(c.prefix+"-open"),this._off(d,"mouseleave focusout keyup"),d[0]!==this.element[0]&&this._off(d,"remove"),this._off(this.document,"mousemove"),a&&"mouseleave"===a.type&&$.each(this.parents,function(a,b){$(b.element).attr("title",b.title),delete c.parents[a]}),this.closing=!0,this._trigger("close",a,{tooltip:e}),this.closing=!1)},_tooltip:function(a){var b=this.prefix+"-"+c++,d=$(this.options.template).attr("id",b).addClass(this.options.extClass||"");return $.trim(this.options.title).length>0?d.find("."+this.prefix+"-title").html(this.options.title):d.find("."+this.prefix+"-title").hide(),d.appendTo(this.document[0].body),this.tooltips[b]=a,d},_find:function(a){var b=a.data(this.prefix+"-id");return b?$("#"+b):$()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this,b=a.prefix+"-title";$.each(this.tooltips,function(c,d){var e=$.Event("blur");e.target=e.currentTarget=d[0],a.close(e,!0),$("#"+c).remove(),d.data(b)&&(d.attr("title",d.data(b)),d.removeData(b))})}})}),!function(a){"function"==typeof define&&define.amd?define("fish.validator",a):a()}(function(){"use strict";function a(b,c){var d=this;return!d instanceof a?new a(b,c):(d.$el=$(b),void d._init(b,c))}function b(a,c){var e=c?c===!0?this:c:b.prototype;if(B(a))for(var f in a)e[f]=d(a[f])}function c(a,b){var d=b?b===!0?this:b:c.prototype;if(B(a))for(var e in a){if(!a[e])return;d[e]=a[e]}}function d(a){switch($.type(a)){case"function":return a;case"array":return function(b){return a[0].test(b.value)||a[1]||!1};case"regexp":return function(b){return a.test(b.value)}}}function e(a){var b="";return $.map(a.split(" "),function(a){b+=","+("#"===a.charAt(0)?a:'[name="'+a+'"]')}),b.substring(1)}function f(a){var b;if(a&&a.tagName){switch(a.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":b=a.form||$(a).closest(".nice-validator");break;case"FORM":b=a;break;default:b=$(a).closest(".nice-validator")}return $(b).data(n)||$(b)[n]().data(n)}}function g(a,b){var c=$.trim(C(a,"data-rule-"+b));if(c)return c=new Function("return "+c)(),c?d(c):void 0}function h(a,b,c,d){var e=b.msg,f=b._r;return B(e)&&(e=e[f]),A(e)||(e=C(a,"data-msg-"+f)||C(a,"data-msg")||c||(d?A(d)?d:d[f]:"")),e}function i(a){var b;return a&&(b=t.exec(a)),b?b[1]:""}function j(a){return"INPUT"===a.tagName&&"checkbox"===a.type||"radio"===a.type}function k(a){return Date.parse(a.replace(/\.|\-/g,"/"))}var l,m,n="validator",o=".validator",p=/(!?)\s?(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||&)?/g,q=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,r=/(?:([^:;\(\[]*):)?(.*)/,s=/[^\x00-\xff]/g,t=/^.*(top|right|bottom|left).*$/,u=/(?:(post|get):)?(.+)/i,v=/<|>/g,w=$.noop,x=$.proxy,y=$.isFunction,z=$.isArray,A=function(a){return"string"==typeof a},B=function(a){return a&&"[object Object]"===Object.prototype.toString.call(a)},C=function(a,b,c){return void 0===c?a.getAttribute(b):void(null===c?a.removeAttribute(b):a.setAttribute(b,""+c))},D=window.console||{log:w,info:w},E={debug:0,timely:1,theme:"default",ignore:"",focusCleanup:!0,focusInvalid:!0,beforeSubmit:w,validClass:"n-valid",invalidClass:"n-invalid",msgWrapper:"span",msgMaker:function(a){var b,c={error:"n-error",ok:"n-ok",tip:"n-tip",loading:"n-loading"}[a.type];return b='<span class="msg-wrap '+c+'" role="alert">',b+=a.arrow+a.icon+'<span class="n-msg">'+a.msg+"</span>",b+="</span>"},msgIcon:'<span class="n-icon"></span>',msgArrow:'<span class="n-arrow"><b></b><i></i></span>',msgClass:"",showOk:!1,defaultMsg:"{0} is not valid.",loadingMsg:"Validating..."},F={"default":{formClass:"n-yellow",msgClass:"n-bottom"}};$.fn.validator=function(b){var c=this,d=arguments;return c.is(":input")?c:(!c.is("form")&&(c=this.find("form")),!c.length&&(c=this),c.each(function(){var c=$(this).data("validator");if(c)if(A(b)){if("_"===b.charAt(0))return;c[b].apply(c,Array.prototype.slice.call(d,1))}else b&&(c._reset(!0),c._init(this,b));else new a(this,b)}),this)},$.fn.isValid=function(a,b){var c,d,e=f(this[0]),g=y(a);return e?(e.checkOnly=!!b,d=e.options,c=e._multiValidate(this.is(":input")?this:this.find(":verifiable"),function(b){b||!d.focusInvalid||e.checkOnly||e.$el.find(":input[aria-invalid]:first").focus(),g&&a.call(null,b),e.checkOnly=!1}),g?this:c):!0},$.expr[":"].verifiable=function(a){var b=a.nodeName.toLowerCase();return("input"===b&&!{submit:1,button:1,reset:1,image:1}[a.type]||"select"===b||"textarea"===b)&&a.disabled===!1},a.prototype={_init:function(a,d){var f,g,h,j=this;if(y(d)&&(d={valid:d}),d=d||{},h=C(a,"data-validator-option"),h=h&&"{"===h.charAt(0)?new Function("return "+h)():{},g=F[d.theme||h.theme||E.theme],f=j.options=$.extend({},E,g,h,j.options,d),j.rules=new b(f.rules,!0),j.messages=new c(f.messages,!0),j.elements=j.elements||{},j.deferred={},j.errors={},j.fields={},j._initFields(f.fields),z(f.groups)&&$.map(f.groups,function(a){return A(a.fields)&&y(a.callback)?(a.$elems=j.$el.find(e(a.fields)),void $.map(a.fields.split(" "),function(b){j.fields[b]=j.fields[b]||{},j.fields[b].group=a})):null}),j.msgOpt={type:"error",pos:i(f.msgClass),wrapper:f.msgWrapper,cls:f.msgClass,style:f.msgStyle,icon:f.msgIcon,arrow:f.msgArrow,show:f.msgShow,hide:f.msgHide},j.isAjaxSubmit=!1,f.valid||!$.trim(C(a,"action")))j.isAjaxSubmit=!0;else{var k=$[$._data?"_data":"data"](a,"events");k&&k.valid&&$.map(k.valid,function(a){return-1!==a.namespace.indexOf("form")?1:null}).length&&(j.isAjaxSubmit=!0)}j.$el.data("validator")||(j.$el.data("validator",j).addClass("nice-validator "+f.formClass).on("submit.validator validate.validator",x(j,"_submit")).on("reset.validator",x(j,"_reset")).on("showtip.validator",x(j,"_showTip")).on("focusin.validator click.validator showtip.validator",":verifiable",x(j,"_focusin")).on("focusout.validator validate.validator",":verifiable",x(j,"_focusout")),f.timely>=2&&j.$el.on("keyup.validator paste.validator",":verifiable",x(j,"_focusout")).on("click.validator",":radio,:checkbox",x(j,"_focusout")).on("change.validator",'select,input[type="file"]',x(j,"_focusout")),j._novalidate=C(a,"novalidate"),C(a,"novalidate","novalidate"))},_initFields:function(a){var b=this;B(a)&&$.each(a,function(a,c){if(null===c){var d=b.elements[a];d&&b._resetElement(d,!0),delete b.fields[a]}else b.fields[a]=A(c)?{rule:c}:c}),b.$el.find(":verifiable").each(function(){b._parse(this)})},_parse:function(a){var b,c=this,d=a.name,e=C(a,"data-rule");e&&C(a,"data-rule",null),(a.id&&"#"+a.id in c.fields||!a.name)&&(d="#"+a.id),d&&(b=c.fields[d]||{},b.key=d,b.old={},b.rule=b.rule||e||"",b.rule&&(b.rule.match(/match|checked/)&&(b.must=!0),-1!==b.rule.indexOf("required")&&(b.required=!0,C(a,"aria-required",!0)),("timely"in b&&!b.timely||!c.options.timely)&&C(a,"notimely",!0),A(b.target)&&C(a,"data-target",b.target),A(b.tip)&&C(a,"data-tip",b.tip),c.fields[d]=c._parseRule(b)))},_parseRule:function(a){var b=r.exec(a.rule),c=this.options;if(b)return a._i=0,b[1]&&(a.display=b[1]),!a.display&&c.display&&(a.display=c.display),b[2]&&(a.rules=[],b[2].replace(p,function(){var b=arguments;b[3]=b[3]||b[4],a.rules.push({not:"!"===b[1],method:b[2],params:b[3]?b[3].split(", "):void 0,or:"|"===b[5]})})),a},_multiValidate:function(a,b){var c=this,d=c.options;return c.verifying=!0,c.isValid=!0,d.ignore&&(a=a.not(d.ignore)),a.each(function(a,b){var e=c.getField(b);return e&&(c._validate(b,e),!c.isValid&&d.stopOnError)?!1:void 0}),$.when.apply(null,$.map(c.deferred,function(a){return a})).done(function(){b.call(c,c.isValid),c.verifying=!1}),$.isEmptyObject(c.deferred)?c.isValid:void 0},_submit:function(a){var b=this,c=b.options,d=a.target,e="submit"===a.type;a.preventDefault(),m&&~(m=!1)||b.submiting||"validate"===a.type&&b.$el[0]!==d||c.beforeSubmit.call(b,d)===!1||(c.debug&&D.log("\n"+a.type),b._reset(),b.submiting=!0,b._multiValidate(b.$el.find(":verifiable"),function(a){var f,g=a||2===c.debug?"valid":"invalid";a||(c.focusInvalid&&b.$el.find(':input[aria-invalid="true"]:first').focus(),f=$.map(b.errors,function(a){return a})),b.submiting=!1,y(c[g])&&c[g].call(b,d,f),b.$el.trigger(g+".form",[d,f]),a&&!b.isAjaxSubmit&&e&&(m=!0,l&&l.name&&b.$el.append('<input type="hidden" name="'+l.name+'" value="'+$(l).val()+'">'),d.submit())}))},_reset:function(a){var b=this;b.errors={},a&&b.$el.find(":verifiable").each(function(a,c){b._resetElement(c)})},_resetElement:function(a,b){var c=this.options;$(a).removeClass(c.validClass+" "+c.invalidClass),this.hideMsg(a),b&&C(a,"aria-required",null)},_focusin:function(a){var b,c=this,d=c.options,e=a.target;c.verifying||("showtip"!==a.type&&"error"===C(e,"data-inputstatus")&&d.focusCleanup&&($(e).removeClass(d.invalidClass),c.hideMsg(e)),b=C(e,"data-tip"),b&&c.showMsg(e,{type:"tip",msg:b}))},_focusout:function(a){var b,c,d=this,e=d.options,f=a.target,g=a.type,h={click:1,change:1,paste:1},i=0;if(!h[g]){if("validate"===g)c=!0;else{if(C(f,"notimely"))return;if(e.timely>=2&&"keyup"!==g)return}if(e.ignore&&$(f).is(e.ignore))return;if("keyup"===g){var j=a.keyCode,k={8:1,9:1,16:1,32:1,46:1};if(9===j&&!f.value)return;if(48>j&&!k[j])return;i=e.timely>=100?e.timely:500}}b=d.getField(f),b&&(i?(b._t&&clearTimeout(b._t),b._t=setTimeout(function(){d._validate(f,b,c)},i)):d._validate(f,b,c))},_showTip:function(a){var b=this;b.$el[0]===a.target&&b.$el.find(":verifiable[data-tip]").each(function(){b.showMsg(this,{msg:C(this,"data-tip"),type:"tip"})})},_validatedField:function(a,b,c){var d=this,e=d.options,f=c.isValid=b.isValid=!!c.isValid,g=f?"valid":"invalid";c.key=b.key,c.rule=b._r,f?c.type="ok":(d.submiting&&(d.errors[b.key]=c.msg),d.isValid=!1),b.old.value=a.value,b.old.id=a.id,d.elements[b.key]=c.element=a,d.$el[0].isValid=f?d.isFormValid():f,y(b[g])&&b[g].call(d,a,c),$(a).attr("aria-invalid",f?null:!0).removeClass(f?e.invalidClass:e.validClass).addClass(c.skip?"":f?e.validClass:e.invalidClass).trigger(g+".field",[c,d]),d.$el.triggerHandler("validation",[c,d]),d.checkOnly||(b.msgMaker||e.msgMaker)&&d[c.showOk||c.msg?"showMsg":"hideMsg"](a,c,b)
},_validatedRule:function(a,b,c,d){b=b||i.getField(a),d=d||{};var e,f,g,i=this,j=i.options,k=b._r,l=!1;if(null===c)return void i._validatedField(a,b,{isValid:!0,skip:!0});if(c===!0||void 0===c||""===c?l=!0:A(c)?e=c:B(c)&&(c.error?e=c.error:(e=c.ok,l=!0)),b.rules&&(f=b.rules[b._i],f.not&&(e=void 0,l="required"===k||!l),f.or))if(l)for(;b._i<b.rules.length&&b.rules[b._i].or;)b._i++;else g=!0;g||(l?(d.isValid=l,j.showOk!==!1&&(A(e)||(A(b.ok)?e=b.ok:A(C(a,"data-ok"))?e=C(a,"data-ok"):A(j.showOk)&&(e=j.showOk)),A(e)&&(d.showOk=l,d.msg=e)),$(a).trigger("valid.rule",[k,d.msg])):(d.msg=(h(a,b,e,i.messages[k])||E.defaultMsg).replace("{0}",i._getDisplay(a,b.display||"")),$(a).trigger("invalid.rule",[k,d.msg]))),j.debug&&D.log("   "+b._i+": "+k+" => "+(l||d.msg||l)),g||l&&b._i<b.rules.length-1?(b._i++,i._checkRule(a,b)):(b._i=0,i._validatedField(a,b,d))},_checkRule:function(a,b){var c,d,e=this,f=b.key,h=b.rules[b._i],i=h.method,j=h.params;e.submiting&&e.deferred[f]||(d=b.old,b._r=i,c=!b.must&&void 0!==d.ret&&d.rule===h&&d.id===a.id&&a.value&&d.value===a.value?d.ret:(g(a,i)||e.rules[i]||w).call(e,a,j,b),B(c)&&y(c.then)?(e.deferred[f]=c,!e.checkOnly&&e.showMsg(a,{type:"loading",msg:e.options.loadingMsg},b),c.then(function(c,f,g){var i,j=g.responseText,k=b.dataFilter||e.options.dataFilter;"json"===this.dataType?j=c:"{"===j.charAt(0)&&(j=$.parseJSON(j)||{}),y(k)||(k=function(a){return A(a)||B(a)&&("error"in a||"ok"in a)?a:void 0}),i=k(j),void 0===i&&(i=k(j.data)),d.rule=h,d.ret=i,e._validatedRule(a,b,i)},function(c,d){e._validatedRule(a,b,d)}).always(function(){delete e.deferred[f]}),b.isValid=void 0):e._validatedRule(a,b,c))},_validate:function(a,b){if(!a.disabled&&null===C(a,"novalidate")){var c,d=this,e={},f=b.group,g=b.isValid=!0;if(b.rules||d._parse(a),d.options.debug&&D.info(b.key),f&&(c=f.callback.call(d,f.$elems),void 0!==c&&(d.hideMsg(f.target,{},b),c===!0?c=void 0:(b._i=0,b._r="group",g=!1,d.hideMsg(a,{},b),$.extend(e,f)))),g&&!b.required&&!b.must&&!a.value){if("tip"===C(a,"data-inputstatus"))return;if(!j(a))return void d._validatedField(a,b,{isValid:!0})}void 0!==c?d._validatedRule(a,b,c,e):b.rule&&d._checkRule(a,b)}},test:function(a,b){var c,d,e,f=this,g=q.exec(b);return g&&(d=g[1],d in f.rules&&(e=g[2]||g[3],e=e?e.split(", "):void 0,c=f.rules[d].call(f,a,e))),c===!0||void 0===c||null===c},getRangeMsg:function(a,b,c,d){if(b){var e=this,f=e.messages[c]||"",g=b[0].split("~"),h=g[0],i=g[1],j="rg",k=[""],l=+a===+a;if(2===g.length){if(h&&i){if(l&&a>=+h&&+i>=a)return!0;k=k.concat(g)}else if(h&&!i){if(l&&a>=+h)return!0;k.push(h),j="gte"}else if(!h&&i){if(l&&+i>=a)return!0;k.push(i),j="lte"}}else{if(a===+h)return!0;k.push(h),j="eq"}return f&&(d&&f[j+d]&&(j+=d),k[0]=f[j]),e.renderMsg.apply(null,k)}},renderMsg:function(){var a=arguments,b=a[0],c=a.length;if(b){for(;--c;)b=b.replace("{"+c+"}",a[c]);return b}},_getDisplay:function(a,b){return A(b)?b:y(b)?b.call(this,a):""},_getMsgOpt:function(a){return $.extend({},this.msgOpt,A(a)?{msg:a}:a)},_getMsgDOM:function(a,b){var c,d,e,f=$(a);if(f.is(":input")?(e=b.target||C(a,"data-target"),e&&(e=y(e)?e.call(this,a):this.$el.find(e),e.length&&(e.is(":input")?a=e.get(0):c=e)),c||(d=!j(a)&&a.id?a.id:a.name,c=this.$el.find(b.wrapper+'.msg-box[for="'+d+'"]'))):c=f,!c.length)if(f=this.$el.find(e||a),c=$("<"+b.wrapper+">").attr({"class":"msg-box"+(b.cls?" "+b.cls:""),style:b.style||"","for":d}),j(a)){var g=f.parent();c[b.pos&&"right"!==b.pos?"insertBefore":"insertAfter"](g.is("label")?g:f)}else c[b.pos&&"right"!==b.pos?"insertBefore":"insertAfter"](f);return c},showMsg:function(a,b,c){var d,e=this,f=e.options;if(b=e._getMsgOpt(b),(b.msg||b.showOk)&&(a=$(a).get(0),$(a).is(":verifiable")&&(C(a,"data-inputstatus",b.type),c=c||e.getField(a),c&&(b.style=c.msgStyle||b.style,b.cls=c.msgClass||b.cls,b.wrapper=c.msgWrapper||b.wrapper,b.target=c.target||f.target)),d=(c||{}).msgMaker||f.msgMaker)){var g=e._getMsgDOM(a,b),h=g[0].className;!t.test(h)&&g.addClass(b.cls),g.html(d.call(e,b))[0].style.display="",y(b.show)&&b.show.call(e,g,b.type)}},hideMsg:function(a,b,c){var d=this,e=d.options;a=$(a).get(0),b=d._getMsgOpt(b),$(a).is(":verifiable")&&(C(a,"data-inputstatus",null),C(a,"aria-invalid",null),c=c||d.getField(a),c&&(b.wrapper=c.msgWrapper||b.wrapper,b.target=c.target||e.target));var f=d._getMsgDOM(a,b);f.length&&(y(b.hide)?b.hide.call(d,f,b.type):f[0].style.display="none")},mapMsg:function(a){var b=this;$.each(a,function(a,c){var d=b.elements[a]||b.$el.find(':input[name="'+a+'"]')[0];b.showMsg(d,c)})},setMsg:function(a){new c(a,this.messages)},setRule:function(a){new b(a,this.rules),$.map(this.fields,function(a){a.old={}})},getField:function(a){var b,c=this;return b=a.id&&"#"+a.id in c.fields||!a.name?"#"+a.id:a.name,C(a,"data-rule")&&c._parse(a),c.fields[b]},setField:function(a,b){var c={};A(a)?c[a]=b:B(a)&&(c=a),this._initFields(c)},isFormValid:function(){var a=this.fields;for(var b in a)if(!a[b].isValid)return a[b].isValid;return!0},holdSubmit:function(a){this.submiting=void 0===a||a},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(o).removeData(n),C(this.$el[0],"novalidate",this._novalidate)}},new b({required:function(a,b){var c=$.trim(a.value),d=!0;if(b)if(1===b.length){if(!c&&!this.test(a,b[0]))return C(a,"aria-required",null),null;C(a,"aria-required",!0)}else"not"===b[0]&&$.map(b.slice(1),function(a){c===$.trim(a)&&(d=!1)});return d&&!!c},integer:function(a,b){var c,d="0|",e="[1-9]\\d*",f=b?b[0]:"*";switch(f){case"+":c=e;break;case"-":c="-"+e;break;case"+0":c=d+e;break;case"-0":c=d+"-"+e;break;default:c=d+"-?"+e}return c="^(?:"+c+")$",new RegExp(c).test(a.value)||this.messages.integer[f]},match:function(a,b,c){if(b){var d,e,f,g,h,i,j,l=this,m="eq";if(1===b.length?f=b[0]:(m=b[0],f=b[1]),h="#"===f.charAt(0)?f:':input[name="'+f+'"]',i=l.$el.find(h)[0]){if(j=l.getField(i),d=a.value,e=i.value,c._match||(l.$el.on("valid.field"+o,h,function(){$(a).trigger("validate")}),c._match=j._match=1),!c.required&&""===d&&""===e)return null;if(b[2]&&("date"===b[2]?(d=k(d),e=k(e)):"time"===b[2]&&(d=+d.replace(":",""),e=+e.replace(":",""))),"eq"!==m&&!isNaN(+d)&&isNaN(+e))return!0;switch(g=l.messages.match[m].replace("{1}",l._getDisplay(a,j.display||f)),m){case"lt":return+e>+d||g;case"lte":return+e>=+d||g;case"gte":return+d>=+e||g;case"gt":return+d>+e||g;case"neq":return d!==e||g;default:return d===e||g}}}},range:function(a,b){return this.getRangeMsg(+a.value,b,"range")},checked:function(a,b,c){if(j(a)){var d,e,f=this;return e=f.$el.find('input[name="'+a.name+'"]').filter(function(){var a=this;return!d&&j(a)&&(d=a),!a.disabled&&a.checked&&$(a).is(":visible")}).length,b?f.getRangeMsg(e,b,"checked"):!!e||h(d,c,"")||f.messages.required}},length:function(a,b){var c=a.value,d=(b[1]?c.replace(s,"xx"):c).length;return this.getRangeMsg(d,b,"length",b[1]?"_2":"")},remote:function(a,b){if(b){var c,d=this,e=u.exec(b[0]),f=e[2],g=(e[1]||"POST").toUpperCase(),h={};return h[a.name]=a.value,b[1]&&$.map(b.slice(1),function(a){var b,c=a.split(":");a=$.trim(c[0]),b=$.trim(c[1]||"")||a,h[a]=d.$el.find("#"===b.charAt(0)?b:':input[name="'+b+'"]').val()}),h=$.param(h),"POST"===g&&(c=f.indexOf("?"),-1!==c&&(h+="&"+f.substring(c+1,f.length),f=f.substring(0,c))),$.ajax({url:f,type:g,data:h,cache:!1})}},filter:function(a,b){a.value=a.value.replace(b?new RegExp("["+b[0]+"]","gm"):v,"")}}),a.config=function(a){$.each(a,function(a,d){"rules"===a?new b(d):"messages"===a?new c(d):E[a]=d})},a.config({messages:fish.getResource("validator.msg"),rules:fish.getResource("validator.rules")})}),!function(a){"function"==typeof define&&define.amd?define("fish.popover",["fish.tooltip"],a):a()}(function(){$.widget("ui.popover",$.ui.tooltip,{options:{title:"",event:"click",template:'<div role="tooltip" class="ui-popover"><h3 class="ui-popover-title"></h3><div class="ui-popover-content"></div></div>',position:{my:"center top+11",at:"center bottom",collision:"flipfit flip"}},_create:function(){this._super()},_init:function(){},_destroy:function(){this._super()},open:function(a){var b=this,c=$(a?a.target:this.element);return!c.length||c.data(b.prefix+"-id")?void this.close():void(0!=$.trim(this.options.content).length&&(c.attr("title")&&c.data(b.prefix+"-title",c.attr("title")),c.data(b.prefix+"-open",!0),a&&"mouseover"===a.type&&c.parents().each(function(){var a,c=$(this);c.data(b.prefix+"-open")&&(a=$.Event("blur"),a.target=a.currentTarget=this,b.close(a,!0)),c.attr("title")&&(c.uniqueId(),b.parents[this.id]={element:this,title:c.attr("title")},c.attr("title",""))}),this._updateContent(c,a)))},_disable:function(){this.close();var a=this.element;a.data("popover-content",this.options.content),this.options.content=null},_enable:function(){var a=this.element;this.options.content=a.data("popover-content")}})}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_initRoot=function(a){var b=data.getRoot(a);b||(b={},data.setRoot(a,b)),b[a.data.key.children]=[],b.expandTriggerFlag=!1,b.curSelectedList=[],b.noSelection=!0,b.createdNodes=[],b.zId=0,b._ver=(new Date).getTime()},_initCache=function(a){var b=data.getCache(a);b||(b={},data.setCache(a,b)),b.nodes=[],b.doms=[]},_bindEvent=function(a){var b=a.treeObj,c=consts.event;b.bind(c.NODECREATED,function(b,c,d){tools.apply(a.callback.onNodeCreated,[b,c,d])}),b.bind(c.CLICK,function(b,c,d,e,f){tools.apply(a.callback.onClick,[c,d,e,f])}),b.bind(c.EXPAND,function(b,c,d){tools.apply(a.callback.onExpand,[b,c,d])}),b.bind(c.COLLAPSE,function(b,c,d){tools.apply(a.callback.onCollapse,[b,c,d])}),b.bind(c.ASYNC_SUCCESS,function(b,c,d,e){tools.apply(a.callback.onAsyncSuccess,[b,c,d,e])}),b.bind(c.ASYNC_ERROR,function(b,c,d,e,f,g){tools.apply(a.callback.onAsyncError,[b,c,d,e,f,g])}),b.bind(c.REMOVE,function(b,c,d){tools.apply(a.callback.onRemove,[b,c,d])})},_unbindEvent=function(a){var b=a.treeObj,c=consts.event;b.unbind(c.NODECREATED).unbind(c.CLICK).unbind(c.EXPAND).unbind(c.COLLAPSE).unbind(c.ASYNC_SUCCESS).unbind(c.ASYNC_ERROR).unbind(c.REMOVE)},_eventProxy=function(a){var b=a.target,c=data.getSetting(a.data.treeId),d="",e=null,f="",g="",h=null,i=null,j=null;if(tools.eqs(a.type,"mousedown")?g="mousedown":tools.eqs(a.type,"mouseup")?g="mouseup":tools.eqs(a.type,"contextmenu")?g="contextmenu":tools.eqs(a.type,"click")?tools.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+consts.id.SWITCH)?(d=tools.getNodeMainDom(b).id,f="switchNode"):(j=tools.getMDom(c,b,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),j&&(d=tools.getNodeMainDom(j).id,f="clickNode")):tools.eqs(a.type,"dblclick")&&(g="dblclick",j=tools.getMDom(c,b,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),j&&(d=tools.getNodeMainDom(j).id,f="switchNode")),g.length>0&&0==d.length&&(j=tools.getMDom(c,b,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),j&&(d=tools.getNodeMainDom(j).id)),d.length>0)switch(e=data.getNodeCache(c,d),f){case"switchNode":e.isParent&&(tools.eqs(a.type,"click")||tools.eqs(a.type,"dblclick")&&tools.apply(c.view.dblClickExpand,[c.treeId,e],c.view.dblClickExpand))?h=handler.onSwitchNode:f="";break;case"clickNode":h=handler.onClickNode}switch(g){case"mousedown":i=handler.onZTreeMousedown;break;case"mouseup":i=handler.onZTreeMouseup;break;case"dblclick":i=handler.onZTreeDblclick;break;case"contextmenu":i=handler.onZTreeContextmenu}var k={stop:!1,node:e,nodeEventType:f,nodeEventCallback:h,treeEventType:g,treeEventCallback:i};return k},_initNode=function(a,b,c,d,e,f){if(c){var g=data.getRoot(a),h=a.data.key.children;c.level=b,c.tId=a.treeId+"_"+ ++g.zId,c.parentTId=d?d.tId:null,c.open="string"==typeof c.open?tools.eqs(c.open,"true"):!!c.open,c[h]&&c[h].length>0?(c.isParent=!0,c.zAsync=!0):(c.isParent="string"==typeof c.isParent?tools.eqs(c.isParent,"true"):!!c.isParent,c.open=c.isParent&&!a.async.enable?c.open:!1,c.zAsync=!c.isParent),c.isFirstNode=e,c.isLastNode=f,c.getParentNode=function(){return data.getNodeCache(a,c.parentTId)},c.getPreNode=function(){return data.getPreNode(a,c)},c.getNextNode=function(){return data.getNextNode(a,c)},c.isAjaxing=!1,data.fixPIdKeyValue(a,c)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(a,b){data.getCache(a).nodes[data.getNodeCacheId(b.tId)]=b},getNodeCacheId:function(a){return a.substring(a.lastIndexOf("_")+1)},addAfterA:function(a){_init.afterA.push(a)},addBeforeA:function(a){_init.beforeA.push(a)},addInnerAfterA:function(a){_init.innerAfterA.push(a)},addInnerBeforeA:function(a){_init.innerBeforeA.push(a)},addInitBind:function(a){_init.bind.push(a)},addInitUnBind:function(a){_init.unbind.push(a)},addInitCache:function(a){_init.caches.push(a)},addInitNode:function(a){_init.nodes.push(a)},addInitProxy:function(a,b){b?_init.proxys.splice(0,0,a):_init.proxys.push(a)},addInitRoot:function(a){_init.roots.push(a)},addNodesData:function(a,b,c){var d=a.data.key.children;b[d]||(b[d]=[]),b[d].length>0&&(b[d][b[d].length-1].isLastNode=!1,view.setNodeLineIcos(a,b[d][b[d].length-1])),b.isParent=!0,b[d]=b[d].concat(c)},addSelectedNode:function(a,b){var c=data.getRoot(a);data.isSelectedNode(a,b)||c.curSelectedList.push(b)},addCreatedNode:function(a,b){if(a.callback.onNodeCreated||a.view.addDiyDom){var c=data.getRoot(a);c.createdNodes.push(b)}},addZTreeTools:function(a){_init.zTreeTools.push(a)},fixPIdKeyValue:function(a,b){a.data.simpleData.enable&&(b[a.data.simpleData.pIdKey]=b.parentTId?b.getParentNode()[a.data.simpleData.idKey]:a.data.simpleData.rootPId)},getAfterA:function(){for(var a=0,b=_init.afterA.length;b>a;a++)_init.afterA[a].apply(this,arguments)},getBeforeA:function(){for(var a=0,b=_init.beforeA.length;b>a;a++)_init.beforeA[a].apply(this,arguments)},getInnerAfterA:function(){for(var a=0,b=_init.innerAfterA.length;b>a;a++)_init.innerAfterA[a].apply(this,arguments)},getInnerBeforeA:function(){for(var a=0,b=_init.innerBeforeA.length;b>a;a++)_init.innerBeforeA[a].apply(this,arguments)},getCache:function(a){return caches[a.treeId]},getNextNode:function(a,b){if(!b)return null;for(var c=a.data.key.children,d=b.parentTId?b.getParentNode():data.getRoot(a),e=0,f=d[c].length-1;f>=e;e++)if(d[c][e]===b)return e==f?null:d[c][e+1];return null},getNodeByParam:function(a,b,c,d){if(!b||!c)return null;for(var e=a.data.key.children,f=0,g=b.length;g>f;f++){if(b[f][c]==d)return b[f];var h=data.getNodeByParam(a,b[f][e],c,d);if(h)return h}return null},getNodeCache:function(a,b){if(!b)return null;var c=caches[a.treeId].nodes[data.getNodeCacheId(b)];return c?c:null},getNodeName:function(a,b){var c=a.data.key.name;return""+b[c]},getNodeTitle:function(a,b){var c=""===a.data.key.title?a.data.key.name:a.data.key.title;return""+b[c]},getNodes:function(a){return data.getRoot(a)[a.data.key.children]},getNodesByParam:function(a,b,c,d){if(!b||!c)return[];for(var e=a.data.key.children,f=[],g=0,h=b.length;h>g;g++)b[g][c]==d&&f.push(b[g]),f=f.concat(data.getNodesByParam(a,b[g][e],c,d));return f},getNodesByParamFuzzy:function(a,b,c,d){if(!b||!c)return[];var e=a.data.key.children,f=[];d=d.toLowerCase();for(var g=0,h=b.length;h>g;g++)"string"==typeof b[g][c]&&b[g][c].toLowerCase().indexOf(d)>-1&&f.push(b[g]),f=f.concat(data.getNodesByParamFuzzy(a,b[g][e],c,d));return f},getNodesByFilter:function(a,b,c,d,e){if(!b)return d?null:[];for(var f=a.data.key.children,g=d?null:[],h=0,i=b.length;i>h;h++){if(tools.apply(c,[b[h],e],!1)){if(d)return b[h];g.push(b[h])}var j=data.getNodesByFilter(a,b[h][f],c,d,e);if(d&&j)return j;g=d?j:g.concat(j)}return g},getPreNode:function(a,b){if(!b)return null;for(var c=a.data.key.children,d=b.parentTId?b.getParentNode():data.getRoot(a),e=0,f=d[c].length;f>e;e++)if(d[c][e]===b)return 0==e?null:d[c][e-1];return null},getRoot:function(a){return a?roots[a.treeId]:null},getRoots:function(){return roots},getSetting:function(a){return settings[a]},getSettings:function(){return settings},getZTreeTools:function(a){var b=this.getRoot(this.getSetting(a));return b?b.treeTools:null},initCache:function(){for(var a=0,b=_init.caches.length;b>a;a++)_init.caches[a].apply(this,arguments)},initNode:function(){for(var a=0,b=_init.nodes.length;b>a;a++)_init.nodes[a].apply(this,arguments)},initRoot:function(){for(var a=0,b=_init.roots.length;b>a;a++)_init.roots[a].apply(this,arguments)},isSelectedNode:function(a,b){for(var c=data.getRoot(a),d=0,e=c.curSelectedList.length;e>d;d++)if(b===c.curSelectedList[d])return!0;return!1},removeNodeCache:function(a,b){var c=a.data.key.children;if(b[c])for(var d=0,e=b[c].length;e>d;d++)arguments.callee(a,b[c][d]);data.getCache(a).nodes[data.getNodeCacheId(b.tId)]=null},removeSelectedNode:function(a,b){for(var c=data.getRoot(a),d=0,e=c.curSelectedList.length;e>d;d++)b!==c.curSelectedList[d]&&data.getNodeCache(a,c.curSelectedList[d].tId)||(c.curSelectedList.splice(d,1),d--,e--)},setCache:function(a,b){caches[a.treeId]=b},setRoot:function(a,b){roots[a.treeId]=b},setZTreeTools:function(){for(var a=0,b=_init.zTreeTools.length;b>a;a++)_init.zTreeTools[a].apply(this,arguments)},transformToArrayFormat:function(a,b){if(!b)return[];var c=a.data.key.children,d=[];if(tools.isArray(b))for(var e=0,f=b.length;f>e;e++)d.push(b[e]),b[e][c]&&(d=d.concat(data.transformToArrayFormat(a,b[e][c])));else d.push(b),b[c]&&(d=d.concat(data.transformToArrayFormat(a,b[c])));return d},transformTozTreeFormat:function(a,b){var c,d,e=a.data.simpleData.idKey,f=a.data.simpleData.pIdKey,g=a.data.key.children;if(!e||""==e||!b)return[];if(tools.isArray(b)){var h=[],i=[];for(c=0,d=b.length;d>c;c++)i[b[c][e]]=b[c];for(c=0,d=b.length;d>c;c++)i[b[c][f]]&&b[c][e]!=b[c][f]?(i[b[c][f]][g]||(i[b[c][f]][g]=[]),i[b[c][f]][g].push(b[c])):h.push(b[c]);return h}return[b]}},event={bindEvent:function(){for(var a=0,b=_init.bind.length;b>a;a++)_init.bind[a].apply(this,arguments)},unbindEvent:function(){for(var a=0,b=_init.unbind.length;b>a;a++)_init.unbind[a].apply(this,arguments)},bindTree:function(a){var b={treeId:a.treeId},c=a.treeObj;a.view.txtSelectedEnable||c.bind("selectstart",function(a){var b=a.originalEvent.srcElement.nodeName.toLowerCase();return"input"===b||"textarea"===b}).css({"-moz-user-select":"-moz-none"}),c.bind("click",b,event.proxy),c.bind("dblclick",b,event.proxy),c.bind("mouseover",b,event.proxy),c.bind("mouseout",b,event.proxy),c.bind("mousedown",b,event.proxy),c.bind("mouseup",b,event.proxy),c.bind("contextmenu",b,event.proxy)},unbindTree:function(a){var b=a.treeObj;b.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(){for(var a=[],b=0,c=_init.proxys.length;c>b;b++){var d=_init.proxys[b].apply(this,arguments);if(a.push(d),d.stop)break}return a},proxy:function(a){var b=data.getSetting(a.data.treeId);if(!tools.uCanDo(b,a))return!0;for(var c=event.doProxy(a),d=!0,e=!1,f=0,g=c.length;g>f;f++){var h=c[f];h.nodeEventCallback&&(e=!0,d=h.nodeEventCallback.apply(h,[a,h.node])&&d),h.treeEventCallback&&(e=!0,d=h.treeEventCallback.apply(h,[a,h.node])&&d)}return d}},handler={onSwitchNode:function(a,b){var c=data.getSetting(a.data.treeId);if(b.open){if(0==tools.apply(c.callback.beforeCollapse,[c.treeId,b],!0))return!0;data.getRoot(c).expandTriggerFlag=!0,view.switchNode(c,b)}else{if(0==tools.apply(c.callback.beforeExpand,[c.treeId,b],!0))return!0;data.getRoot(c).expandTriggerFlag=!0,view.switchNode(c,b)}return!0},onClickNode:function(a,b){var c=data.getSetting(a.data.treeId),d=c.view.autoCancelSelected&&(a.ctrlKey||a.metaKey)&&data.isSelectedNode(c,b)?0:c.view.autoCancelSelected&&(a.ctrlKey||a.metaKey)&&c.view.selectedMulti?2:1;return 0==tools.apply(c.callback.beforeClick,[c.treeId,b,d],!0)?!0:(0===d?view.cancelPreSelectedNode(c,b):view.selectNode(c,b,2===d),c.treeObj.trigger(consts.event.CLICK,[a,c.treeId,b,d]),!0)},onZTreeMousedown:function(a,b){var c=data.getSetting(a.data.treeId);return tools.apply(c.callback.beforeMouseDown,[c.treeId,b],!0)&&tools.apply(c.callback.onMouseDown,[a,c.treeId,b]),!0},onZTreeMouseup:function(a,b){var c=data.getSetting(a.data.treeId);return tools.apply(c.callback.beforeMouseUp,[c.treeId,b],!0)&&tools.apply(c.callback.onMouseUp,[a,c.treeId,b]),!0},onZTreeDblclick:function(a,b){var c=data.getSetting(a.data.treeId);return tools.apply(c.callback.beforeDblClick,[c.treeId,b],!0)&&tools.apply(c.callback.onDblClick,[a,c.treeId,b]),!0},onZTreeContextmenu:function(a,b){var c=data.getSetting(a.data.treeId);return tools.apply(c.callback.beforeRightClick,[c.treeId,b],!0)&&tools.apply(c.callback.onRightClick,[a,c.treeId,b]),"function"!=typeof c.callback.onRightClick}},tools={apply:function(a,b,c){return"function"==typeof a?a.apply(zt,b?b:[]):c},canAsync:function(a,b){var c=a.data.key.children;return a.async.enable&&b&&b.isParent&&!(b.zAsync||b[c]&&b[c].length>0)},clone:function(a){if(null===a)return null;var b=tools.isArray(a)?[]:{};for(var c in a)b[c]=a[c]instanceof Date?new Date(a[c].getTime()):"object"==typeof a[c]?arguments.callee(a[c]):a[c];return b},eqs:function(a,b){return a.toLowerCase()===b.toLowerCase()},isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},$:function(a,b,c){return b&&"string"!=typeof b&&(c=b,b=""),"string"==typeof a?$(a,c?c.treeObj.get(0).ownerDocument:null):$("#"+a.tId+b,c?c.treeObj:null)},getMDom:function(a,b,c){if(!b)return null;for(;b&&b.id!==a.treeId;){for(var d=0,e=c.length;b.tagName&&e>d;d++)if(tools.eqs(b.tagName,c[d].tagName)&&null!==b.getAttribute(c[d].attrName))return b;b=b.parentNode}return null},getNodeMainDom:function(a){return $(a).parent("li").get(0)||$(a).parentsUntil("li").parent().get(0)},isChildOrSelf:function(a,b){return $(a).closest("#"+b).length>0},uCanDo:function(){return!0}},view={addNodes:function(a,b,c,d){if(!a.data.keep.leaf||!b||b.isParent)if(tools.isArray(c)||(c=[c]),a.data.simpleData.enable&&(c=data.transformTozTreeFormat(a,c)),b){var e=$$(b,consts.id.SWITCH,a),f=$$(b,consts.id.ICON,a),g=$$(b,consts.id.UL,a);b.open||(view.replaceSwitchClass(b,e,consts.folder.CLOSE),view.replaceIcoClass(b,f,consts.folder.CLOSE),b.open=!1,g.css({display:"none"})),data.addNodesData(a,b,c),view.createNodes(a,b.level+1,c,b),d||view.expandCollapseParentNode(a,b,!0)}else data.addNodesData(a,data.getRoot(a),c),view.createNodes(a,0,c,null)},appendNodes:function(a,b,c,d,e,f){if(!c)return[];for(var g=[],h=a.data.key.children,i=0,j=c.length;j>i;i++){var k=c[i];if(e){var l=d?d:data.getRoot(a),m=l[h],n=m.length==c.length&&0==i,o=i==c.length-1;data.initNode(a,b,k,d,n,o,f),data.addNodeCache(a,k)}var p=[];k[h]&&k[h].length>0&&(p=view.appendNodes(a,b+1,k[h],k,e,f&&k.open)),f&&(view.makeDOMNodeMainBefore(g,a,k),view.makeDOMNodeLine(g,a,k),data.getBeforeA(a,k,g),view.makeDOMNodeNameBefore(g,a,k),data.getInnerBeforeA(a,k,g),view.makeDOMNodeIcon(g,a,k),data.getInnerAfterA(a,k,g),view.makeDOMNodeNameAfter(g,a,k),data.getAfterA(a,k,g),k.isParent&&k.open&&view.makeUlHtml(a,k,g,p.join("")),view.makeDOMNodeMainAfter(g,a,k),data.addCreatedNode(a,k))}return g},appendParentULDom:function(a,b){var c=[],d=$$(b,a);!d.get(0)&&b.parentTId&&(view.appendParentULDom(a,b.getParentNode()),d=$$(b,a));var e=$$(b,consts.id.UL,a);e.get(0)&&e.remove();var f=a.data.key.children,g=view.appendNodes(a,b.level+1,b[f],b,!1,!0);view.makeUlHtml(a,b,c,g.join("")),d.append(c.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&l>i;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;l>i;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(err){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(a,b,c){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,a,b,c]))}}),!0},cancelPreSelectedNode:function(a,b){for(var c=data.getRoot(a).curSelectedList,d=0,e=c.length-1;e>=d;e--)if((!b||b===c[e])&&($$(c[e],consts.id.A,a).removeClass(consts.node.CURSELECTED),b)){data.removeSelectedNode(a,b);break}b||(data.getRoot(a).curSelectedList=[])},createNodeCallback:function(a){if(a.callback.onNodeCreated||a.view.addDiyDom)for(var b=data.getRoot(a);b.createdNodes.length>0;){var c=b.createdNodes.shift();tools.apply(a.view.addDiyDom,[a.treeId,c]),a.callback.onNodeCreated&&a.treeObj.trigger(consts.event.NODECREATED,[a.treeId,c])}},createNodes:function(a,b,c,d){if(c&&0!=c.length){var e=data.getRoot(a),f=a.data.key.children,g=!d||d.open||!!$$(d[f][0],a).get(0);e.createdNodes=[];var h=view.appendNodes(a,b,c,d,!0,g);if(d){var i=$$(d,consts.id.UL,a);i.get(0)&&i.append(h.join(""))}else a.treeObj.append(h.join(""));view.createNodeCallback(a)}},destroy:function(a){a&&(data.initCache(a),data.initRoot(a),event.unbindTree(a),event.unbindEvent(a),a.treeObj.empty(),delete settings[a.treeId])},expandCollapseNode:function(a,b,c,d,e){var f=data.getRoot(a),g=a.data.key.children;if(!b)return void tools.apply(e,[]);if(f.expandTriggerFlag){var h=e;e=function(){h&&h(),b.open?a.treeObj.trigger(consts.event.EXPAND,[a.treeId,b]):a.treeObj.trigger(consts.event.COLLAPSE,[a.treeId,b])},f.expandTriggerFlag=!1}if(!b.open&&b.isParent&&(!$$(b,consts.id.UL,a).get(0)||b[g]&&b[g].length>0&&!$$(b[g][0],a).get(0))&&(view.appendParentULDom(a,b),view.createNodeCallback(a)),b.open==c)return void tools.apply(e,[]);var i=$$(b,consts.id.UL,a),j=$$(b,consts.id.SWITCH,a),k=$$(b,consts.id.ICON,a);b.isParent?(b.open=!b.open,b.iconOpen&&b.iconClose&&k.attr("style",view.makeNodeIcoStyle(a,b)),b.open?(view.replaceSwitchClass(b,j,consts.folder.OPEN),view.replaceIcoClass(b,k,consts.folder.OPEN),0==d||""==a.view.expandSpeed?(i.show(),tools.apply(e,[])):b[g]&&b[g].length>0?i.slideDown(a.view.expandSpeed,e):(i.show(),tools.apply(e,[]))):(view.replaceSwitchClass(b,j,consts.folder.CLOSE),view.replaceIcoClass(b,k,consts.folder.CLOSE),0!=d&&""!=a.view.expandSpeed&&b[g]&&b[g].length>0?i.slideUp(a.view.expandSpeed,e):(i.hide(),tools.apply(e,[])))):tools.apply(e,[])},expandCollapseParentNode:function(a,b,c,d,e){if(b){if(!b.parentTId)return void view.expandCollapseNode(a,b,c,d,e);view.expandCollapseNode(a,b,c,d),b.parentTId&&view.expandCollapseParentNode(a,b.getParentNode(),c,d,e)}},expandCollapseSonNode:function(a,b,c,d,e){var f=data.getRoot(a),g=a.data.key.children,h=b?b[g]:f[g],i=b?!1:d,j=data.getRoot(a).expandTriggerFlag;if(data.getRoot(a).expandTriggerFlag=!1,h)for(var k=0,l=h.length;l>k;k++)h[k]&&view.expandCollapseSonNode(a,h[k],c,i);data.getRoot(a).expandTriggerFlag=j,view.expandCollapseNode(a,b,c,d,e)},makeDOMNodeIcon:function(a,b,c){var d=data.getNodeName(b,c),e=b.view.nameIsHTML?d:d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a.push("<span id='",c.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(b,c),"' style='",view.makeNodeIcoStyle(b,c),"'></span><span id='",c.tId,consts.id.SPAN,"'>",e,"</span>")},makeDOMNodeLine:function(a,b,c){a.push("<span id='",c.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(b,c),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(a){a.push("</li>")},makeDOMNodeMainBefore:function(a,b,c){a.push("<li id='",c.tId,"' class='",consts.className.LEVEL,c.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(a){a.push("</a>")},makeDOMNodeNameBefore:function(a,b,c){var d=data.getNodeTitle(b,c),e=view.makeNodeUrl(b,c),f=view.makeNodeFontCss(b,c),g=[];for(var h in f)g.push(h,":",f[h],";");a.push("<a id='",c.tId,consts.id.A,"' class='",consts.className.LEVEL,c.level,"' treeNode",consts.id.A,' onclick="',c.click||"",'" ',null!=e&&e.length>0?"href='"+e+"'":""," target='",view.makeNodeTarget(c),"' style='",g.join(""),"'"),tools.apply(b.view.showTitle,[b.treeId,c],b.view.showTitle)&&d&&a.push("title='",d.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),a.push(">")},makeNodeFontCss:function(a,b){var c=tools.apply(a.view.fontCss,[a.treeId,b],a.view.fontCss);return c&&"function"!=typeof c?c:{}},makeNodeIcoClass:function(a,b){var c=["ico"];return b.isAjaxing||(c[0]=(b.iconSkin?b.iconSkin+"_":"")+c[0],c.push(b.isParent?b.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU)),consts.className.BUTTON+" "+c.join("_")},makeNodeIcoStyle:function(a,b){var c=[];if(!b.isAjaxing){var d=b.isParent&&b.iconOpen&&b.iconClose?b.open?b.iconOpen:b.iconClose:b.icon;d&&c.push("background:url(",d,") 0 0 no-repeat;"),0!=a.view.showIcon&&tools.apply(a.view.showIcon,[a.treeId,b],!0)||c.push("width:0px;height:0px;")}return c.join("")},makeNodeLineClass:function(a,b){var c=[];return c.push(a.view.showLine?0==b.level&&b.isFirstNode&&b.isLastNode?consts.line.ROOT:0==b.level&&b.isFirstNode?consts.line.ROOTS:b.isLastNode?consts.line.BOTTOM:consts.line.CENTER:consts.line.NOLINE),c.push(b.isParent?b.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU),view.makeNodeLineClassEx(b)+c.join("_")},makeNodeLineClassEx:function(a){return consts.className.BUTTON+" "+consts.className.LEVEL+a.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(a){return a.target||"_blank"},makeNodeUrl:function(a,b){var c=a.data.key.url;return b[c]?b[c]:null},makeUlHtml:function(a,b,c,d){c.push("<ul id='",b.tId,consts.id.UL,"' class='",consts.className.LEVEL,b.level," ",view.makeUlLineClass(a,b),"' style='display:",b.open?"block":"none","'>"),c.push(d),c.push("</ul>")},makeUlLineClass:function(a,b){return a.view.showLine&&!b.isLastNode?consts.line.LINE:""},removeChildNodes:function(a,b){if(b){var c=a.data.key.children,d=b[c];if(d){for(var e=0,f=d.length;f>e;e++)data.removeNodeCache(a,d[e]);if(data.removeSelectedNode(a),delete b[c],a.data.keep.parent)$$(b,consts.id.UL,a).empty();else{b.isParent=!1,b.open=!1;var g=$$(b,consts.id.SWITCH,a),h=$$(b,consts.id.ICON,a);view.replaceSwitchClass(b,g,consts.folder.DOCU),view.replaceIcoClass(b,h,consts.folder.DOCU),$$(b,consts.id.UL,a).remove()}}}},setFirstNode:function(a,b){var c=a.data.key.children,d=b[c].length;d>0&&(b[c][0].isFirstNode=!0)},setLastNode:function(a,b){var c=a.data.key.children,d=b[c].length;
d>0&&(b[c][d-1].isLastNode=!0)},removeNode:function(a,b){var c=data.getRoot(a),d=a.data.key.children,e=b.parentTId?b.getParentNode():c;if(b.isFirstNode=!1,b.isLastNode=!1,b.getPreNode=function(){return null},b.getNextNode=function(){return null},data.getNodeCache(a,b.tId)){$$(b,a).remove(),data.removeNodeCache(a,b),data.removeSelectedNode(a,b);for(var f=0,g=e[d].length;g>f;f++)if(e[d][f].tId==b.tId){e[d].splice(f,1);break}view.setFirstNode(a,e),view.setLastNode(a,e);var h,i,j,k=e[d].length;if(a.data.keep.parent||0!=k){if(a.view.showLine&&k>0){var l=e[d][k-1];if(h=$$(l,consts.id.UL,a),i=$$(l,consts.id.SWITCH,a),j=$$(l,consts.id.ICON,a),e==c)if(1==e[d].length)view.replaceSwitchClass(l,i,consts.line.ROOT);else{var m=$$(e[d][0],consts.id.SWITCH,a);view.replaceSwitchClass(e[d][0],m,consts.line.ROOTS),view.replaceSwitchClass(l,i,consts.line.BOTTOM)}else view.replaceSwitchClass(l,i,consts.line.BOTTOM);h.removeClass(consts.line.LINE)}}else e.isParent=!1,e.open=!1,h=$$(e,consts.id.UL,a),i=$$(e,consts.id.SWITCH,a),j=$$(e,consts.id.ICON,a),view.replaceSwitchClass(e,i,consts.folder.DOCU),view.replaceIcoClass(e,j,consts.folder.DOCU),h.css("display","none")}},replaceIcoClass:function(a,b,c){if(b&&!a.isAjaxing){var d=b.attr("class");if(void 0!=d){var e=d.split("_");switch(c){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:e[e.length-1]=c}b.attr("class",e.join("_"))}}},replaceSwitchClass:function(a,b,c){if(b){var d=b.attr("class");if(void 0!=d){var e=d.split("_");switch(c){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:e[0]=view.makeNodeLineClassEx(a)+c;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:e[1]=c}b.attr("class",e.join("_")),c!==consts.folder.DOCU?b.removeAttr("disabled"):b.attr("disabled","disabled")}}},selectNode:function(a,b,c){c||view.cancelPreSelectedNode(a),$$(b,consts.id.A,a).addClass(consts.node.CURSELECTED),data.addSelectedNode(a,b)},setNodeFontCss:function(a,b){var c=$$(b,consts.id.A,a),d=view.makeNodeFontCss(a,b);d&&c.css(d)},setNodeLineIcos:function(a,b){if(b){var c=$$(b,consts.id.SWITCH,a),d=$$(b,consts.id.UL,a),e=$$(b,consts.id.ICON,a),f=view.makeUlLineClass(a,b);0==f.length?d.removeClass(consts.line.LINE):d.addClass(f),c.attr("class",view.makeNodeLineClass(a,b)),b.isParent?c.removeAttr("disabled"):c.attr("disabled","disabled"),e.removeAttr("style"),e.attr("style",view.makeNodeIcoStyle(a,b)),e.attr("class",view.makeNodeIcoClass(a,b))}},setNodeName:function(a,b){var c=data.getNodeTitle(a,b),d=$$(b,consts.id.SPAN,a);if(d.empty(),a.view.nameIsHTML?d.html(data.getNodeName(a,b)):d.text(data.getNodeName(a,b)),tools.apply(a.view.showTitle,[a.treeId,b],a.view.showTitle)){var e=$$(b,consts.id.A,a);e.attr("title",c?c:"")}},setNodeTarget:function(a,b){var c=$$(b,consts.id.A,a);c.attr("target",view.makeNodeTarget(b))},setNodeUrl:function(a,b){var c=$$(b,consts.id.A,a),d=view.makeNodeUrl(a,b);null==d||0==d.length?c.removeAttr("href"):c.attr("href",d)},switchNode:function(a,b){if(b.open||!tools.canAsync(a,b))view.expandCollapseNode(a,b,!b.open);else if(a.async.enable){if(!view.asyncNode(a,b))return void view.expandCollapseNode(a,b,!b.open)}else b&&view.expandCollapseNode(a,b,!b.open)}};$.widget("fish.tree",{widgetEventPrefix:"tree",options:{treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_create:function(){var a=this.options;a.treeId=this.element.attr("id")?this.element.attr("id"):this.uuid,a.treeObj=this.element,a.treeObj.empty(),settings[a.treeId]=a,"undefined"==typeof document.body.style.maxHeight&&(a.view.expandSpeed=""),data.initRoot(a);var b=data.getRoot(a),c=a.data.key.children,d=a.fNodes;d=d?tools.clone(tools.isArray(d)?d:[d]):[],b[c]=a.data.simpleData.enable?data.transformTozTreeFormat(a,d):d,data.initCache(a),event.unbindTree(a),event.bindTree(a),event.unbindEvent(a),event.bindEvent(a),b[c]&&b[c].length>0?view.createNodes(a,0,b[c]):a.async.enable&&a.async.url&&""!==a.async.url&&view.asyncNode(a)},_setOption:function(a,b){if(this._super(a,b),"fNodes"==a){var c=this.options;c.treeObj.empty(),data.initRoot(c);var d=data.getRoot(c),e=c.data.key.children,f=c.fNodes;f=f?tools.clone(tools.isArray(f)?f:[f]):[],d[e]=c.data.simpleData.enable?data.transformTozTreeFormat(c,f):f,data.initCache(c),event.unbindTree(c),event.bindTree(c),event.unbindEvent(c),event.bindEvent(c),view.createNodes(c,0,d[c.data.key.children])}},addNodes:function(a,b,c){function d(){view.addNodes(e,a,f,1==c)}var e=this.options;if(!b)return null;if(a||(a=null),a&&!a.isParent&&e.data.keep.leaf)return null;var f=tools.clone(tools.isArray(b)?b:[b]);return tools.canAsync(e,a)?view.asyncNode(e,a,c,d):d(),f},cancelSelectedNode:function(a){view.cancelPreSelectedNode(this.options,a)},destroy:function(){view.destroy(this.options),$.Widget.prototype.destroy.call(this)},expandAll:function(a){return a=!!a,view.expandCollapseSonNode(this.options,null,a,!0),a},expandNode:function(a,b,c,d,e){var f=this.options;if(!a||!a.isParent)return null;if(b!==!0&&b!==!1&&(b=!a.open),e=!!e,e&&b&&0==tools.apply(f.callback.beforeExpand,[f.treeId,a],!0))return null;if(e&&!b&&0==tools.apply(f.callback.beforeCollapse,[f.treeId,a],!0))return null;if(b&&a.parentTId&&view.expandCollapseParentNode(f,a.getParentNode(),b,!1),b===a.open&&!c)return null;if(data.getRoot(f).expandTriggerFlag=e,!tools.canAsync(f,a)&&c)view.expandCollapseSonNode(f,a,b,!0,function(){if(d!==!1)try{$$(a,f).focus().blur()}catch(b){}});else if(a.open=!b,view.switchNode(this.options,a),d!==!1)try{$$(a,f).focus().blur()}catch(g){}return b},getNodes:function(){return data.getNodes(this.options)},getNodeByParam:function(a,b,c){return a?data.getNodeByParam(this.options,c?c[this.options.data.key.children]:data.getNodes(this.options),a,b):null},getNodeByTId:function(a){return data.getNodeCache(this.options,a)},getNodesByParam:function(a,b,c){if(!a)return null;var d=this.options;return data.getNodesByParam(d,c?c[d.data.key.children]:data.getNodes(d),a,b)},getNodesByParamFuzzy:function(a,b,c){if(!a)return null;var d=this.options;return data.getNodesByParamFuzzy(d,c?c[d.data.key.children]:data.getNodes(d),a,b)},getNodesByFilter:function(a,b,c,d){var e=this.options;return b=!!b,a&&"function"==typeof a?data.getNodesByFilter(e,c?c[e.data.key.children]:data.getNodes(e),a,b,d):b?null:[]},getNodeIndex:function(a){var b=this.options;if(!a)return null;for(var c=b.data.key.children,d=a.parentTId?a.getParentNode():data.getRoot(b),e=0,f=d[c].length;f>e;e++)if(d[c][e]==a)return e;return-1},getSelectedNodes:function(){for(var a=[],b=data.getRoot(this.options).curSelectedList,c=0,d=b.length;d>c;c++)a.push(b[c]);return a},isSelectedNode:function(a){return data.isSelectedNode(this.options,a)},reAsyncChildNodes:function(a,b,c){var d=this.options;if(this.options.async.enable){var e=!a;if(e&&(a=data.getRoot(d)),"refresh"==b){for(var f=this.options.data.key.children,g=0,h=a[f]?a[f].length:0;h>g;g++)data.removeNodeCache(d,a[f][g]);if(data.removeSelectedNode(d),a[f]=[],e)this.options.treeObj.empty();else{var i=$$(a,consts.id.UL,d);i.empty()}}view.asyncNode(this.options,e?null:a,!!c)}},refresh:function(){var a=this.options;this.options.treeObj.empty();var b=data.getRoot(a),c=b[a.data.key.children];data.initRoot(a),b[a.data.key.children]=c,data.initCache(a),view.createNodes(a,0,b[a.data.key.children])},removeChildNodes:function(a){var b=this.options;if(!a)return null;var c=b.data.key.children,d=a[c];return view.removeChildNodes(b,a),d?d:null},removeNode:function(a,b){var c=this.options;a&&(b=!!b,b&&0==tools.apply(c.callback.beforeRemove,[c.treeId,a],!0)||(view.removeNode(c,a),b&&this.options.treeObj.trigger(consts.event.REMOVE,[c.treeId,a])))},selectNode:function(a,b){var c=this.options;if(a&&tools.uCanDo(c)){if(b=c.view.selectedMulti&&b,a.parentTId)view.expandCollapseParentNode(c,a.getParentNode(),!0,!1,function(){try{$$(a,c).focus().blur()}catch(b){}});else try{$$(a,c).focus().blur()}catch(d){}view.selectNode(c,a,b)}},transformTozTreeNodes:function(a){var b=this.options;return data.transformTozTreeFormat(b,a)},transformToArray:function(a){var b=this.options;return data.transformToArrayFormat(b,a)},updateNode:function(a){var b=this.options;if(a){var c=$$(a,b);c.get(0)&&tools.uCanDo(b)&&(view.setNodeName(b,a),view.setNodeTarget(b,a),view.setNodeUrl(b,a),view.setNodeLineIcos(b,a),view.setNodeFontCss(b,a))}}}),$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function($){var a={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},b={check:{enable:!1,autoCheckTrigger:!1,chkStyle:a.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:a.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},c=function(a){var b=t.getRoot(a);b.radioCheckedList=[]},d=function(){},e=function(a){var b=a.treeObj,c=r.event;b.bind(c.CHECK,function(b,c,d,e){b.srcEvent=c,q.apply(a.callback.onCheck,[b,d,e])})},f=function(a){var b=a.treeObj,c=r.event;b.unbind(c.CHECK)},g=function(a){var b=a.target,c=t.getSetting(a.data.treeId),d="",e=null,f="",g="",h=null,i=null;if(q.eqs(a.type,"mouseover")?c.check.enable&&q.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+r.id.CHECK)&&(d=q.getNodeMainDom(b).id,f="mouseoverCheck"):q.eqs(a.type,"mouseout")?c.check.enable&&q.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+r.id.CHECK)&&(d=q.getNodeMainDom(b).id,f="mouseoutCheck"):q.eqs(a.type,"click")&&c.check.enable&&q.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+r.id.CHECK)&&(d=q.getNodeMainDom(b).id,f="checkNode"),d.length>0)switch(e=t.getNodeCache(c,d),f){case"checkNode":h=l.onCheckNode;break;case"mouseoverCheck":h=l.onMouseoverCheck;break;case"mouseoutCheck":h=l.onMouseoutCheck}var j={stop:"checkNode"===f,node:e,nodeEventType:f,nodeEventCallback:h,treeEventType:g,treeEventCallback:i};return j},h=function(a,b,c,d){if(c){var e=a.data.key.checked;if("string"==typeof c[e]&&(c[e]=q.eqs(c[e],"true")),c[e]=!!c[e],c.checkedOld=c[e],"string"==typeof c.nocheck&&(c.nocheck=q.eqs(c.nocheck,"true")),c.nocheck=!!c.nocheck||a.check.nocheckInherit&&d&&!!d.nocheck,"string"==typeof c.chkDisabled&&(c.chkDisabled=q.eqs(c.chkDisabled,"true")),c.chkDisabled=!!c.chkDisabled||a.check.chkDisabledInherit&&d&&!!d.chkDisabled,"string"==typeof c.halfCheck&&(c.halfCheck=q.eqs(c.halfCheck,"true")),c.halfCheck=!!c.halfCheck,c.check_Child_State=-1,c.check_Focus=!1,c.getCheckStatus=function(){return t.getCheckStatus(a,c)},a.check.chkStyle==r.radio.STYLE&&a.check.radioType==r.radio.TYPE_ALL&&c[e]){var f=t.getRoot(a);f.radioCheckedList.push(c)}}},i=function(a,b,c){a.data.key.checked;a.check.enable&&(t.makeChkFlag(a,b),c.push("<span ID='",b.tId,r.id.CHECK,"' class='",s.makeChkClass(a,b),"' treeNode",r.id.CHECK,b.nocheck===!0?" style='display:none;'":"","></span>"))},j={getRadioCheckedList:function(a){for(var b=t.getRoot(a).radioCheckedList,c=0,d=b.length;d>c;c++)t.getNodeCache(a,b[c].tId)||(b.splice(c,1),c--,d--);return b},getCheckStatus:function(a,b){if(!a.check.enable||b.nocheck||b.chkDisabled)return null;var c=a.data.key.checked,d={checked:b[c],half:b.halfCheck?b.halfCheck:a.check.chkStyle==r.radio.STYLE?2===b.check_Child_State:b[c]?b.check_Child_State>-1&&b.check_Child_State<2:b.check_Child_State>0};return d},getTreeCheckedNodes:function(a,b,c,d){if(!b)return[];var e=a.data.key.children,f=a.data.key.checked,g=c&&a.check.chkStyle==r.radio.STYLE&&a.check.radioType==r.radio.TYPE_ALL;d=d?d:[];for(var h=0,i=b.length;i>h&&(b[h].nocheck===!0||b[h].chkDisabled===!0||b[h][f]!=c||(d.push(b[h]),!g))&&(t.getTreeCheckedNodes(a,b[h][e],c,d),!(g&&d.length>0));h++);return d},getTreeChangeCheckedNodes:function(a,b,c){if(!b)return[];var d=a.data.key.children,e=a.data.key.checked;c=c?c:[];for(var f=0,g=b.length;g>f;f++)b[f].nocheck!==!0&&b[f].chkDisabled!==!0&&b[f][e]!=b[f].checkedOld&&c.push(b[f]),t.getTreeChangeCheckedNodes(a,b[f][d],c);return c},makeChkFlag:function(a,b){if(b){var c=a.data.key.children,d=a.data.key.checked,e=-1;if(b[c])for(var f=0,g=b[c].length;g>f;f++){var h=b[c][f],i=-1;if(a.check.chkStyle==r.radio.STYLE){if(i=h.nocheck===!0||h.chkDisabled===!0?h.check_Child_State:h.halfCheck===!0?2:h[d]?2:h.check_Child_State>0?2:0,2==i){e=2;break}0==i&&(e=0)}else if(a.check.chkStyle==r.checkbox.STYLE){if(i=h.nocheck===!0||h.chkDisabled===!0?h.check_Child_State:h.halfCheck===!0?1:h[d]?-1===h.check_Child_State||2===h.check_Child_State?2:1:h.check_Child_State>0?1:0,1===i){e=1;break}if(2===i&&e>-1&&f>0&&i!==e){e=1;break}if(2===e&&i>-1&&2>i){e=1;break}i>-1&&(e=i)}}b.check_Child_State=e}}},k={},l={onCheckNode:function(a,b){if(b.chkDisabled===!0)return!1;var c=t.getSetting(a.data.treeId),d=c.data.key.checked;if(0==q.apply(c.callback.beforeCheck,[c.treeId,b],!0))return!0;b[d]=!b[d],s.checkNodeRelation(c,b);var e=u(b,r.id.CHECK,c);return s.setChkClass(c,e,b),s.repairParentChkClassWithSelf(c,b),c.treeObj.trigger(r.event.CHECK,[a,c.treeId,b]),!0},onMouseoverCheck:function(a,b){if(b.chkDisabled===!0)return!1;var c=t.getSetting(a.data.treeId),d=u(b,r.id.CHECK,c);return b.check_Focus=!0,s.setChkClass(c,d,b),!0},onMouseoutCheck:function(a,b){if(b.chkDisabled===!0)return!1;var c=t.getSetting(a.data.treeId),d=u(b,r.id.CHECK,c);return b.check_Focus=!1,s.setChkClass(c,d,b),!0}},m={},n={checkNodeRelation:function(a,b){var c,d,e,f=a.data.key.children,g=a.data.key.checked,h=r.radio;if(a.check.chkStyle==h.STYLE){var i=t.getRadioCheckedList(a);if(b[g])if(a.check.radioType==h.TYPE_ALL){for(d=i.length-1;d>=0;d--)c=i[d],c[g]&&c!=b&&(c[g]=!1,i.splice(d,1),s.setChkClass(a,u(c,r.id.CHECK,a),c),c.parentTId!=b.parentTId&&s.repairParentChkClassWithSelf(a,c));i.push(b)}else{var j=b.parentTId?b.getParentNode():t.getRoot(a);for(d=0,e=j[f].length;e>d;d++)c=j[f][d],c[g]&&c!=b&&(c[g]=!1,s.setChkClass(a,u(c,r.id.CHECK,a),c))}else if(a.check.radioType==h.TYPE_ALL)for(d=0,e=i.length;e>d;d++)if(b==i[d]){i.splice(d,1);break}}else b[g]&&(!b[f]||0==b[f].length||a.check.chkboxType.Y.indexOf("s")>-1)&&s.setSonNodeCheckBox(a,b,!0),b[g]||b[f]&&0!=b[f].length&&!(a.check.chkboxType.N.indexOf("s")>-1)||s.setSonNodeCheckBox(a,b,!1),b[g]&&a.check.chkboxType.Y.indexOf("p")>-1&&s.setParentNodeCheckBox(a,b,!0),!b[g]&&a.check.chkboxType.N.indexOf("p")>-1&&s.setParentNodeCheckBox(a,b,!1)},makeChkClass:function(a,b){var c=a.data.key.checked,d=r.checkbox,e=r.radio,f="";f=b.chkDisabled===!0?d.DISABLED:b.halfCheck?d.PART:a.check.chkStyle==e.STYLE?b.check_Child_State<1?d.FULL:d.PART:b[c]?2===b.check_Child_State||-1===b.check_Child_State?d.FULL:d.PART:b.check_Child_State<1?d.FULL:d.PART;var g=a.check.chkStyle+"_"+(b[c]?d.TRUE:d.FALSE)+"_"+f;return g=b.check_Focus&&b.chkDisabled!==!0?g+"_"+d.FOCUS:g,r.className.BUTTON+" "+d.DEFAULT+" "+g},repairAllChk:function(a,b){if(a.check.enable&&a.check.chkStyle===r.checkbox.STYLE)for(var c=a.data.key.checked,d=a.data.key.children,e=t.getRoot(a),f=0,g=e[d].length;g>f;f++){var h=e[d][f];h.nocheck!==!0&&h.chkDisabled!==!0&&(h[c]=b),s.setSonNodeCheckBox(a,h,b)}},repairChkClass:function(a,b){if(b&&(t.makeChkFlag(a,b),b.nocheck!==!0)){var c=u(b,r.id.CHECK,a);s.setChkClass(a,c,b)}},repairParentChkClass:function(a,b){if(b&&b.parentTId){var c=b.getParentNode();s.repairChkClass(a,c),s.repairParentChkClass(a,c)}},repairParentChkClassWithSelf:function(a,b){if(b){var c=a.data.key.children;b[c]&&b[c].length>0?s.repairParentChkClass(a,b[c][0]):s.repairParentChkClass(a,b)}},repairSonChkDisabled:function(a,b,c,d){if(b){var e=a.data.key.children;if(b.chkDisabled!=c&&(b.chkDisabled=c),s.repairChkClass(a,b),b[e]&&d)for(var f=0,g=b[e].length;g>f;f++){var h=b[e][f];s.repairSonChkDisabled(a,h,c,d)}}},repairParentChkDisabled:function(a,b,c,d){b&&(b.chkDisabled!=c&&d&&(b.chkDisabled=c),s.repairChkClass(a,b),s.repairParentChkDisabled(a,b.getParentNode(),c,d))},setChkClass:function(a,b,c){b&&(c.nocheck===!0?b.hide():b.show(),b.attr("class",s.makeChkClass(a,c)))},setParentNodeCheckBox:function(a,b,c,d){var e=a.data.key.children,f=a.data.key.checked,g=u(b,r.id.CHECK,a);if(d||(d=b),t.makeChkFlag(a,b),b.nocheck!==!0&&b.chkDisabled!==!0&&(b[f]=c,s.setChkClass(a,g,b),a.check.autoCheckTrigger&&b!=d&&a.treeObj.trigger(r.event.CHECK,[null,a.treeId,b])),b.parentTId){var h=!0;if(!c)for(var i=b.getParentNode()[e],j=0,k=i.length;k>j;j++)if(i[j].nocheck!==!0&&i[j].chkDisabled!==!0&&i[j][f]||(i[j].nocheck===!0||i[j].chkDisabled===!0)&&i[j].check_Child_State>0){h=!1;break}h&&s.setParentNodeCheckBox(a,b.getParentNode(),c,d)}},setSonNodeCheckBox:function(a,b,c,d){if(b){var e=a.data.key.children,f=a.data.key.checked,g=u(b,r.id.CHECK,a);d||(d=b);var h=!1;if(b[e])for(var i=0,j=b[e].length;j>i&&b.chkDisabled!==!0;i++){var k=b[e][i];s.setSonNodeCheckBox(a,k,c,d),k.chkDisabled===!0&&(h=!0)}b!=t.getRoot(a)&&b.chkDisabled!==!0&&(h&&b.nocheck!==!0&&t.makeChkFlag(a,b),b.nocheck!==!0&&b.chkDisabled!==!0?(b[f]=c,h||(b.check_Child_State=b[e]&&b[e].length>0?c?2:0:-1)):b.check_Child_State=-1,s.setChkClass(a,g,b),a.check.autoCheckTrigger&&b!=d&&b.nocheck!==!0&&b.chkDisabled!==!0&&a.treeObj.trigger(r.event.CHECK,[null,a.treeId,b]))}}},o={tools:m,view:n,event:k,data:j};$.extend(!0,$.fn.zTree.consts,a),$.extend(!0,$.fn.zTree._z,o);var p=$.fn.zTree,q=p._z.tools,r=p.consts,s=p._z.view,t=p._z.data,u=(p._z.event,q.$);$.extend(!0,$.fish.tree.prototype.options,b),t.addInitBind(e),t.addInitUnBind(f),t.addInitCache(d),t.addInitNode(h),t.addInitProxy(g,!0),t.addInitRoot(c),t.addBeforeA(i);var v={checkNode:function(a,b,c,d){var e=this.options.data.key.checked;if(a.chkDisabled!==!0&&(b!==!0&&b!==!1&&(b=!a[e]),d=!!d,(a[e]!==b||c)&&(!d||0!=q.apply(this.options.callback.beforeCheck,[this.options.treeId,a],!0))&&q.uCanDo(this.options)&&this.options.check.enable&&a.nocheck!==!0)){a[e]=b;var f=u(a,r.id.CHECK,this.options);(c||this.options.check.chkStyle===r.radio.STYLE)&&s.checkNodeRelation(this.options,a),s.setChkClass(this.options,f,a),s.repairParentChkClassWithSelf(this.options,a),d&&this.options.treeObj.trigger(r.event.CHECK,[null,this.options.treeId,a])}},checkAllNodes:function(a){s.repairAllChk(this.options,!!a)},getCheckedNodes:function(a){var b=this.options.data.key.children;return a=a!==!1,t.getTreeCheckedNodes(this.options,t.getRoot(this.options)[b],a)},getChangeCheckedNodes:function(){var a=this.options.data.key.children;return t.getTreeChangeCheckedNodes(this.options,t.getRoot(this.options)[a])},setChkDisabled:function(a,b,c,d){b=!!b,c=!!c,d=!!d,s.repairSonChkDisabled(this.options,a,b,d),s.repairParentChkDisabled(this.options,a.getParentNode(),b,c)}};$.extend(!0,$.fish.tree.prototype,v);var w=$.fish.tree.prototype.updateNode;$.fish.tree.prototype.updateNode=function(a,b){w&&w.apply(this,arguments);var c=this.options;if(a&&c.check.enable){var d=u(a,c);if(d.get(0)&&q.uCanDo(c)){var e=u(a,r.id.CHECK,c);(1==b||c.check.chkStyle===r.radio.STYLE)&&s.checkNodeRelation(c,a),s.setChkClass(c,e,a),s.repairParentChkClassWithSelf(c,a)}}};var x=s.createNodes;s.createNodes=function(a,b,c,d){x&&x.apply(s,arguments),c&&s.repairParentChkClassWithSelf(a,d)};var y=s.removeNode;s.removeNode=function(a,b){var c=b.getParentNode();y&&y.apply(s,arguments),b&&c&&(s.repairChkClass(a,c),s.repairParentChkClass(a,c))};var z=s.appendNodes;s.appendNodes=function(a,b,c,d){var e="";return z&&(e=z.apply(s,arguments)),d&&t.makeChkFlag(a,d),e}});